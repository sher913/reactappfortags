{"version":3,"file":"pdfkit.es5.js","sources":["../lib/abstract_reference.js","../lib/tree.js","../lib/object.js","../lib/reference.js","../lib/page.js","../lib/name_tree.js","../lib/saslprep/lib/util.js","../lib/saslprep/lib/code-points.js","../lib/saslprep/index.js","../lib/security.js","../lib/gradient.js","../lib/mixins/color.js","../lib/path.js","../lib/mixins/vector.js","../lib/font/afm.js","../lib/font.js","../lib/font/standard.js","../lib/font/embedded.js","../lib/font_factory.js","../lib/mixins/fonts.js","../lib/line_wrapper.js","../lib/mixins/text.js","../lib/image/jpeg.js","../lib/image/png.js","../lib/image.js","../lib/mixins/images.js","../lib/mixins/annotations.js","../lib/outline.js","../lib/mixins/outline.js","../lib/structure_content.js","../lib/structure_element.js","../lib/number_tree.js","../lib/mixins/markings.js","../lib/mixins/acroform.js","../lib/mixins/attachments.js","../lib/document.js"],"sourcesContent":["/*\r\nPDFAbstractReference - abstract class for PDF reference\r\n*/\r\n\r\nclass PDFAbstractReference {\r\n  toString() {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n}\r\n\r\nexport default PDFAbstractReference;\r\n","/*\r\nPDFTree - abstract base class for name and number tree objects\r\n*/\r\n\r\nimport PDFObject from './object';\r\n\r\nclass PDFTree {\r\n  constructor(options = {}) {\r\n    this._items = {};\r\n    // disable /Limits output for this tree\r\n    this.limits =\r\n      typeof options.limits === 'boolean' ? options.limits : true;\r\n  }\r\n\r\n  add(key, val) {\r\n    return (this._items[key] = val);\r\n  }\r\n\r\n  get(key) {\r\n    return this._items[key];\r\n  }\r\n\r\n  toString() {\r\n    // Needs to be sorted by key\r\n    const sortedKeys = Object.keys(this._items).sort((a, b) =>\r\n      this._compareKeys(a, b)\r\n    );\r\n\r\n    const out = ['<<'];\r\n    if (this.limits && sortedKeys.length > 1) {\r\n      const first = sortedKeys[0],\r\n        last = sortedKeys[sortedKeys.length - 1];\r\n      out.push(\r\n        `  /Limits ${PDFObject.convert([this._dataForKey(first), this._dataForKey(last)])}`\r\n      );\r\n    }\r\n    out.push(`  /${this._keysName()} [`);\r\n    for (let key of sortedKeys) {\r\n      out.push(\r\n        `    ${PDFObject.convert(this._dataForKey(key))} ${PDFObject.convert(\r\n          this._items[key]\r\n        )}`\r\n      );\r\n    }\r\n    out.push(']');\r\n    out.push('>>');\r\n    return out.join('\\n');\r\n  }\r\n\r\n  _compareKeys(/*a, b*/) {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n\r\n  _keysName() {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n\r\n  _dataForKey(/*k*/) {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n}\r\n\r\nexport default PDFTree;\r\n","/*\r\nPDFObject - converts JavaScript types into their corresponding PDF types.\r\nBy Devon Govett\r\n*/\r\n\r\nimport PDFAbstractReference from './abstract_reference';\r\nimport PDFTree from './tree';\r\n\r\nconst pad = (str, length) => (Array(length + 1).join('0') + str).slice(-length);\r\n\r\nconst escapableRe = /[\\n\\r\\t\\b\\f()\\\\]/g;\r\nconst escapable = {\r\n  '\\n': '\\\\n',\r\n  '\\r': '\\\\r',\r\n  '\\t': '\\\\t',\r\n  '\\b': '\\\\b',\r\n  '\\f': '\\\\f',\r\n  '\\\\': '\\\\\\\\',\r\n  '(': '\\\\(',\r\n  ')': '\\\\)'\r\n};\r\n\r\n// Convert little endian UTF-16 to big endian\r\nconst swapBytes = function(buff) {\r\n  const l = buff.length;\r\n  if (l & 0x01) {\r\n    throw new Error('Buffer length must be even');\r\n  } else {\r\n    for (let i = 0, end = l - 1; i < end; i += 2) {\r\n      const a = buff[i];\r\n      buff[i] = buff[i + 1];\r\n      buff[i + 1] = a;\r\n    }\r\n  }\r\n\r\n  return buff;\r\n};\r\n\r\nclass PDFObject {\r\n  static convert(object, encryptFn = null) {\r\n    // String literals are converted to the PDF name type\r\n    if (typeof object === 'string') {\r\n      return `/${object}`;\r\n\r\n      // String objects are converted to PDF strings (UTF-16)\r\n    } else if (object instanceof String) {\r\n      let string = object;\r\n      // Detect if this is a unicode string\r\n      let isUnicode = false;\r\n      for (let i = 0, end = string.length; i < end; i++) {\r\n        if (string.charCodeAt(i) > 0x7f) {\r\n          isUnicode = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // If so, encode it as big endian UTF-16\r\n      let stringBuffer;\r\n      if (isUnicode) {\r\n        stringBuffer = swapBytes(Buffer.from(`\\ufeff${string}`, 'utf16le'));\r\n      } else {\r\n        stringBuffer = Buffer.from(string.valueOf(), 'ascii');\r\n      }\r\n\r\n      // Encrypt the string when necessary\r\n      if (encryptFn) {\r\n        string = encryptFn(stringBuffer).toString('binary');\r\n      } else {\r\n        string = stringBuffer.toString('binary');\r\n      }\r\n\r\n      // Escape characters as required by the spec\r\n      string = string.replace(escapableRe, c => escapable[c]);\r\n\r\n      return `(${string})`;\r\n\r\n      // Buffers are converted to PDF hex strings\r\n    } else if (Buffer.isBuffer(object)) {\r\n      return `<${object.toString('hex')}>`;\r\n    } else if (\r\n      object instanceof PDFAbstractReference ||\r\n      object instanceof PDFTree\r\n    ) {\r\n      return object.toString();\r\n    } else if (object instanceof Date) {\r\n      let string =\r\n        `D:${pad(object.getUTCFullYear(), 4)}` +\r\n        pad(object.getUTCMonth() + 1, 2) +\r\n        pad(object.getUTCDate(), 2) +\r\n        pad(object.getUTCHours(), 2) +\r\n        pad(object.getUTCMinutes(), 2) +\r\n        pad(object.getUTCSeconds(), 2) +\r\n        'Z';\r\n\r\n      // Encrypt the string when necessary\r\n      if (encryptFn) {\r\n        string = encryptFn(Buffer.from(string, 'ascii')).toString('binary');\r\n\r\n        // Escape characters as required by the spec\r\n        string = string.replace(escapableRe, c => escapable[c]);\r\n      }\r\n\r\n      return `(${string})`;\r\n    } else if (Array.isArray(object)) {\r\n      const items = object.map(e => PDFObject.convert(e, encryptFn)).join(' ');\r\n      return `[${items}]`;\r\n    } else if ({}.toString.call(object) === '[object Object]') {\r\n      const out = ['<<'];\r\n      for (let key in object) {\r\n        const val = object[key];\r\n        out.push(`/${key} ${PDFObject.convert(val, encryptFn)}`);\r\n      }\r\n\r\n      out.push('>>');\r\n      return out.join('\\n');\r\n    } else if (typeof object === 'number') {\r\n      return PDFObject.number(object);\r\n    } else {\r\n      return `${object}`;\r\n    }\r\n  }\r\n\r\n  static number(n) {\r\n    if (n > -1e21 && n < 1e21) {\r\n      return Math.round(n * 1e6) / 1e6;\r\n    }\r\n\r\n    throw new Error(`unsupported number: ${n}`);\r\n  }\r\n}\r\n\r\nexport default PDFObject;\r\n","/*\r\nPDFReference - represents a reference to another object in the PDF object heirarchy\r\nBy Devon Govett\r\n*/\r\n\r\nimport zlib from 'zlib';\r\nimport PDFAbstractReference from './abstract_reference';\r\nimport PDFObject from './object';\r\n\r\nclass PDFReference extends PDFAbstractReference {\r\n  constructor(document, id, data = {}) {\r\n    super();\r\n    this.document = document;\r\n    this.id = id;\r\n    this.data = data;\r\n    this.gen = 0;\r\n    this.compress = this.document.compress && !this.data.Filter;\r\n    this.uncompressedLength = 0;\r\n    this.buffer = [];\r\n  }\r\n\r\n  write(chunk) {\r\n    if (!Buffer.isBuffer(chunk)) {\r\n      chunk = Buffer.from(chunk + '\\n', 'binary');\r\n    }\r\n\r\n    this.uncompressedLength += chunk.length;\r\n    if (this.data.Length == null) {\r\n      this.data.Length = 0;\r\n    }\r\n    this.buffer.push(chunk);\r\n    this.data.Length += chunk.length;\r\n    if (this.compress) {\r\n      return (this.data.Filter = 'FlateDecode');\r\n    }\r\n  }\r\n\r\n  end(chunk) {\r\n    if (chunk) {\r\n      this.write(chunk);\r\n    }\r\n    return this.finalize();\r\n  }\r\n\r\n  finalize() {\r\n    this.offset = this.document._offset;\r\n\r\n    const encryptFn = this.document._security\r\n      ? this.document._security.getEncryptFn(this.id, this.gen)\r\n      : null;\r\n\r\n    if (this.buffer.length) {\r\n      this.buffer = Buffer.concat(this.buffer);\r\n      if (this.compress) {\r\n        this.buffer = zlib.deflateSync(this.buffer);\r\n      }\r\n\r\n      if (encryptFn) {\r\n        this.buffer = encryptFn(this.buffer);\r\n      }\r\n\r\n      this.data.Length = this.buffer.length;\r\n    }\r\n\r\n    this.document._write(`${this.id} ${this.gen} obj`);\r\n    this.document._write(PDFObject.convert(this.data, encryptFn));\r\n\r\n    if (this.buffer.length) {\r\n      this.document._write('stream');\r\n      this.document._write(this.buffer);\r\n\r\n      this.buffer = []; // free up memory\r\n      this.document._write('\\nendstream');\r\n    }\r\n\r\n    this.document._write('endobj');\r\n    this.document._refEnd(this);\r\n  }\r\n  toString() {\r\n    return `${this.id} ${this.gen} R`;\r\n  }\r\n}\r\n\r\nexport default PDFReference;\r\n","/*\r\nPDFPage - represents a single page in the PDF document\r\nBy Devon Govett\r\n*/\r\n\r\nconst DEFAULT_MARGINS = {\r\n  top: 72,\r\n  left: 72,\r\n  bottom: 72,\r\n  right: 72\r\n};\r\n\r\nconst SIZES = {\r\n  '4A0': [4767.87, 6740.79],\r\n  '2A0': [3370.39, 4767.87],\r\n  A0: [2383.94, 3370.39],\r\n  A1: [1683.78, 2383.94],\r\n  A2: [1190.55, 1683.78],\r\n  A3: [841.89, 1190.55],\r\n  A4: [595.28, 841.89],\r\n  A5: [419.53, 595.28],\r\n  A6: [297.64, 419.53],\r\n  A7: [209.76, 297.64],\r\n  A8: [147.4, 209.76],\r\n  A9: [104.88, 147.4],\r\n  A10: [73.7, 104.88],\r\n  B0: [2834.65, 4008.19],\r\n  B1: [2004.09, 2834.65],\r\n  B2: [1417.32, 2004.09],\r\n  B3: [1000.63, 1417.32],\r\n  B4: [708.66, 1000.63],\r\n  B5: [498.9, 708.66],\r\n  B6: [354.33, 498.9],\r\n  B7: [249.45, 354.33],\r\n  B8: [175.75, 249.45],\r\n  B9: [124.72, 175.75],\r\n  B10: [87.87, 124.72],\r\n  C0: [2599.37, 3676.54],\r\n  C1: [1836.85, 2599.37],\r\n  C2: [1298.27, 1836.85],\r\n  C3: [918.43, 1298.27],\r\n  C4: [649.13, 918.43],\r\n  C5: [459.21, 649.13],\r\n  C6: [323.15, 459.21],\r\n  C7: [229.61, 323.15],\r\n  C8: [161.57, 229.61],\r\n  C9: [113.39, 161.57],\r\n  C10: [79.37, 113.39],\r\n  RA0: [2437.8, 3458.27],\r\n  RA1: [1729.13, 2437.8],\r\n  RA2: [1218.9, 1729.13],\r\n  RA3: [864.57, 1218.9],\r\n  RA4: [609.45, 864.57],\r\n  SRA0: [2551.18, 3628.35],\r\n  SRA1: [1814.17, 2551.18],\r\n  SRA2: [1275.59, 1814.17],\r\n  SRA3: [907.09, 1275.59],\r\n  SRA4: [637.8, 907.09],\r\n  EXECUTIVE: [521.86, 756.0],\r\n  FOLIO: [612.0, 936.0],\r\n  LEGAL: [612.0, 1008.0],\r\n  LETTER: [612.0, 792.0],\r\n  TABLOID: [792.0, 1224.0]\r\n};\r\n\r\nclass PDFPage {\r\n  constructor(document, options = {}) {\r\n    this.document = document;\r\n    this.size = options.size || 'letter';\r\n    this.layout = options.layout || 'portrait';\r\n\r\n    // process margins\r\n    if (typeof options.margin === 'number') {\r\n      this.margins = {\r\n        top: options.margin,\r\n        left: options.margin,\r\n        bottom: options.margin,\r\n        right: options.margin\r\n      };\r\n\r\n      // default to 1 inch margins\r\n    } else {\r\n      this.margins = options.margins || DEFAULT_MARGINS;\r\n    }\r\n\r\n    // calculate page dimensions\r\n    const dimensions = Array.isArray(this.size)\r\n      ? this.size\r\n      : SIZES[this.size.toUpperCase()];\r\n    this.width = dimensions[this.layout === 'portrait' ? 0 : 1];\r\n    this.height = dimensions[this.layout === 'portrait' ? 1 : 0];\r\n\r\n    this.content = this.document.ref();\r\n\r\n    // Initialize the Font, XObject, and ExtGState dictionaries\r\n    this.resources = this.document.ref({\r\n      ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI']\r\n    });\r\n\r\n    // The page dictionary\r\n    this.dictionary = this.document.ref({\r\n      Type: 'Page',\r\n      Parent: this.document._root.data.Pages,\r\n      MediaBox: [0, 0, this.width, this.height],\r\n      Contents: this.content,\r\n      Resources: this.resources\r\n    });\r\n\r\n    this.markings = [];\r\n  }\r\n\r\n  // Lazily create these objects\r\n  get fonts() {\r\n    const data = this.resources.data;\r\n    return data.Font != null ? data.Font : (data.Font = {});\r\n  }\r\n\r\n  get xobjects() {\r\n    const data = this.resources.data;\r\n    return data.XObject != null ? data.XObject : (data.XObject = {});\r\n  }\r\n\r\n  get ext_gstates() {\r\n    const data = this.resources.data;\r\n    return data.ExtGState != null ? data.ExtGState : (data.ExtGState = {});\r\n  }\r\n\r\n  get patterns() {\r\n    const data = this.resources.data;\r\n    return data.Pattern != null ? data.Pattern : (data.Pattern = {});\r\n  }\r\n\r\n  get annotations() {\r\n    const data = this.dictionary.data;\r\n    return data.Annots != null ? data.Annots : (data.Annots = []);\r\n  }\r\n\r\n  get structParentTreeKey() {\r\n    const data = this.dictionary.data;\r\n    return data.StructParents != null ?\r\n      data.StructParents :\r\n      (data.StructParents = this.document.createStructParentTreeNextKey());\r\n  }\r\n\r\n  maxY() {\r\n    return this.height - this.margins.bottom;\r\n  }\r\n\r\n  write(chunk) {\r\n    return this.content.write(chunk);\r\n  }\r\n\r\n  end() {\r\n    this.dictionary.end();\r\n    this.resources.end();\r\n    return this.content.end();\r\n  }\r\n}\r\n\r\nexport default PDFPage;\r\n","/*\r\nPDFNameTree - represents a name tree object\r\n*/\r\n\r\nimport PDFTree from \"./tree\";\r\n\r\nclass PDFNameTree extends PDFTree {\r\n  _compareKeys(a, b) {\r\n    return a.localeCompare(b);\r\n  }\r\n\r\n  _keysName() {\r\n    return \"Names\";\r\n  }\r\n\r\n  _dataForKey(k) {\r\n    return new String(k);\r\n  }\r\n}\r\n\r\nexport default PDFNameTree;\r\n","/**\r\n * Check if value is in a range group.\r\n * @param {number} value\r\n * @param {number[]} rangeGroup\r\n * @returns {boolean}\r\n */\r\nfunction inRange(value, rangeGroup) {\r\n  if (value < rangeGroup[0]) return false;\r\n  let startRange = 0;\r\n  let endRange = rangeGroup.length / 2;\r\n  while (startRange <= endRange) {\r\n    const middleRange = Math.floor((startRange + endRange) / 2);\r\n\r\n    // actual array index\r\n    const arrayIndex = middleRange * 2;\r\n\r\n    // Check if value is in range pointed by actual index\r\n    if (\r\n      value >= rangeGroup[arrayIndex] &&\r\n      value <= rangeGroup[arrayIndex + 1]\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    if (value > rangeGroup[arrayIndex + 1]) {\r\n      // Search Right Side Of Array\r\n      startRange = middleRange + 1;\r\n    } else {\r\n      // Search Left Side Of Array\r\n      endRange = middleRange - 1;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport { inRange };\r\n","import { inRange } from './util';\r\n\r\n// prettier-ignore-start\r\n/**\r\n * A.1 Unassigned code points in Unicode 3.2\r\n * @link https://tools.ietf.org/html/rfc3454#appendix-A.1\r\n */\r\nconst unassigned_code_points = [\r\n  0x0221,\r\n  0x0221,\r\n  0x0234,\r\n  0x024f,\r\n  0x02ae,\r\n  0x02af,\r\n  0x02ef,\r\n  0x02ff,\r\n  0x0350,\r\n  0x035f,\r\n  0x0370,\r\n  0x0373,\r\n  0x0376,\r\n  0x0379,\r\n  0x037b,\r\n  0x037d,\r\n  0x037f,\r\n  0x0383,\r\n  0x038b,\r\n  0x038b,\r\n  0x038d,\r\n  0x038d,\r\n  0x03a2,\r\n  0x03a2,\r\n  0x03cf,\r\n  0x03cf,\r\n  0x03f7,\r\n  0x03ff,\r\n  0x0487,\r\n  0x0487,\r\n  0x04cf,\r\n  0x04cf,\r\n  0x04f6,\r\n  0x04f7,\r\n  0x04fa,\r\n  0x04ff,\r\n  0x0510,\r\n  0x0530,\r\n  0x0557,\r\n  0x0558,\r\n  0x0560,\r\n  0x0560,\r\n  0x0588,\r\n  0x0588,\r\n  0x058b,\r\n  0x0590,\r\n  0x05a2,\r\n  0x05a2,\r\n  0x05ba,\r\n  0x05ba,\r\n  0x05c5,\r\n  0x05cf,\r\n  0x05eb,\r\n  0x05ef,\r\n  0x05f5,\r\n  0x060b,\r\n  0x060d,\r\n  0x061a,\r\n  0x061c,\r\n  0x061e,\r\n  0x0620,\r\n  0x0620,\r\n  0x063b,\r\n  0x063f,\r\n  0x0656,\r\n  0x065f,\r\n  0x06ee,\r\n  0x06ef,\r\n  0x06ff,\r\n  0x06ff,\r\n  0x070e,\r\n  0x070e,\r\n  0x072d,\r\n  0x072f,\r\n  0x074b,\r\n  0x077f,\r\n  0x07b2,\r\n  0x0900,\r\n  0x0904,\r\n  0x0904,\r\n  0x093a,\r\n  0x093b,\r\n  0x094e,\r\n  0x094f,\r\n  0x0955,\r\n  0x0957,\r\n  0x0971,\r\n  0x0980,\r\n  0x0984,\r\n  0x0984,\r\n  0x098d,\r\n  0x098e,\r\n  0x0991,\r\n  0x0992,\r\n  0x09a9,\r\n  0x09a9,\r\n  0x09b1,\r\n  0x09b1,\r\n  0x09b3,\r\n  0x09b5,\r\n  0x09ba,\r\n  0x09bb,\r\n  0x09bd,\r\n  0x09bd,\r\n  0x09c5,\r\n  0x09c6,\r\n  0x09c9,\r\n  0x09ca,\r\n  0x09ce,\r\n  0x09d6,\r\n  0x09d8,\r\n  0x09db,\r\n  0x09de,\r\n  0x09de,\r\n  0x09e4,\r\n  0x09e5,\r\n  0x09fb,\r\n  0x0a01,\r\n  0x0a03,\r\n  0x0a04,\r\n  0x0a0b,\r\n  0x0a0e,\r\n  0x0a11,\r\n  0x0a12,\r\n  0x0a29,\r\n  0x0a29,\r\n  0x0a31,\r\n  0x0a31,\r\n  0x0a34,\r\n  0x0a34,\r\n  0x0a37,\r\n  0x0a37,\r\n  0x0a3a,\r\n  0x0a3b,\r\n  0x0a3d,\r\n  0x0a3d,\r\n  0x0a43,\r\n  0x0a46,\r\n  0x0a49,\r\n  0x0a4a,\r\n  0x0a4e,\r\n  0x0a58,\r\n  0x0a5d,\r\n  0x0a5d,\r\n  0x0a5f,\r\n  0x0a65,\r\n  0x0a75,\r\n  0x0a80,\r\n  0x0a84,\r\n  0x0a84,\r\n  0x0a8c,\r\n  0x0a8c,\r\n  0x0a8e,\r\n  0x0a8e,\r\n  0x0a92,\r\n  0x0a92,\r\n  0x0aa9,\r\n  0x0aa9,\r\n  0x0ab1,\r\n  0x0ab1,\r\n  0x0ab4,\r\n  0x0ab4,\r\n  0x0aba,\r\n  0x0abb,\r\n  0x0ac6,\r\n  0x0ac6,\r\n  0x0aca,\r\n  0x0aca,\r\n  0x0ace,\r\n  0x0acf,\r\n  0x0ad1,\r\n  0x0adf,\r\n  0x0ae1,\r\n  0x0ae5,\r\n  0x0af0,\r\n  0x0b00,\r\n  0x0b04,\r\n  0x0b04,\r\n  0x0b0d,\r\n  0x0b0e,\r\n  0x0b11,\r\n  0x0b12,\r\n  0x0b29,\r\n  0x0b29,\r\n  0x0b31,\r\n  0x0b31,\r\n  0x0b34,\r\n  0x0b35,\r\n  0x0b3a,\r\n  0x0b3b,\r\n  0x0b44,\r\n  0x0b46,\r\n  0x0b49,\r\n  0x0b4a,\r\n  0x0b4e,\r\n  0x0b55,\r\n  0x0b58,\r\n  0x0b5b,\r\n  0x0b5e,\r\n  0x0b5e,\r\n  0x0b62,\r\n  0x0b65,\r\n  0x0b71,\r\n  0x0b81,\r\n  0x0b84,\r\n  0x0b84,\r\n  0x0b8b,\r\n  0x0b8d,\r\n  0x0b91,\r\n  0x0b91,\r\n  0x0b96,\r\n  0x0b98,\r\n  0x0b9b,\r\n  0x0b9b,\r\n  0x0b9d,\r\n  0x0b9d,\r\n  0x0ba0,\r\n  0x0ba2,\r\n  0x0ba5,\r\n  0x0ba7,\r\n  0x0bab,\r\n  0x0bad,\r\n  0x0bb6,\r\n  0x0bb6,\r\n  0x0bba,\r\n  0x0bbd,\r\n  0x0bc3,\r\n  0x0bc5,\r\n  0x0bc9,\r\n  0x0bc9,\r\n  0x0bce,\r\n  0x0bd6,\r\n  0x0bd8,\r\n  0x0be6,\r\n  0x0bf3,\r\n  0x0c00,\r\n  0x0c04,\r\n  0x0c04,\r\n  0x0c0d,\r\n  0x0c0d,\r\n  0x0c11,\r\n  0x0c11,\r\n  0x0c29,\r\n  0x0c29,\r\n  0x0c34,\r\n  0x0c34,\r\n  0x0c3a,\r\n  0x0c3d,\r\n  0x0c45,\r\n  0x0c45,\r\n  0x0c49,\r\n  0x0c49,\r\n  0x0c4e,\r\n  0x0c54,\r\n  0x0c57,\r\n  0x0c5f,\r\n  0x0c62,\r\n  0x0c65,\r\n  0x0c70,\r\n  0x0c81,\r\n  0x0c84,\r\n  0x0c84,\r\n  0x0c8d,\r\n  0x0c8d,\r\n  0x0c91,\r\n  0x0c91,\r\n  0x0ca9,\r\n  0x0ca9,\r\n  0x0cb4,\r\n  0x0cb4,\r\n  0x0cba,\r\n  0x0cbd,\r\n  0x0cc5,\r\n  0x0cc5,\r\n  0x0cc9,\r\n  0x0cc9,\r\n  0x0cce,\r\n  0x0cd4,\r\n  0x0cd7,\r\n  0x0cdd,\r\n  0x0cdf,\r\n  0x0cdf,\r\n  0x0ce2,\r\n  0x0ce5,\r\n  0x0cf0,\r\n  0x0d01,\r\n  0x0d04,\r\n  0x0d04,\r\n  0x0d0d,\r\n  0x0d0d,\r\n  0x0d11,\r\n  0x0d11,\r\n  0x0d29,\r\n  0x0d29,\r\n  0x0d3a,\r\n  0x0d3d,\r\n  0x0d44,\r\n  0x0d45,\r\n  0x0d49,\r\n  0x0d49,\r\n  0x0d4e,\r\n  0x0d56,\r\n  0x0d58,\r\n  0x0d5f,\r\n  0x0d62,\r\n  0x0d65,\r\n  0x0d70,\r\n  0x0d81,\r\n  0x0d84,\r\n  0x0d84,\r\n  0x0d97,\r\n  0x0d99,\r\n  0x0db2,\r\n  0x0db2,\r\n  0x0dbc,\r\n  0x0dbc,\r\n  0x0dbe,\r\n  0x0dbf,\r\n  0x0dc7,\r\n  0x0dc9,\r\n  0x0dcb,\r\n  0x0dce,\r\n  0x0dd5,\r\n  0x0dd5,\r\n  0x0dd7,\r\n  0x0dd7,\r\n  0x0de0,\r\n  0x0df1,\r\n  0x0df5,\r\n  0x0e00,\r\n  0x0e3b,\r\n  0x0e3e,\r\n  0x0e5c,\r\n  0x0e80,\r\n  0x0e83,\r\n  0x0e83,\r\n  0x0e85,\r\n  0x0e86,\r\n  0x0e89,\r\n  0x0e89,\r\n  0x0e8b,\r\n  0x0e8c,\r\n  0x0e8e,\r\n  0x0e93,\r\n  0x0e98,\r\n  0x0e98,\r\n  0x0ea0,\r\n  0x0ea0,\r\n  0x0ea4,\r\n  0x0ea4,\r\n  0x0ea6,\r\n  0x0ea6,\r\n  0x0ea8,\r\n  0x0ea9,\r\n  0x0eac,\r\n  0x0eac,\r\n  0x0eba,\r\n  0x0eba,\r\n  0x0ebe,\r\n  0x0ebf,\r\n  0x0ec5,\r\n  0x0ec5,\r\n  0x0ec7,\r\n  0x0ec7,\r\n  0x0ece,\r\n  0x0ecf,\r\n  0x0eda,\r\n  0x0edb,\r\n  0x0ede,\r\n  0x0eff,\r\n  0x0f48,\r\n  0x0f48,\r\n  0x0f6b,\r\n  0x0f70,\r\n  0x0f8c,\r\n  0x0f8f,\r\n  0x0f98,\r\n  0x0f98,\r\n  0x0fbd,\r\n  0x0fbd,\r\n  0x0fcd,\r\n  0x0fce,\r\n  0x0fd0,\r\n  0x0fff,\r\n  0x1022,\r\n  0x1022,\r\n  0x1028,\r\n  0x1028,\r\n  0x102b,\r\n  0x102b,\r\n  0x1033,\r\n  0x1035,\r\n  0x103a,\r\n  0x103f,\r\n  0x105a,\r\n  0x109f,\r\n  0x10c6,\r\n  0x10cf,\r\n  0x10f9,\r\n  0x10fa,\r\n  0x10fc,\r\n  0x10ff,\r\n  0x115a,\r\n  0x115e,\r\n  0x11a3,\r\n  0x11a7,\r\n  0x11fa,\r\n  0x11ff,\r\n  0x1207,\r\n  0x1207,\r\n  0x1247,\r\n  0x1247,\r\n  0x1249,\r\n  0x1249,\r\n  0x124e,\r\n  0x124f,\r\n  0x1257,\r\n  0x1257,\r\n  0x1259,\r\n  0x1259,\r\n  0x125e,\r\n  0x125f,\r\n  0x1287,\r\n  0x1287,\r\n  0x1289,\r\n  0x1289,\r\n  0x128e,\r\n  0x128f,\r\n  0x12af,\r\n  0x12af,\r\n  0x12b1,\r\n  0x12b1,\r\n  0x12b6,\r\n  0x12b7,\r\n  0x12bf,\r\n  0x12bf,\r\n  0x12c1,\r\n  0x12c1,\r\n  0x12c6,\r\n  0x12c7,\r\n  0x12cf,\r\n  0x12cf,\r\n  0x12d7,\r\n  0x12d7,\r\n  0x12ef,\r\n  0x12ef,\r\n  0x130f,\r\n  0x130f,\r\n  0x1311,\r\n  0x1311,\r\n  0x1316,\r\n  0x1317,\r\n  0x131f,\r\n  0x131f,\r\n  0x1347,\r\n  0x1347,\r\n  0x135b,\r\n  0x1360,\r\n  0x137d,\r\n  0x139f,\r\n  0x13f5,\r\n  0x1400,\r\n  0x1677,\r\n  0x167f,\r\n  0x169d,\r\n  0x169f,\r\n  0x16f1,\r\n  0x16ff,\r\n  0x170d,\r\n  0x170d,\r\n  0x1715,\r\n  0x171f,\r\n  0x1737,\r\n  0x173f,\r\n  0x1754,\r\n  0x175f,\r\n  0x176d,\r\n  0x176d,\r\n  0x1771,\r\n  0x1771,\r\n  0x1774,\r\n  0x177f,\r\n  0x17dd,\r\n  0x17df,\r\n  0x17ea,\r\n  0x17ff,\r\n  0x180f,\r\n  0x180f,\r\n  0x181a,\r\n  0x181f,\r\n  0x1878,\r\n  0x187f,\r\n  0x18aa,\r\n  0x1dff,\r\n  0x1e9c,\r\n  0x1e9f,\r\n  0x1efa,\r\n  0x1eff,\r\n  0x1f16,\r\n  0x1f17,\r\n  0x1f1e,\r\n  0x1f1f,\r\n  0x1f46,\r\n  0x1f47,\r\n  0x1f4e,\r\n  0x1f4f,\r\n  0x1f58,\r\n  0x1f58,\r\n  0x1f5a,\r\n  0x1f5a,\r\n  0x1f5c,\r\n  0x1f5c,\r\n  0x1f5e,\r\n  0x1f5e,\r\n  0x1f7e,\r\n  0x1f7f,\r\n  0x1fb5,\r\n  0x1fb5,\r\n  0x1fc5,\r\n  0x1fc5,\r\n  0x1fd4,\r\n  0x1fd5,\r\n  0x1fdc,\r\n  0x1fdc,\r\n  0x1ff0,\r\n  0x1ff1,\r\n  0x1ff5,\r\n  0x1ff5,\r\n  0x1fff,\r\n  0x1fff,\r\n  0x2053,\r\n  0x2056,\r\n  0x2058,\r\n  0x205e,\r\n  0x2064,\r\n  0x2069,\r\n  0x2072,\r\n  0x2073,\r\n  0x208f,\r\n  0x209f,\r\n  0x20b2,\r\n  0x20cf,\r\n  0x20eb,\r\n  0x20ff,\r\n  0x213b,\r\n  0x213c,\r\n  0x214c,\r\n  0x2152,\r\n  0x2184,\r\n  0x218f,\r\n  0x23cf,\r\n  0x23ff,\r\n  0x2427,\r\n  0x243f,\r\n  0x244b,\r\n  0x245f,\r\n  0x24ff,\r\n  0x24ff,\r\n  0x2614,\r\n  0x2615,\r\n  0x2618,\r\n  0x2618,\r\n  0x267e,\r\n  0x267f,\r\n  0x268a,\r\n  0x2700,\r\n  0x2705,\r\n  0x2705,\r\n  0x270a,\r\n  0x270b,\r\n  0x2728,\r\n  0x2728,\r\n  0x274c,\r\n  0x274c,\r\n  0x274e,\r\n  0x274e,\r\n  0x2753,\r\n  0x2755,\r\n  0x2757,\r\n  0x2757,\r\n  0x275f,\r\n  0x2760,\r\n  0x2795,\r\n  0x2797,\r\n  0x27b0,\r\n  0x27b0,\r\n  0x27bf,\r\n  0x27cf,\r\n  0x27ec,\r\n  0x27ef,\r\n  0x2b00,\r\n  0x2e7f,\r\n  0x2e9a,\r\n  0x2e9a,\r\n  0x2ef4,\r\n  0x2eff,\r\n  0x2fd6,\r\n  0x2fef,\r\n  0x2ffc,\r\n  0x2fff,\r\n  0x3040,\r\n  0x3040,\r\n  0x3097,\r\n  0x3098,\r\n  0x3100,\r\n  0x3104,\r\n  0x312d,\r\n  0x3130,\r\n  0x318f,\r\n  0x318f,\r\n  0x31b8,\r\n  0x31ef,\r\n  0x321d,\r\n  0x321f,\r\n  0x3244,\r\n  0x3250,\r\n  0x327c,\r\n  0x327e,\r\n  0x32cc,\r\n  0x32cf,\r\n  0x32ff,\r\n  0x32ff,\r\n  0x3377,\r\n  0x337a,\r\n  0x33de,\r\n  0x33df,\r\n  0x33ff,\r\n  0x33ff,\r\n  0x4db6,\r\n  0x4dff,\r\n  0x9fa6,\r\n  0x9fff,\r\n  0xa48d,\r\n  0xa48f,\r\n  0xa4c7,\r\n  0xabff,\r\n  0xd7a4,\r\n  0xd7ff,\r\n  0xfa2e,\r\n  0xfa2f,\r\n  0xfa6b,\r\n  0xfaff,\r\n  0xfb07,\r\n  0xfb12,\r\n  0xfb18,\r\n  0xfb1c,\r\n  0xfb37,\r\n  0xfb37,\r\n  0xfb3d,\r\n  0xfb3d,\r\n  0xfb3f,\r\n  0xfb3f,\r\n  0xfb42,\r\n  0xfb42,\r\n  0xfb45,\r\n  0xfb45,\r\n  0xfbb2,\r\n  0xfbd2,\r\n  0xfd40,\r\n  0xfd4f,\r\n  0xfd90,\r\n  0xfd91,\r\n  0xfdc8,\r\n  0xfdcf,\r\n  0xfdfd,\r\n  0xfdff,\r\n  0xfe10,\r\n  0xfe1f,\r\n  0xfe24,\r\n  0xfe2f,\r\n  0xfe47,\r\n  0xfe48,\r\n  0xfe53,\r\n  0xfe53,\r\n  0xfe67,\r\n  0xfe67,\r\n  0xfe6c,\r\n  0xfe6f,\r\n  0xfe75,\r\n  0xfe75,\r\n  0xfefd,\r\n  0xfefe,\r\n  0xff00,\r\n  0xff00,\r\n  0xffbf,\r\n  0xffc1,\r\n  0xffc8,\r\n  0xffc9,\r\n  0xffd0,\r\n  0xffd1,\r\n  0xffd8,\r\n  0xffd9,\r\n  0xffdd,\r\n  0xffdf,\r\n  0xffe7,\r\n  0xffe7,\r\n  0xffef,\r\n  0xfff8,\r\n  0x10000,\r\n  0x102ff,\r\n  0x1031f,\r\n  0x1031f,\r\n  0x10324,\r\n  0x1032f,\r\n  0x1034b,\r\n  0x103ff,\r\n  0x10426,\r\n  0x10427,\r\n  0x1044e,\r\n  0x1cfff,\r\n  0x1d0f6,\r\n  0x1d0ff,\r\n  0x1d127,\r\n  0x1d129,\r\n  0x1d1de,\r\n  0x1d3ff,\r\n  0x1d455,\r\n  0x1d455,\r\n  0x1d49d,\r\n  0x1d49d,\r\n  0x1d4a0,\r\n  0x1d4a1,\r\n  0x1d4a3,\r\n  0x1d4a4,\r\n  0x1d4a7,\r\n  0x1d4a8,\r\n  0x1d4ad,\r\n  0x1d4ad,\r\n  0x1d4ba,\r\n  0x1d4ba,\r\n  0x1d4bc,\r\n  0x1d4bc,\r\n  0x1d4c1,\r\n  0x1d4c1,\r\n  0x1d4c4,\r\n  0x1d4c4,\r\n  0x1d506,\r\n  0x1d506,\r\n  0x1d50b,\r\n  0x1d50c,\r\n  0x1d515,\r\n  0x1d515,\r\n  0x1d51d,\r\n  0x1d51d,\r\n  0x1d53a,\r\n  0x1d53a,\r\n  0x1d53f,\r\n  0x1d53f,\r\n  0x1d545,\r\n  0x1d545,\r\n  0x1d547,\r\n  0x1d549,\r\n  0x1d551,\r\n  0x1d551,\r\n  0x1d6a4,\r\n  0x1d6a7,\r\n  0x1d7ca,\r\n  0x1d7cd,\r\n  0x1d800,\r\n  0x1fffd,\r\n  0x2a6d7,\r\n  0x2f7ff,\r\n  0x2fa1e,\r\n  0x2fffd,\r\n  0x30000,\r\n  0x3fffd,\r\n  0x40000,\r\n  0x4fffd,\r\n  0x50000,\r\n  0x5fffd,\r\n  0x60000,\r\n  0x6fffd,\r\n  0x70000,\r\n  0x7fffd,\r\n  0x80000,\r\n  0x8fffd,\r\n  0x90000,\r\n  0x9fffd,\r\n  0xa0000,\r\n  0xafffd,\r\n  0xb0000,\r\n  0xbfffd,\r\n  0xc0000,\r\n  0xcfffd,\r\n  0xd0000,\r\n  0xdfffd,\r\n  0xe0000,\r\n  0xe0000,\r\n  0xe0002,\r\n  0xe001f,\r\n  0xe0080,\r\n  0xefffd\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isUnassignedCodePoint = character =>\r\n  inRange(character, unassigned_code_points);\r\n\r\n// prettier-ignore-start\r\n/**\r\n * B.1 Commonly mapped to nothing\r\n * @link https://tools.ietf.org/html/rfc3454#appendix-B.1\r\n */\r\nconst commonly_mapped_to_nothing = [\r\n  0x00ad,\r\n  0x00ad,\r\n  0x034f,\r\n  0x034f,\r\n  0x1806,\r\n  0x1806,\r\n  0x180b,\r\n  0x180b,\r\n  0x180c,\r\n  0x180c,\r\n  0x180d,\r\n  0x180d,\r\n  0x200b,\r\n  0x200b,\r\n  0x200c,\r\n  0x200c,\r\n  0x200d,\r\n  0x200d,\r\n  0x2060,\r\n  0x2060,\r\n  0xfe00,\r\n  0xfe00,\r\n  0xfe01,\r\n  0xfe01,\r\n  0xfe02,\r\n  0xfe02,\r\n  0xfe03,\r\n  0xfe03,\r\n  0xfe04,\r\n  0xfe04,\r\n  0xfe05,\r\n  0xfe05,\r\n  0xfe06,\r\n  0xfe06,\r\n  0xfe07,\r\n  0xfe07,\r\n  0xfe08,\r\n  0xfe08,\r\n  0xfe09,\r\n  0xfe09,\r\n  0xfe0a,\r\n  0xfe0a,\r\n  0xfe0b,\r\n  0xfe0b,\r\n  0xfe0c,\r\n  0xfe0c,\r\n  0xfe0d,\r\n  0xfe0d,\r\n  0xfe0e,\r\n  0xfe0e,\r\n  0xfe0f,\r\n  0xfe0f,\r\n  0xfeff,\r\n  0xfeff\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isCommonlyMappedToNothing = character =>\r\n  inRange(character, commonly_mapped_to_nothing);\r\n\r\n// prettier-ignore-start\r\n/**\r\n * C.1.2 Non-ASCII space characters\r\n * @link https://tools.ietf.org/html/rfc3454#appendix-C.1.2\r\n */\r\nconst non_ASCII_space_characters = [\r\n  0x00a0,\r\n  0x00a0 /* NO-BREAK SPACE */,\r\n  0x1680,\r\n  0x1680 /* OGHAM SPACE MARK */,\r\n  0x2000,\r\n  0x2000 /* EN QUAD */,\r\n  0x2001,\r\n  0x2001 /* EM QUAD */,\r\n  0x2002,\r\n  0x2002 /* EN SPACE */,\r\n  0x2003,\r\n  0x2003 /* EM SPACE */,\r\n  0x2004,\r\n  0x2004 /* THREE-PER-EM SPACE */,\r\n  0x2005,\r\n  0x2005 /* FOUR-PER-EM SPACE */,\r\n  0x2006,\r\n  0x2006 /* SIX-PER-EM SPACE */,\r\n  0x2007,\r\n  0x2007 /* FIGURE SPACE */,\r\n  0x2008,\r\n  0x2008 /* PUNCTUATION SPACE */,\r\n  0x2009,\r\n  0x2009 /* THIN SPACE */,\r\n  0x200a,\r\n  0x200a /* HAIR SPACE */,\r\n  0x200b,\r\n  0x200b /* ZERO WIDTH SPACE */,\r\n  0x202f,\r\n  0x202f /* NARROW NO-BREAK SPACE */,\r\n  0x205f,\r\n  0x205f /* MEDIUM MATHEMATICAL SPACE */,\r\n  0x3000,\r\n  0x3000 /* IDEOGRAPHIC SPACE */\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isNonASCIISpaceCharacter = character =>\r\n  inRange(character, non_ASCII_space_characters);\r\n\r\n// prettier-ignore-start\r\nconst non_ASCII_controls_characters = [\r\n  /**\r\n   * C.2.2 Non-ASCII control characters\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.2.2\r\n   */\r\n  0x0080,\r\n  0x009f /* [CONTROL CHARACTERS] */,\r\n  0x06dd,\r\n  0x06dd /* ARABIC END OF AYAH */,\r\n  0x070f,\r\n  0x070f /* SYRIAC ABBREVIATION MARK */,\r\n  0x180e,\r\n  0x180e /* MONGOLIAN VOWEL SEPARATOR */,\r\n  0x200c,\r\n  0x200c /* ZERO WIDTH NON-JOINER */,\r\n  0x200d,\r\n  0x200d /* ZERO WIDTH JOINER */,\r\n  0x2028,\r\n  0x2028 /* LINE SEPARATOR */,\r\n  0x2029,\r\n  0x2029 /* PARAGRAPH SEPARATOR */,\r\n  0x2060,\r\n  0x2060 /* WORD JOINER */,\r\n  0x2061,\r\n  0x2061 /* FUNCTION APPLICATION */,\r\n  0x2062,\r\n  0x2062 /* INVISIBLE TIMES */,\r\n  0x2063,\r\n  0x2063 /* INVISIBLE SEPARATOR */,\r\n  0x206a,\r\n  0x206f /* [CONTROL CHARACTERS] */,\r\n  0xfeff,\r\n  0xfeff /* ZERO WIDTH NO-BREAK SPACE */,\r\n  0xfff9,\r\n  0xfffc /* [CONTROL CHARACTERS] */,\r\n  0x1d173,\r\n  0x1d17a /* [MUSICAL CONTROL CHARACTERS] */\r\n];\r\n\r\nconst non_character_codepoints = [\r\n  /**\r\n   * C.4 Non-character code points\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.4\r\n   */\r\n  0xfdd0,\r\n  0xfdef /* [NONCHARACTER CODE POINTS] */,\r\n  0xfffe,\r\n  0xffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x1fffe,\r\n  0x1ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x2fffe,\r\n  0x2ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x3fffe,\r\n  0x3ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x4fffe,\r\n  0x4ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x5fffe,\r\n  0x5ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x6fffe,\r\n  0x6ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x7fffe,\r\n  0x7ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x8fffe,\r\n  0x8ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x9fffe,\r\n  0x9ffff /* [NONCHARACTER CODE POINTS] */,\r\n  0xafffe,\r\n  0xaffff /* [NONCHARACTER CODE POINTS] */,\r\n  0xbfffe,\r\n  0xbffff /* [NONCHARACTER CODE POINTS] */,\r\n  0xcfffe,\r\n  0xcffff /* [NONCHARACTER CODE POINTS] */,\r\n  0xdfffe,\r\n  0xdffff /* [NONCHARACTER CODE POINTS] */,\r\n  0xefffe,\r\n  0xeffff /* [NONCHARACTER CODE POINTS] */,\r\n  0x10fffe,\r\n  0x10ffff /* [NONCHARACTER CODE POINTS] */\r\n];\r\n\r\n/**\r\n * 2.3.  Prohibited Output\r\n */\r\nconst prohibited_characters = [\r\n  /**\r\n   * C.2.1 ASCII control characters\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.2.1\r\n   */\r\n  0,\r\n  0x001f /* [CONTROL CHARACTERS] */,\r\n  0x007f,\r\n  0x007f /* DELETE */,\r\n\r\n  /**\r\n   * C.8 Change display properties or are deprecated\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.8\r\n   */\r\n  0x0340,\r\n  0x0340 /* COMBINING GRAVE TONE MARK */,\r\n  0x0341,\r\n  0x0341 /* COMBINING ACUTE TONE MARK */,\r\n  0x200e,\r\n  0x200e /* LEFT-TO-RIGHT MARK */,\r\n  0x200f,\r\n  0x200f /* RIGHT-TO-LEFT MARK */,\r\n  0x202a,\r\n  0x202a /* LEFT-TO-RIGHT EMBEDDING */,\r\n  0x202b,\r\n  0x202b /* RIGHT-TO-LEFT EMBEDDING */,\r\n  0x202c,\r\n  0x202c /* POP DIRECTIONAL FORMATTING */,\r\n  0x202d,\r\n  0x202d /* LEFT-TO-RIGHT OVERRIDE */,\r\n  0x202e,\r\n  0x202e /* RIGHT-TO-LEFT OVERRIDE */,\r\n  0x206a,\r\n  0x206a /* INHIBIT SYMMETRIC SWAPPING */,\r\n  0x206b,\r\n  0x206b /* ACTIVATE SYMMETRIC SWAPPING */,\r\n  0x206c,\r\n  0x206c /* INHIBIT ARABIC FORM SHAPING */,\r\n  0x206d,\r\n  0x206d /* ACTIVATE ARABIC FORM SHAPING */,\r\n  0x206e,\r\n  0x206e /* NATIONAL DIGIT SHAPES */,\r\n  0x206f,\r\n  0x206f /* NOMINAL DIGIT SHAPES */,\r\n\r\n  /**\r\n   * C.7 Inappropriate for canonical representation\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.7\r\n   */\r\n  0x2ff0,\r\n  0x2ffb /* [IDEOGRAPHIC DESCRIPTION CHARACTERS] */,\r\n\r\n  /**\r\n   * C.5 Surrogate codes\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.5\r\n   */\r\n  0xd800,\r\n  0xdfff,\r\n\r\n  /**\r\n   * C.3 Private use\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.3\r\n   */\r\n  0xe000,\r\n  0xf8ff /* [PRIVATE USE, PLANE 0] */,\r\n\r\n  /**\r\n   * C.6 Inappropriate for plain text\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.6\r\n   */\r\n  0xfff9,\r\n  0xfff9 /* INTERLINEAR ANNOTATION ANCHOR */,\r\n  0xfffa,\r\n  0xfffa /* INTERLINEAR ANNOTATION SEPARATOR */,\r\n  0xfffb,\r\n  0xfffb /* INTERLINEAR ANNOTATION TERMINATOR */,\r\n  0xfffc,\r\n  0xfffc /* OBJECT REPLACEMENT CHARACTER */,\r\n  0xfffd,\r\n  0xfffd /* REPLACEMENT CHARACTER */,\r\n\r\n  /**\r\n   * C.9 Tagging characters\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.9\r\n   */\r\n  0xe0001,\r\n  0xe0001 /* LANGUAGE TAG */,\r\n  0xe0020,\r\n  0xe007f /* [TAGGING CHARACTERS] */,\r\n\r\n  /**\r\n   * C.3 Private use\r\n   * @link https://tools.ietf.org/html/rfc3454#appendix-C.3\r\n   */\r\n\r\n  0xf0000,\r\n  0xffffd /* [PRIVATE USE, PLANE 15] */,\r\n  0x100000,\r\n  0x10fffd /* [PRIVATE USE, PLANE 16] */\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isProhibitedCharacter = character =>\r\n  inRange(character, non_ASCII_space_characters) ||\r\n  inRange(character, prohibited_characters) ||\r\n  inRange(character, non_ASCII_controls_characters) ||\r\n  inRange(character, non_character_codepoints);\r\n\r\n// prettier-ignore-start\r\n/**\r\n * D.1 Characters with bidirectional property \"R\" or \"AL\"\r\n * @link https://tools.ietf.org/html/rfc3454#appendix-D.1\r\n */\r\nconst bidirectional_r_al = [\r\n  0x05be,\r\n  0x05be,\r\n  0x05c0,\r\n  0x05c0,\r\n  0x05c3,\r\n  0x05c3,\r\n  0x05d0,\r\n  0x05ea,\r\n  0x05f0,\r\n  0x05f4,\r\n  0x061b,\r\n  0x061b,\r\n  0x061f,\r\n  0x061f,\r\n  0x0621,\r\n  0x063a,\r\n  0x0640,\r\n  0x064a,\r\n  0x066d,\r\n  0x066f,\r\n  0x0671,\r\n  0x06d5,\r\n  0x06dd,\r\n  0x06dd,\r\n  0x06e5,\r\n  0x06e6,\r\n  0x06fa,\r\n  0x06fe,\r\n  0x0700,\r\n  0x070d,\r\n  0x0710,\r\n  0x0710,\r\n  0x0712,\r\n  0x072c,\r\n  0x0780,\r\n  0x07a5,\r\n  0x07b1,\r\n  0x07b1,\r\n  0x200f,\r\n  0x200f,\r\n  0xfb1d,\r\n  0xfb1d,\r\n  0xfb1f,\r\n  0xfb28,\r\n  0xfb2a,\r\n  0xfb36,\r\n  0xfb38,\r\n  0xfb3c,\r\n  0xfb3e,\r\n  0xfb3e,\r\n  0xfb40,\r\n  0xfb41,\r\n  0xfb43,\r\n  0xfb44,\r\n  0xfb46,\r\n  0xfbb1,\r\n  0xfbd3,\r\n  0xfd3d,\r\n  0xfd50,\r\n  0xfd8f,\r\n  0xfd92,\r\n  0xfdc7,\r\n  0xfdf0,\r\n  0xfdfc,\r\n  0xfe70,\r\n  0xfe74,\r\n  0xfe76,\r\n  0xfefc\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isBidirectionalRAL = character => inRange(character, bidirectional_r_al);\r\n\r\n// prettier-ignore-start\r\n/**\r\n * D.2 Characters with bidirectional property \"L\"\r\n * @link https://tools.ietf.org/html/rfc3454#appendix-D.2\r\n */\r\nconst bidirectional_l = [\r\n  0x0041,\r\n  0x005a,\r\n  0x0061,\r\n  0x007a,\r\n  0x00aa,\r\n  0x00aa,\r\n  0x00b5,\r\n  0x00b5,\r\n  0x00ba,\r\n  0x00ba,\r\n  0x00c0,\r\n  0x00d6,\r\n  0x00d8,\r\n  0x00f6,\r\n  0x00f8,\r\n  0x0220,\r\n  0x0222,\r\n  0x0233,\r\n  0x0250,\r\n  0x02ad,\r\n  0x02b0,\r\n  0x02b8,\r\n  0x02bb,\r\n  0x02c1,\r\n  0x02d0,\r\n  0x02d1,\r\n  0x02e0,\r\n  0x02e4,\r\n  0x02ee,\r\n  0x02ee,\r\n  0x037a,\r\n  0x037a,\r\n  0x0386,\r\n  0x0386,\r\n  0x0388,\r\n  0x038a,\r\n  0x038c,\r\n  0x038c,\r\n  0x038e,\r\n  0x03a1,\r\n  0x03a3,\r\n  0x03ce,\r\n  0x03d0,\r\n  0x03f5,\r\n  0x0400,\r\n  0x0482,\r\n  0x048a,\r\n  0x04ce,\r\n  0x04d0,\r\n  0x04f5,\r\n  0x04f8,\r\n  0x04f9,\r\n  0x0500,\r\n  0x050f,\r\n  0x0531,\r\n  0x0556,\r\n  0x0559,\r\n  0x055f,\r\n  0x0561,\r\n  0x0587,\r\n  0x0589,\r\n  0x0589,\r\n  0x0903,\r\n  0x0903,\r\n  0x0905,\r\n  0x0939,\r\n  0x093d,\r\n  0x0940,\r\n  0x0949,\r\n  0x094c,\r\n  0x0950,\r\n  0x0950,\r\n  0x0958,\r\n  0x0961,\r\n  0x0964,\r\n  0x0970,\r\n  0x0982,\r\n  0x0983,\r\n  0x0985,\r\n  0x098c,\r\n  0x098f,\r\n  0x0990,\r\n  0x0993,\r\n  0x09a8,\r\n  0x09aa,\r\n  0x09b0,\r\n  0x09b2,\r\n  0x09b2,\r\n  0x09b6,\r\n  0x09b9,\r\n  0x09be,\r\n  0x09c0,\r\n  0x09c7,\r\n  0x09c8,\r\n  0x09cb,\r\n  0x09cc,\r\n  0x09d7,\r\n  0x09d7,\r\n  0x09dc,\r\n  0x09dd,\r\n  0x09df,\r\n  0x09e1,\r\n  0x09e6,\r\n  0x09f1,\r\n  0x09f4,\r\n  0x09fa,\r\n  0x0a05,\r\n  0x0a0a,\r\n  0x0a0f,\r\n  0x0a10,\r\n  0x0a13,\r\n  0x0a28,\r\n  0x0a2a,\r\n  0x0a30,\r\n  0x0a32,\r\n  0x0a33,\r\n  0x0a35,\r\n  0x0a36,\r\n  0x0a38,\r\n  0x0a39,\r\n  0x0a3e,\r\n  0x0a40,\r\n  0x0a59,\r\n  0x0a5c,\r\n  0x0a5e,\r\n  0x0a5e,\r\n  0x0a66,\r\n  0x0a6f,\r\n  0x0a72,\r\n  0x0a74,\r\n  0x0a83,\r\n  0x0a83,\r\n  0x0a85,\r\n  0x0a8b,\r\n  0x0a8d,\r\n  0x0a8d,\r\n  0x0a8f,\r\n  0x0a91,\r\n  0x0a93,\r\n  0x0aa8,\r\n  0x0aaa,\r\n  0x0ab0,\r\n  0x0ab2,\r\n  0x0ab3,\r\n  0x0ab5,\r\n  0x0ab9,\r\n  0x0abd,\r\n  0x0ac0,\r\n  0x0ac9,\r\n  0x0ac9,\r\n  0x0acb,\r\n  0x0acc,\r\n  0x0ad0,\r\n  0x0ad0,\r\n  0x0ae0,\r\n  0x0ae0,\r\n  0x0ae6,\r\n  0x0aef,\r\n  0x0b02,\r\n  0x0b03,\r\n  0x0b05,\r\n  0x0b0c,\r\n  0x0b0f,\r\n  0x0b10,\r\n  0x0b13,\r\n  0x0b28,\r\n  0x0b2a,\r\n  0x0b30,\r\n  0x0b32,\r\n  0x0b33,\r\n  0x0b36,\r\n  0x0b39,\r\n  0x0b3d,\r\n  0x0b3e,\r\n  0x0b40,\r\n  0x0b40,\r\n  0x0b47,\r\n  0x0b48,\r\n  0x0b4b,\r\n  0x0b4c,\r\n  0x0b57,\r\n  0x0b57,\r\n  0x0b5c,\r\n  0x0b5d,\r\n  0x0b5f,\r\n  0x0b61,\r\n  0x0b66,\r\n  0x0b70,\r\n  0x0b83,\r\n  0x0b83,\r\n  0x0b85,\r\n  0x0b8a,\r\n  0x0b8e,\r\n  0x0b90,\r\n  0x0b92,\r\n  0x0b95,\r\n  0x0b99,\r\n  0x0b9a,\r\n  0x0b9c,\r\n  0x0b9c,\r\n  0x0b9e,\r\n  0x0b9f,\r\n  0x0ba3,\r\n  0x0ba4,\r\n  0x0ba8,\r\n  0x0baa,\r\n  0x0bae,\r\n  0x0bb5,\r\n  0x0bb7,\r\n  0x0bb9,\r\n  0x0bbe,\r\n  0x0bbf,\r\n  0x0bc1,\r\n  0x0bc2,\r\n  0x0bc6,\r\n  0x0bc8,\r\n  0x0bca,\r\n  0x0bcc,\r\n  0x0bd7,\r\n  0x0bd7,\r\n  0x0be7,\r\n  0x0bf2,\r\n  0x0c01,\r\n  0x0c03,\r\n  0x0c05,\r\n  0x0c0c,\r\n  0x0c0e,\r\n  0x0c10,\r\n  0x0c12,\r\n  0x0c28,\r\n  0x0c2a,\r\n  0x0c33,\r\n  0x0c35,\r\n  0x0c39,\r\n  0x0c41,\r\n  0x0c44,\r\n  0x0c60,\r\n  0x0c61,\r\n  0x0c66,\r\n  0x0c6f,\r\n  0x0c82,\r\n  0x0c83,\r\n  0x0c85,\r\n  0x0c8c,\r\n  0x0c8e,\r\n  0x0c90,\r\n  0x0c92,\r\n  0x0ca8,\r\n  0x0caa,\r\n  0x0cb3,\r\n  0x0cb5,\r\n  0x0cb9,\r\n  0x0cbe,\r\n  0x0cbe,\r\n  0x0cc0,\r\n  0x0cc4,\r\n  0x0cc7,\r\n  0x0cc8,\r\n  0x0cca,\r\n  0x0ccb,\r\n  0x0cd5,\r\n  0x0cd6,\r\n  0x0cde,\r\n  0x0cde,\r\n  0x0ce0,\r\n  0x0ce1,\r\n  0x0ce6,\r\n  0x0cef,\r\n  0x0d02,\r\n  0x0d03,\r\n  0x0d05,\r\n  0x0d0c,\r\n  0x0d0e,\r\n  0x0d10,\r\n  0x0d12,\r\n  0x0d28,\r\n  0x0d2a,\r\n  0x0d39,\r\n  0x0d3e,\r\n  0x0d40,\r\n  0x0d46,\r\n  0x0d48,\r\n  0x0d4a,\r\n  0x0d4c,\r\n  0x0d57,\r\n  0x0d57,\r\n  0x0d60,\r\n  0x0d61,\r\n  0x0d66,\r\n  0x0d6f,\r\n  0x0d82,\r\n  0x0d83,\r\n  0x0d85,\r\n  0x0d96,\r\n  0x0d9a,\r\n  0x0db1,\r\n  0x0db3,\r\n  0x0dbb,\r\n  0x0dbd,\r\n  0x0dbd,\r\n  0x0dc0,\r\n  0x0dc6,\r\n  0x0dcf,\r\n  0x0dd1,\r\n  0x0dd8,\r\n  0x0ddf,\r\n  0x0df2,\r\n  0x0df4,\r\n  0x0e01,\r\n  0x0e30,\r\n  0x0e32,\r\n  0x0e33,\r\n  0x0e40,\r\n  0x0e46,\r\n  0x0e4f,\r\n  0x0e5b,\r\n  0x0e81,\r\n  0x0e82,\r\n  0x0e84,\r\n  0x0e84,\r\n  0x0e87,\r\n  0x0e88,\r\n  0x0e8a,\r\n  0x0e8a,\r\n  0x0e8d,\r\n  0x0e8d,\r\n  0x0e94,\r\n  0x0e97,\r\n  0x0e99,\r\n  0x0e9f,\r\n  0x0ea1,\r\n  0x0ea3,\r\n  0x0ea5,\r\n  0x0ea5,\r\n  0x0ea7,\r\n  0x0ea7,\r\n  0x0eaa,\r\n  0x0eab,\r\n  0x0ead,\r\n  0x0eb0,\r\n  0x0eb2,\r\n  0x0eb3,\r\n  0x0ebd,\r\n  0x0ebd,\r\n  0x0ec0,\r\n  0x0ec4,\r\n  0x0ec6,\r\n  0x0ec6,\r\n  0x0ed0,\r\n  0x0ed9,\r\n  0x0edc,\r\n  0x0edd,\r\n  0x0f00,\r\n  0x0f17,\r\n  0x0f1a,\r\n  0x0f34,\r\n  0x0f36,\r\n  0x0f36,\r\n  0x0f38,\r\n  0x0f38,\r\n  0x0f3e,\r\n  0x0f47,\r\n  0x0f49,\r\n  0x0f6a,\r\n  0x0f7f,\r\n  0x0f7f,\r\n  0x0f85,\r\n  0x0f85,\r\n  0x0f88,\r\n  0x0f8b,\r\n  0x0fbe,\r\n  0x0fc5,\r\n  0x0fc7,\r\n  0x0fcc,\r\n  0x0fcf,\r\n  0x0fcf,\r\n  0x1000,\r\n  0x1021,\r\n  0x1023,\r\n  0x1027,\r\n  0x1029,\r\n  0x102a,\r\n  0x102c,\r\n  0x102c,\r\n  0x1031,\r\n  0x1031,\r\n  0x1038,\r\n  0x1038,\r\n  0x1040,\r\n  0x1057,\r\n  0x10a0,\r\n  0x10c5,\r\n  0x10d0,\r\n  0x10f8,\r\n  0x10fb,\r\n  0x10fb,\r\n  0x1100,\r\n  0x1159,\r\n  0x115f,\r\n  0x11a2,\r\n  0x11a8,\r\n  0x11f9,\r\n  0x1200,\r\n  0x1206,\r\n  0x1208,\r\n  0x1246,\r\n  0x1248,\r\n  0x1248,\r\n  0x124a,\r\n  0x124d,\r\n  0x1250,\r\n  0x1256,\r\n  0x1258,\r\n  0x1258,\r\n  0x125a,\r\n  0x125d,\r\n  0x1260,\r\n  0x1286,\r\n  0x1288,\r\n  0x1288,\r\n  0x128a,\r\n  0x128d,\r\n  0x1290,\r\n  0x12ae,\r\n  0x12b0,\r\n  0x12b0,\r\n  0x12b2,\r\n  0x12b5,\r\n  0x12b8,\r\n  0x12be,\r\n  0x12c0,\r\n  0x12c0,\r\n  0x12c2,\r\n  0x12c5,\r\n  0x12c8,\r\n  0x12ce,\r\n  0x12d0,\r\n  0x12d6,\r\n  0x12d8,\r\n  0x12ee,\r\n  0x12f0,\r\n  0x130e,\r\n  0x1310,\r\n  0x1310,\r\n  0x1312,\r\n  0x1315,\r\n  0x1318,\r\n  0x131e,\r\n  0x1320,\r\n  0x1346,\r\n  0x1348,\r\n  0x135a,\r\n  0x1361,\r\n  0x137c,\r\n  0x13a0,\r\n  0x13f4,\r\n  0x1401,\r\n  0x1676,\r\n  0x1681,\r\n  0x169a,\r\n  0x16a0,\r\n  0x16f0,\r\n  0x1700,\r\n  0x170c,\r\n  0x170e,\r\n  0x1711,\r\n  0x1720,\r\n  0x1731,\r\n  0x1735,\r\n  0x1736,\r\n  0x1740,\r\n  0x1751,\r\n  0x1760,\r\n  0x176c,\r\n  0x176e,\r\n  0x1770,\r\n  0x1780,\r\n  0x17b6,\r\n  0x17be,\r\n  0x17c5,\r\n  0x17c7,\r\n  0x17c8,\r\n  0x17d4,\r\n  0x17da,\r\n  0x17dc,\r\n  0x17dc,\r\n  0x17e0,\r\n  0x17e9,\r\n  0x1810,\r\n  0x1819,\r\n  0x1820,\r\n  0x1877,\r\n  0x1880,\r\n  0x18a8,\r\n  0x1e00,\r\n  0x1e9b,\r\n  0x1ea0,\r\n  0x1ef9,\r\n  0x1f00,\r\n  0x1f15,\r\n  0x1f18,\r\n  0x1f1d,\r\n  0x1f20,\r\n  0x1f45,\r\n  0x1f48,\r\n  0x1f4d,\r\n  0x1f50,\r\n  0x1f57,\r\n  0x1f59,\r\n  0x1f59,\r\n  0x1f5b,\r\n  0x1f5b,\r\n  0x1f5d,\r\n  0x1f5d,\r\n  0x1f5f,\r\n  0x1f7d,\r\n  0x1f80,\r\n  0x1fb4,\r\n  0x1fb6,\r\n  0x1fbc,\r\n  0x1fbe,\r\n  0x1fbe,\r\n  0x1fc2,\r\n  0x1fc4,\r\n  0x1fc6,\r\n  0x1fcc,\r\n  0x1fd0,\r\n  0x1fd3,\r\n  0x1fd6,\r\n  0x1fdb,\r\n  0x1fe0,\r\n  0x1fec,\r\n  0x1ff2,\r\n  0x1ff4,\r\n  0x1ff6,\r\n  0x1ffc,\r\n  0x200e,\r\n  0x200e,\r\n  0x2071,\r\n  0x2071,\r\n  0x207f,\r\n  0x207f,\r\n  0x2102,\r\n  0x2102,\r\n  0x2107,\r\n  0x2107,\r\n  0x210a,\r\n  0x2113,\r\n  0x2115,\r\n  0x2115,\r\n  0x2119,\r\n  0x211d,\r\n  0x2124,\r\n  0x2124,\r\n  0x2126,\r\n  0x2126,\r\n  0x2128,\r\n  0x2128,\r\n  0x212a,\r\n  0x212d,\r\n  0x212f,\r\n  0x2131,\r\n  0x2133,\r\n  0x2139,\r\n  0x213d,\r\n  0x213f,\r\n  0x2145,\r\n  0x2149,\r\n  0x2160,\r\n  0x2183,\r\n  0x2336,\r\n  0x237a,\r\n  0x2395,\r\n  0x2395,\r\n  0x249c,\r\n  0x24e9,\r\n  0x3005,\r\n  0x3007,\r\n  0x3021,\r\n  0x3029,\r\n  0x3031,\r\n  0x3035,\r\n  0x3038,\r\n  0x303c,\r\n  0x3041,\r\n  0x3096,\r\n  0x309d,\r\n  0x309f,\r\n  0x30a1,\r\n  0x30fa,\r\n  0x30fc,\r\n  0x30ff,\r\n  0x3105,\r\n  0x312c,\r\n  0x3131,\r\n  0x318e,\r\n  0x3190,\r\n  0x31b7,\r\n  0x31f0,\r\n  0x321c,\r\n  0x3220,\r\n  0x3243,\r\n  0x3260,\r\n  0x327b,\r\n  0x327f,\r\n  0x32b0,\r\n  0x32c0,\r\n  0x32cb,\r\n  0x32d0,\r\n  0x32fe,\r\n  0x3300,\r\n  0x3376,\r\n  0x337b,\r\n  0x33dd,\r\n  0x33e0,\r\n  0x33fe,\r\n  0x3400,\r\n  0x4db5,\r\n  0x4e00,\r\n  0x9fa5,\r\n  0xa000,\r\n  0xa48c,\r\n  0xac00,\r\n  0xd7a3,\r\n  0xd800,\r\n  0xfa2d,\r\n  0xfa30,\r\n  0xfa6a,\r\n  0xfb00,\r\n  0xfb06,\r\n  0xfb13,\r\n  0xfb17,\r\n  0xff21,\r\n  0xff3a,\r\n  0xff41,\r\n  0xff5a,\r\n  0xff66,\r\n  0xffbe,\r\n  0xffc2,\r\n  0xffc7,\r\n  0xffca,\r\n  0xffcf,\r\n  0xffd2,\r\n  0xffd7,\r\n  0xffda,\r\n  0xffdc,\r\n  0x10300,\r\n  0x1031e,\r\n  0x10320,\r\n  0x10323,\r\n  0x10330,\r\n  0x1034a,\r\n  0x10400,\r\n  0x10425,\r\n  0x10428,\r\n  0x1044d,\r\n  0x1d000,\r\n  0x1d0f5,\r\n  0x1d100,\r\n  0x1d126,\r\n  0x1d12a,\r\n  0x1d166,\r\n  0x1d16a,\r\n  0x1d172,\r\n  0x1d183,\r\n  0x1d184,\r\n  0x1d18c,\r\n  0x1d1a9,\r\n  0x1d1ae,\r\n  0x1d1dd,\r\n  0x1d400,\r\n  0x1d454,\r\n  0x1d456,\r\n  0x1d49c,\r\n  0x1d49e,\r\n  0x1d49f,\r\n  0x1d4a2,\r\n  0x1d4a2,\r\n  0x1d4a5,\r\n  0x1d4a6,\r\n  0x1d4a9,\r\n  0x1d4ac,\r\n  0x1d4ae,\r\n  0x1d4b9,\r\n  0x1d4bb,\r\n  0x1d4bb,\r\n  0x1d4bd,\r\n  0x1d4c0,\r\n  0x1d4c2,\r\n  0x1d4c3,\r\n  0x1d4c5,\r\n  0x1d505,\r\n  0x1d507,\r\n  0x1d50a,\r\n  0x1d50d,\r\n  0x1d514,\r\n  0x1d516,\r\n  0x1d51c,\r\n  0x1d51e,\r\n  0x1d539,\r\n  0x1d53b,\r\n  0x1d53e,\r\n  0x1d540,\r\n  0x1d544,\r\n  0x1d546,\r\n  0x1d546,\r\n  0x1d54a,\r\n  0x1d550,\r\n  0x1d552,\r\n  0x1d6a3,\r\n  0x1d6a8,\r\n  0x1d7c9,\r\n  0x20000,\r\n  0x2a6d6,\r\n  0x2f800,\r\n  0x2fa1d,\r\n  0xf0000,\r\n  0xffffd,\r\n  0x100000,\r\n  0x10fffd\r\n];\r\n// prettier-ignore-end\r\n\r\nconst isBidirectionalL = character => inRange(character, bidirectional_l);\r\n\r\nexport {\r\n  isUnassignedCodePoint,\r\n  isCommonlyMappedToNothing,\r\n  isNonASCIISpaceCharacter,\r\n  isProhibitedCharacter,\r\n  isBidirectionalRAL,\r\n  isBidirectionalL\r\n};\r\n","import {\r\n  isUnassignedCodePoint,\r\n  isCommonlyMappedToNothing,\r\n  isNonASCIISpaceCharacter,\r\n  isProhibitedCharacter,\r\n  isBidirectionalRAL,\r\n  isBidirectionalL\r\n} from './lib/code-points';\r\n\r\n// 2.1.  Mapping\r\n\r\n/**\r\n * non-ASCII space characters [StringPrep, C.1.2] that can be\r\n * mapped to SPACE (U+0020)\r\n */\r\nconst mapping2space = isNonASCIISpaceCharacter;\r\n\r\n/**\r\n * the \"commonly mapped to nothing\" characters [StringPrep, B.1]\r\n * that can be mapped to nothing.\r\n */\r\nconst mapping2nothing = isCommonlyMappedToNothing;\r\n\r\n// utils\r\nconst getCodePoint = character => character.codePointAt(0);\r\nconst first = x => x[0];\r\nconst last = x => x[x.length - 1];\r\n\r\n/**\r\n * Convert provided string into an array of Unicode Code Points.\r\n * Based on https://stackoverflow.com/a/21409165/1556249\r\n * and https://www.npmjs.com/package/code-point-at.\r\n * @param {string} input\r\n * @returns {number[]}\r\n */\r\nfunction toCodePoints(input) {\r\n  const codepoints = [];\r\n  const size = input.length;\r\n\r\n  for (let i = 0; i < size; i += 1) {\r\n    const before = input.charCodeAt(i);\r\n\r\n    if (before >= 0xd800 && before <= 0xdbff && size > i + 1) {\r\n      const next = input.charCodeAt(i + 1);\r\n\r\n      if (next >= 0xdc00 && next <= 0xdfff) {\r\n        codepoints.push((before - 0xd800) * 0x400 + next - 0xdc00 + 0x10000);\r\n        i += 1;\r\n        continue;\r\n      }\r\n    }\r\n\r\n    codepoints.push(before);\r\n  }\r\n\r\n  return codepoints;\r\n}\r\n\r\n/**\r\n * SASLprep.\r\n * @param {string} input\r\n * @param {Object} opts\r\n * @param {boolean} opts.allowUnassigned\r\n * @returns {string}\r\n */\r\nfunction saslprep(input, opts = {}) {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected string.');\r\n  }\r\n\r\n  if (input.length === 0) {\r\n    return '';\r\n  }\r\n\r\n  // 1. Map\r\n  const mapped_input = toCodePoints(input)\r\n    // 1.1 mapping to space\r\n    .map(character => (mapping2space(character) ? 0x20 : character))\r\n    // 1.2 mapping to nothing\r\n    .filter(character => !mapping2nothing(character));\r\n\r\n  // 2. Normalize\r\n  const normalized_input = String.fromCodePoint\r\n    .apply(null, mapped_input)\r\n    .normalize('NFKC');\r\n\r\n  const normalized_map = toCodePoints(normalized_input);\r\n\r\n  // 3. Prohibit\r\n  const hasProhibited = normalized_map.some(isProhibitedCharacter);\r\n\r\n  if (hasProhibited) {\r\n    throw new Error(\r\n      'Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3'\r\n    );\r\n  }\r\n\r\n  // Unassigned Code Points\r\n  if (opts.allowUnassigned !== true) {\r\n    const hasUnassigned = normalized_map.some(isUnassignedCodePoint);\r\n\r\n    if (hasUnassigned) {\r\n      throw new Error(\r\n        'Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5'\r\n      );\r\n    }\r\n  }\r\n\r\n  // 4. check bidi\r\n\r\n  const hasBidiRAL = normalized_map.some(isBidirectionalRAL);\r\n\r\n  const hasBidiL = normalized_map.some(isBidirectionalL);\r\n\r\n  // 4.1 If a string contains any RandALCat character, the string MUST NOT\r\n  // contain any LCat character.\r\n  if (hasBidiRAL && hasBidiL) {\r\n    throw new Error(\r\n      'String must not contain RandALCat and LCat at the same time,' +\r\n        ' see https://tools.ietf.org/html/rfc3454#section-6'\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 4.2 If a string contains any RandALCat character, a RandALCat\r\n   * character MUST be the first character of the string, and a\r\n   * RandALCat character MUST be the last character of the string.\r\n   */\r\n\r\n  const isFirstBidiRAL = isBidirectionalRAL(\r\n    getCodePoint(first(normalized_input))\r\n  );\r\n  const isLastBidiRAL = isBidirectionalRAL(\r\n    getCodePoint(last(normalized_input))\r\n  );\r\n\r\n  if (hasBidiRAL && !(isFirstBidiRAL && isLastBidiRAL)) {\r\n    throw new Error(\r\n      'Bidirectional RandALCat character must be the first and the last' +\r\n        ' character of the string, see https://tools.ietf.org/html/rfc3454#section-6'\r\n    );\r\n  }\r\n\r\n  return normalized_input;\r\n}\r\n\r\nexport default saslprep;\r\n","/*\r\n   PDFSecurity - represents PDF security settings\r\n   By Yang Liu <hi@zesik.com>\r\n */\r\n\r\nimport CryptoJS from 'crypto-js';\r\nimport saslprep from './saslprep/index';\r\n\r\nclass PDFSecurity {\r\n  static generateFileID(info = {}) {\r\n    let infoStr = `${info.CreationDate.getTime()}\\n`;\r\n\r\n    for (let key in info) {\r\n      // eslint-disable-next-line no-prototype-builtins\r\n      if (!info.hasOwnProperty(key)) {\r\n        continue;\r\n      }\r\n      infoStr += `${key}: ${info[key].valueOf()}\\n`;\r\n    }\r\n\r\n    return wordArrayToBuffer(CryptoJS.MD5(infoStr));\r\n  }\r\n\r\n  static generateRandomWordArray(bytes) {\r\n    return CryptoJS.lib.WordArray.random(bytes);\r\n  }\r\n\r\n  static create(document, options = {}) {\r\n    if (!options.ownerPassword && !options.userPassword) {\r\n      return null;\r\n    }\r\n    return new PDFSecurity(document, options);\r\n  }\r\n\r\n  constructor(document, options = {}) {\r\n    if (!options.ownerPassword && !options.userPassword) {\r\n      throw new Error('None of owner password and user password is defined.');\r\n    }\r\n\r\n    this.document = document;\r\n    this._setupEncryption(options);\r\n  }\r\n\r\n  _setupEncryption(options) {\r\n    switch (options.pdfVersion) {\r\n      case '1.4':\r\n      case '1.5':\r\n        this.version = 2;\r\n        break;\r\n      case '1.6':\r\n      case '1.7':\r\n        this.version = 4;\r\n        break;\r\n      case '1.7ext3':\r\n        this.version = 5;\r\n        break;\r\n      default:\r\n        this.version = 1;\r\n        break;\r\n    }\r\n\r\n    const encDict = {\r\n      Filter: 'Standard'\r\n    };\r\n\r\n    switch (this.version) {\r\n      case 1:\r\n      case 2:\r\n      case 4:\r\n        this._setupEncryptionV1V2V4(this.version, encDict, options);\r\n        break;\r\n      case 5:\r\n        this._setupEncryptionV5(encDict, options);\r\n        break;\r\n    }\r\n\r\n    this.dictionary = this.document.ref(encDict);\r\n  }\r\n\r\n  _setupEncryptionV1V2V4(v, encDict, options) {\r\n    let r, permissions;\r\n    switch (v) {\r\n      case 1:\r\n        r = 2;\r\n        this.keyBits = 40;\r\n        permissions = getPermissionsR2(options.permissions);\r\n        break;\r\n      case 2:\r\n        r = 3;\r\n        this.keyBits = 128;\r\n        permissions = getPermissionsR3(options.permissions);\r\n        break;\r\n      case 4:\r\n        r = 4;\r\n        this.keyBits = 128;\r\n        permissions = getPermissionsR3(options.permissions);\r\n        break;\r\n    }\r\n\r\n    const paddedUserPassword = processPasswordR2R3R4(options.userPassword);\r\n    const paddedOwnerPassword = options.ownerPassword\r\n      ? processPasswordR2R3R4(options.ownerPassword)\r\n      : paddedUserPassword;\r\n\r\n    const ownerPasswordEntry = getOwnerPasswordR2R3R4(\r\n      r,\r\n      this.keyBits,\r\n      paddedUserPassword,\r\n      paddedOwnerPassword\r\n    );\r\n    this.encryptionKey = getEncryptionKeyR2R3R4(\r\n      r,\r\n      this.keyBits,\r\n      this.document._id,\r\n      paddedUserPassword,\r\n      ownerPasswordEntry,\r\n      permissions\r\n    );\r\n    let userPasswordEntry;\r\n    if (r === 2) {\r\n      userPasswordEntry = getUserPasswordR2(this.encryptionKey);\r\n    } else {\r\n      userPasswordEntry = getUserPasswordR3R4(\r\n        this.document._id,\r\n        this.encryptionKey\r\n      );\r\n    }\r\n\r\n    encDict.V = v;\r\n    if (v >= 2) {\r\n      encDict.Length = this.keyBits;\r\n    }\r\n    if (v === 4) {\r\n      encDict.CF = {\r\n        StdCF: {\r\n          AuthEvent: 'DocOpen',\r\n          CFM: 'AESV2',\r\n          Length: this.keyBits / 8\r\n        }\r\n      };\r\n      encDict.StmF = 'StdCF';\r\n      encDict.StrF = 'StdCF';\r\n    }\r\n    encDict.R = r;\r\n    encDict.O = wordArrayToBuffer(ownerPasswordEntry);\r\n    encDict.U = wordArrayToBuffer(userPasswordEntry);\r\n    encDict.P = permissions;\r\n  }\r\n\r\n  _setupEncryptionV5(encDict, options) {\r\n    this.keyBits = 256;\r\n    const permissions = getPermissionsR3(options.permissions);\r\n\r\n    const processedUserPassword = processPasswordR5(options.userPassword);\r\n    const processedOwnerPassword = options.ownerPassword\r\n      ? processPasswordR5(options.ownerPassword)\r\n      : processedUserPassword;\r\n\r\n    this.encryptionKey = getEncryptionKeyR5(\r\n      PDFSecurity.generateRandomWordArray\r\n    );\r\n    const userPasswordEntry = getUserPasswordR5(\r\n      processedUserPassword,\r\n      PDFSecurity.generateRandomWordArray\r\n    );\r\n    const userKeySalt = CryptoJS.lib.WordArray.create(\r\n      userPasswordEntry.words.slice(10, 12),\r\n      8\r\n    );\r\n    const userEncryptionKeyEntry = getUserEncryptionKeyR5(\r\n      processedUserPassword,\r\n      userKeySalt,\r\n      this.encryptionKey\r\n    );\r\n    const ownerPasswordEntry = getOwnerPasswordR5(\r\n      processedOwnerPassword,\r\n      userPasswordEntry,\r\n      PDFSecurity.generateRandomWordArray\r\n    );\r\n    const ownerKeySalt = CryptoJS.lib.WordArray.create(\r\n      ownerPasswordEntry.words.slice(10, 12),\r\n      8\r\n    );\r\n    const ownerEncryptionKeyEntry = getOwnerEncryptionKeyR5(\r\n      processedOwnerPassword,\r\n      ownerKeySalt,\r\n      userPasswordEntry,\r\n      this.encryptionKey\r\n    );\r\n    const permsEntry = getEncryptedPermissionsR5(\r\n      permissions,\r\n      this.encryptionKey,\r\n      PDFSecurity.generateRandomWordArray\r\n    );\r\n\r\n    encDict.V = 5;\r\n    encDict.Length = this.keyBits;\r\n    encDict.CF = {\r\n      StdCF: {\r\n        AuthEvent: 'DocOpen',\r\n        CFM: 'AESV3',\r\n        Length: this.keyBits / 8\r\n      }\r\n    };\r\n    encDict.StmF = 'StdCF';\r\n    encDict.StrF = 'StdCF';\r\n    encDict.R = 5;\r\n    encDict.O = wordArrayToBuffer(ownerPasswordEntry);\r\n    encDict.OE = wordArrayToBuffer(ownerEncryptionKeyEntry);\r\n    encDict.U = wordArrayToBuffer(userPasswordEntry);\r\n    encDict.UE = wordArrayToBuffer(userEncryptionKeyEntry);\r\n    encDict.P = permissions;\r\n    encDict.Perms = wordArrayToBuffer(permsEntry);\r\n  }\r\n\r\n  getEncryptFn(obj, gen) {\r\n    let digest;\r\n    if (this.version < 5) {\r\n      digest = this.encryptionKey\r\n        .clone()\r\n        .concat(\r\n          CryptoJS.lib.WordArray.create(\r\n            [\r\n              ((obj & 0xff) << 24) |\r\n                ((obj & 0xff00) << 8) |\r\n                ((obj >> 8) & 0xff00) |\r\n                (gen & 0xff),\r\n              (gen & 0xff00) << 16\r\n            ],\r\n            5\r\n          )\r\n        );\r\n    }\r\n\r\n    if (this.version === 1 || this.version === 2) {\r\n      let key = CryptoJS.MD5(digest);\r\n      key.sigBytes = Math.min(16, this.keyBits / 8 + 5);\r\n      return buffer =>\r\n        wordArrayToBuffer(\r\n          CryptoJS.RC4.encrypt(CryptoJS.lib.WordArray.create(buffer), key)\r\n            .ciphertext\r\n        );\r\n    }\r\n\r\n    let key;\r\n    if (this.version === 4) {\r\n      key = CryptoJS.MD5(\r\n        digest.concat(CryptoJS.lib.WordArray.create([0x73416c54], 4))\r\n      );\r\n    } else {\r\n      key = this.encryptionKey;\r\n    }\r\n\r\n    const iv = PDFSecurity.generateRandomWordArray(16);\r\n    const options = {\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7,\r\n      iv\r\n    };\r\n\r\n    return buffer =>\r\n      wordArrayToBuffer(\r\n        iv\r\n          .clone()\r\n          .concat(\r\n            CryptoJS.AES.encrypt(\r\n              CryptoJS.lib.WordArray.create(buffer),\r\n              key,\r\n              options\r\n            ).ciphertext\r\n          )\r\n      );\r\n  }\r\n\r\n  end() {\r\n    this.dictionary.end();\r\n  }\r\n}\r\n\r\nfunction getPermissionsR2(permissionObject = {}) {\r\n  let permissions = 0xffffffc0 >> 0;\r\n  if (permissionObject.printing) {\r\n    permissions |= 0b000000000100;\r\n  }\r\n  if (permissionObject.modifying) {\r\n    permissions |= 0b000000001000;\r\n  }\r\n  if (permissionObject.copying) {\r\n    permissions |= 0b000000010000;\r\n  }\r\n  if (permissionObject.annotating) {\r\n    permissions |= 0b000000100000;\r\n  }\r\n  return permissions;\r\n}\r\n\r\nfunction getPermissionsR3(permissionObject = {}) {\r\n  let permissions = 0xfffff0c0 >> 0;\r\n  if (permissionObject.printing === 'lowResolution') {\r\n    permissions |= 0b000000000100;\r\n  }\r\n  if (permissionObject.printing === 'highResolution') {\r\n    permissions |= 0b100000000100;\r\n  }\r\n  if (permissionObject.modifying) {\r\n    permissions |= 0b000000001000;\r\n  }\r\n  if (permissionObject.copying) {\r\n    permissions |= 0b000000010000;\r\n  }\r\n  if (permissionObject.annotating) {\r\n    permissions |= 0b000000100000;\r\n  }\r\n  if (permissionObject.fillingForms) {\r\n    permissions |= 0b000100000000;\r\n  }\r\n  if (permissionObject.contentAccessibility) {\r\n    permissions |= 0b001000000000;\r\n  }\r\n  if (permissionObject.documentAssembly) {\r\n    permissions |= 0b010000000000;\r\n  }\r\n  return permissions;\r\n}\r\n\r\nfunction getUserPasswordR2(encryptionKey) {\r\n  return CryptoJS.RC4.encrypt(processPasswordR2R3R4(), encryptionKey)\r\n    .ciphertext;\r\n}\r\n\r\nfunction getUserPasswordR3R4(documentId, encryptionKey) {\r\n  const key = encryptionKey.clone();\r\n  let cipher = CryptoJS.MD5(\r\n    processPasswordR2R3R4().concat(CryptoJS.lib.WordArray.create(documentId))\r\n  );\r\n  for (let i = 0; i < 20; i++) {\r\n    const xorRound = Math.ceil(key.sigBytes / 4);\r\n    for (let j = 0; j < xorRound; j++) {\r\n      key.words[j] =\r\n        encryptionKey.words[j] ^ (i | (i << 8) | (i << 16) | (i << 24));\r\n    }\r\n    cipher = CryptoJS.RC4.encrypt(cipher, key).ciphertext;\r\n  }\r\n  return cipher.concat(CryptoJS.lib.WordArray.create(null, 16));\r\n}\r\n\r\nfunction getOwnerPasswordR2R3R4(\r\n  r,\r\n  keyBits,\r\n  paddedUserPassword,\r\n  paddedOwnerPassword\r\n) {\r\n  let digest = paddedOwnerPassword;\r\n  let round = r >= 3 ? 51 : 1;\r\n  for (let i = 0; i < round; i++) {\r\n    digest = CryptoJS.MD5(digest);\r\n  }\r\n\r\n  const key = digest.clone();\r\n  key.sigBytes = keyBits / 8;\r\n  let cipher = paddedUserPassword;\r\n  round = r >= 3 ? 20 : 1;\r\n  for (let i = 0; i < round; i++) {\r\n    const xorRound = Math.ceil(key.sigBytes / 4);\r\n    for (let j = 0; j < xorRound; j++) {\r\n      key.words[j] = digest.words[j] ^ (i | (i << 8) | (i << 16) | (i << 24));\r\n    }\r\n    cipher = CryptoJS.RC4.encrypt(cipher, key).ciphertext;\r\n  }\r\n  return cipher;\r\n}\r\n\r\nfunction getEncryptionKeyR2R3R4(\r\n  r,\r\n  keyBits,\r\n  documentId,\r\n  paddedUserPassword,\r\n  ownerPasswordEntry,\r\n  permissions\r\n) {\r\n  let key = paddedUserPassword\r\n    .clone()\r\n    .concat(ownerPasswordEntry)\r\n    .concat(CryptoJS.lib.WordArray.create([lsbFirstWord(permissions)], 4))\r\n    .concat(CryptoJS.lib.WordArray.create(documentId));\r\n  const round = r >= 3 ? 51 : 1;\r\n  for (let i = 0; i < round; i++) {\r\n    key = CryptoJS.MD5(key);\r\n    key.sigBytes = keyBits / 8;\r\n  }\r\n  return key;\r\n}\r\n\r\nfunction getUserPasswordR5(processedUserPassword, generateRandomWordArray) {\r\n  const validationSalt = generateRandomWordArray(8);\r\n  const keySalt = generateRandomWordArray(8);\r\n  return CryptoJS.SHA256(processedUserPassword.clone().concat(validationSalt))\r\n    .concat(validationSalt)\r\n    .concat(keySalt);\r\n}\r\n\r\nfunction getUserEncryptionKeyR5(\r\n  processedUserPassword,\r\n  userKeySalt,\r\n  encryptionKey\r\n) {\r\n  const key = CryptoJS.SHA256(\r\n    processedUserPassword.clone().concat(userKeySalt)\r\n  );\r\n  const options = {\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.NoPadding,\r\n    iv: CryptoJS.lib.WordArray.create(null, 16)\r\n  };\r\n  return CryptoJS.AES.encrypt(encryptionKey, key, options).ciphertext;\r\n}\r\n\r\nfunction getOwnerPasswordR5(\r\n  processedOwnerPassword,\r\n  userPasswordEntry,\r\n  generateRandomWordArray\r\n) {\r\n  const validationSalt = generateRandomWordArray(8);\r\n  const keySalt = generateRandomWordArray(8);\r\n  return CryptoJS.SHA256(\r\n    processedOwnerPassword\r\n      .clone()\r\n      .concat(validationSalt)\r\n      .concat(userPasswordEntry)\r\n  )\r\n    .concat(validationSalt)\r\n    .concat(keySalt);\r\n}\r\n\r\nfunction getOwnerEncryptionKeyR5(\r\n  processedOwnerPassword,\r\n  ownerKeySalt,\r\n  userPasswordEntry,\r\n  encryptionKey\r\n) {\r\n  const key = CryptoJS.SHA256(\r\n    processedOwnerPassword\r\n      .clone()\r\n      .concat(ownerKeySalt)\r\n      .concat(userPasswordEntry)\r\n  );\r\n  const options = {\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.NoPadding,\r\n    iv: CryptoJS.lib.WordArray.create(null, 16)\r\n  };\r\n  return CryptoJS.AES.encrypt(encryptionKey, key, options).ciphertext;\r\n}\r\n\r\nfunction getEncryptionKeyR5(generateRandomWordArray) {\r\n  return generateRandomWordArray(32);\r\n}\r\n\r\nfunction getEncryptedPermissionsR5(\r\n  permissions,\r\n  encryptionKey,\r\n  generateRandomWordArray\r\n) {\r\n  const cipher = CryptoJS.lib.WordArray.create(\r\n    [lsbFirstWord(permissions), 0xffffffff, 0x54616462],\r\n    12\r\n  ).concat(generateRandomWordArray(4));\r\n  const options = {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.NoPadding\r\n  };\r\n  return CryptoJS.AES.encrypt(cipher, encryptionKey, options).ciphertext;\r\n}\r\n\r\nfunction processPasswordR2R3R4(password = '') {\r\n  const out = Buffer.alloc(32);\r\n  const length = password.length;\r\n  let index = 0;\r\n  while (index < length && index < 32) {\r\n    const code = password.charCodeAt(index);\r\n    if (code > 0xff) {\r\n      throw new Error('Password contains one or more invalid characters.');\r\n    }\r\n    out[index] = code;\r\n    index++;\r\n  }\r\n  while (index < 32) {\r\n    out[index] = PASSWORD_PADDING[index - length];\r\n    index++;\r\n  }\r\n  return CryptoJS.lib.WordArray.create(out);\r\n}\r\n\r\nfunction processPasswordR5(password = '') {\r\n  password = unescape(encodeURIComponent(saslprep(password)));\r\n  const length = Math.min(127, password.length);\r\n  const out = Buffer.alloc(length);\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    out[i] = password.charCodeAt(i);\r\n  }\r\n\r\n  return CryptoJS.lib.WordArray.create(out);\r\n}\r\n\r\nfunction lsbFirstWord(data) {\r\n  return (\r\n    ((data & 0xff) << 24) |\r\n    ((data & 0xff00) << 8) |\r\n    ((data >> 8) & 0xff00) |\r\n    ((data >> 24) & 0xff)\r\n  );\r\n}\r\n\r\nfunction wordArrayToBuffer(wordArray) {\r\n  const byteArray = [];\r\n  for (let i = 0; i < wordArray.sigBytes; i++) {\r\n    byteArray.push(\r\n      (wordArray.words[Math.floor(i / 4)] >> (8 * (3 - (i % 4)))) & 0xff\r\n    );\r\n  }\r\n  return Buffer.from(byteArray);\r\n}\r\n\r\nconst PASSWORD_PADDING = [\r\n  0x28,\r\n  0xbf,\r\n  0x4e,\r\n  0x5e,\r\n  0x4e,\r\n  0x75,\r\n  0x8a,\r\n  0x41,\r\n  0x64,\r\n  0x00,\r\n  0x4e,\r\n  0x56,\r\n  0xff,\r\n  0xfa,\r\n  0x01,\r\n  0x08,\r\n  0x2e,\r\n  0x2e,\r\n  0x00,\r\n  0xb6,\r\n  0xd0,\r\n  0x68,\r\n  0x3e,\r\n  0x80,\r\n  0x2f,\r\n  0x0c,\r\n  0xa9,\r\n  0xfe,\r\n  0x64,\r\n  0x53,\r\n  0x69,\r\n  0x7a\r\n];\r\n\r\nexport default PDFSecurity;\r\n","import PDFObject from './object';\r\n\r\nconst { number } = PDFObject;\r\n\r\nclass PDFGradient {\r\n  constructor(doc) {\r\n    this.doc = doc;\r\n    this.stops = [];\r\n    this.embedded = false;\r\n    this.transform = [1, 0, 0, 1, 0, 0];\r\n  }\r\n\r\n  stop(pos, color, opacity) {\r\n    if (opacity == null) {\r\n      opacity = 1;\r\n    }\r\n    color = this.doc._normalizeColor(color);\r\n\r\n    if (this.stops.length === 0) {\r\n      if (color.length === 3) {\r\n        this._colorSpace = 'DeviceRGB';\r\n      } else if (color.length === 4) {\r\n        this._colorSpace = 'DeviceCMYK';\r\n      } else if (color.length === 1) {\r\n        this._colorSpace = 'DeviceGray';\r\n      } else {\r\n        throw new Error('Unknown color space');\r\n      }\r\n    } else if (\r\n      (this._colorSpace === 'DeviceRGB' && color.length !== 3) ||\r\n      (this._colorSpace === 'DeviceCMYK' && color.length !== 4) ||\r\n      (this._colorSpace === 'DeviceGray' && color.length !== 1)\r\n    ) {\r\n      throw new Error('All gradient stops must use the same color space');\r\n    }\r\n\r\n    opacity = Math.max(0, Math.min(1, opacity));\r\n    this.stops.push([pos, color, opacity]);\r\n    return this;\r\n  }\r\n\r\n  setTransform(m11, m12, m21, m22, dx, dy) {\r\n    this.transform = [m11, m12, m21, m22, dx, dy];\r\n    return this;\r\n  }\r\n\r\n  embed(m) {\r\n    let fn;\r\n    const stopsLength = this.stops.length;\r\n    if (stopsLength === 0) {\r\n      return;\r\n    }\r\n    this.embedded = true;\r\n    this.matrix = m;\r\n\r\n    // if the last stop comes before 100%, add a copy at 100%\r\n    const last = this.stops[stopsLength - 1];\r\n    if (last[0] < 1) {\r\n      this.stops.push([1, last[1], last[2]]);\r\n    }\r\n\r\n    const bounds = [];\r\n    const encode = [];\r\n    const stops = [];\r\n\r\n    for (let i = 0; i < stopsLength - 1; i++) {\r\n      encode.push(0, 1);\r\n      if (i + 2 !== stopsLength) {\r\n        bounds.push(this.stops[i + 1][0]);\r\n      }\r\n\r\n      fn = this.doc.ref({\r\n        FunctionType: 2,\r\n        Domain: [0, 1],\r\n        C0: this.stops[i + 0][1],\r\n        C1: this.stops[i + 1][1],\r\n        N: 1\r\n      });\r\n\r\n      stops.push(fn);\r\n      fn.end();\r\n    }\r\n\r\n    // if there are only two stops, we don't need a stitching function\r\n    if (stopsLength === 1) {\r\n      fn = stops[0];\r\n    } else {\r\n      fn = this.doc.ref({\r\n        FunctionType: 3, // stitching function\r\n        Domain: [0, 1],\r\n        Functions: stops,\r\n        Bounds: bounds,\r\n        Encode: encode\r\n      });\r\n\r\n      fn.end();\r\n    }\r\n\r\n    this.id = `Sh${++this.doc._gradCount}`;\r\n\r\n    const shader = this.shader(fn);\r\n    shader.end();\r\n\r\n    const pattern = this.doc.ref({\r\n      Type: 'Pattern',\r\n      PatternType: 2,\r\n      Shading: shader,\r\n      Matrix: this.matrix.map(number)\r\n    });\r\n\r\n    pattern.end();\r\n\r\n    if (this.stops.some(stop => stop[2] < 1)) {\r\n      let grad = this.opacityGradient();\r\n      grad._colorSpace = 'DeviceGray';\r\n\r\n      for (let stop of this.stops) {\r\n        grad.stop(stop[0], [stop[2]]);\r\n      }\r\n\r\n      grad = grad.embed(this.matrix);\r\n\r\n      const pageBBox = [0, 0, this.doc.page.width, this.doc.page.height];\r\n\r\n      const form = this.doc.ref({\r\n        Type: 'XObject',\r\n        Subtype: 'Form',\r\n        FormType: 1,\r\n        BBox: pageBBox,\r\n        Group: {\r\n          Type: 'Group',\r\n          S: 'Transparency',\r\n          CS: 'DeviceGray'\r\n        },\r\n        Resources: {\r\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\r\n          Pattern: {\r\n            Sh1: grad\r\n          }\r\n        }\r\n      });\r\n\r\n      form.write('/Pattern cs /Sh1 scn');\r\n      form.end(`${pageBBox.join(' ')} re f`);\r\n\r\n      const gstate = this.doc.ref({\r\n        Type: 'ExtGState',\r\n        SMask: {\r\n          Type: 'Mask',\r\n          S: 'Luminosity',\r\n          G: form\r\n        }\r\n      });\r\n\r\n      gstate.end();\r\n\r\n      const opacityPattern = this.doc.ref({\r\n        Type: 'Pattern',\r\n        PatternType: 1,\r\n        PaintType: 1,\r\n        TilingType: 2,\r\n        BBox: pageBBox,\r\n        XStep: pageBBox[2],\r\n        YStep: pageBBox[3],\r\n        Resources: {\r\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\r\n          Pattern: {\r\n            Sh1: pattern\r\n          },\r\n          ExtGState: {\r\n            Gs1: gstate\r\n          }\r\n        }\r\n      });\r\n\r\n      opacityPattern.write('/Gs1 gs /Pattern cs /Sh1 scn');\r\n      opacityPattern.end(`${pageBBox.join(' ')} re f`);\r\n\r\n      this.doc.page.patterns[this.id] = opacityPattern;\r\n    } else {\r\n      this.doc.page.patterns[this.id] = pattern;\r\n    }\r\n\r\n    return pattern;\r\n  }\r\n\r\n  apply(op) {\r\n    // apply gradient transform to existing document ctm\r\n    const [m0, m1, m2, m3, m4, m5] = this.doc._ctm;\r\n    const [m11, m12, m21, m22, dx, dy] = this.transform;\r\n    const m = [\r\n      m0 * m11 + m2 * m12,\r\n      m1 * m11 + m3 * m12,\r\n      m0 * m21 + m2 * m22,\r\n      m1 * m21 + m3 * m22,\r\n      m0 * dx + m2 * dy + m4,\r\n      m1 * dx + m3 * dy + m5\r\n    ];\r\n\r\n    if (!this.embedded || m.join(' ') !== this.matrix.join(' ')) {\r\n      this.embed(m);\r\n    }\r\n    return this.doc.addContent(`/${this.id} ${op}`);\r\n  }\r\n}\r\n\r\nclass PDFLinearGradient extends PDFGradient {\r\n  constructor(doc, x1, y1, x2, y2) {\r\n    super(doc);\r\n    this.x1 = x1;\r\n    this.y1 = y1;\r\n    this.x2 = x2;\r\n    this.y2 = y2;\r\n  }\r\n\r\n  shader(fn) {\r\n    return this.doc.ref({\r\n      ShadingType: 2,\r\n      ColorSpace: this._colorSpace,\r\n      Coords: [this.x1, this.y1, this.x2, this.y2],\r\n      Function: fn,\r\n      Extend: [true, true]\r\n    });\r\n  }\r\n\r\n  opacityGradient() {\r\n    return new PDFLinearGradient(this.doc, this.x1, this.y1, this.x2, this.y2);\r\n  }\r\n}\r\n\r\nclass PDFRadialGradient extends PDFGradient {\r\n  constructor(doc, x1, y1, r1, x2, y2, r2) {\r\n    super(doc);\r\n    this.doc = doc;\r\n    this.x1 = x1;\r\n    this.y1 = y1;\r\n    this.r1 = r1;\r\n    this.x2 = x2;\r\n    this.y2 = y2;\r\n    this.r2 = r2;\r\n  }\r\n\r\n  shader(fn) {\r\n    return this.doc.ref({\r\n      ShadingType: 3,\r\n      ColorSpace: this._colorSpace,\r\n      Coords: [this.x1, this.y1, this.r1, this.x2, this.y2, this.r2],\r\n      Function: fn,\r\n      Extend: [true, true]\r\n    });\r\n  }\r\n\r\n  opacityGradient() {\r\n    return new PDFRadialGradient(\r\n      this.doc,\r\n      this.x1,\r\n      this.y1,\r\n      this.r1,\r\n      this.x2,\r\n      this.y2,\r\n      this.r2\r\n    );\r\n  }\r\n}\r\n\r\nexport default { PDFGradient, PDFLinearGradient, PDFRadialGradient };\r\n","import Gradient from '../gradient';\r\n\r\nconst { PDFGradient, PDFLinearGradient, PDFRadialGradient } = Gradient;\r\n\r\nexport default {\r\n  initColor() {\r\n    // The opacity dictionaries\r\n    this._opacityRegistry = {};\r\n    this._opacityCount = 0;\r\n    return (this._gradCount = 0);\r\n  },\r\n\r\n  _normalizeColor(color) {\r\n    if (color instanceof PDFGradient) {\r\n      return color;\r\n    }\r\n\r\n    if (typeof color === 'string') {\r\n      if (color.charAt(0) === '#') {\r\n        if (color.length === 4) {\r\n          color = color.replace(\r\n            /#([0-9A-F])([0-9A-F])([0-9A-F])/i,\r\n            '#$1$1$2$2$3$3'\r\n          );\r\n        }\r\n        const hex = parseInt(color.slice(1), 16);\r\n        color = [hex >> 16, (hex >> 8) & 0xff, hex & 0xff];\r\n      } else if (namedColors[color]) {\r\n        color = namedColors[color];\r\n      }\r\n    }\r\n\r\n    if (Array.isArray(color)) {\r\n      // RGB\r\n      if (color.length === 3) {\r\n        color = color.map(part => part / 255);\r\n        // CMYK\r\n      } else if (color.length === 4) {\r\n        color = color.map(part => part / 100);\r\n      }\r\n      return color;\r\n    }\r\n\r\n    return null;\r\n  },\r\n\r\n  _setColor(color, stroke) {\r\n    color = this._normalizeColor(color);\r\n    if (!color) {\r\n      return false;\r\n    }\r\n\r\n    const op = stroke ? 'SCN' : 'scn';\r\n\r\n    if (color instanceof PDFGradient) {\r\n      this._setColorSpace('Pattern', stroke);\r\n      color.apply(op);\r\n    } else {\r\n      const space = color.length === 4 ? 'DeviceCMYK' : 'DeviceRGB';\r\n      this._setColorSpace(space, stroke);\r\n\r\n      color = color.join(' ');\r\n      this.addContent(`${color} ${op}`);\r\n    }\r\n\r\n    return true;\r\n  },\r\n\r\n  _setColorSpace(space, stroke) {\r\n    const op = stroke ? 'CS' : 'cs';\r\n    return this.addContent(`/${space} ${op}`);\r\n  },\r\n\r\n  fillColor(color, opacity) {\r\n    const set = this._setColor(color, false);\r\n    if (set) {\r\n      this.fillOpacity(opacity);\r\n    }\r\n\r\n    // save this for text wrapper, which needs to reset\r\n    // the fill color on new pages\r\n    this._fillColor = [color, opacity];\r\n    return this;\r\n  },\r\n\r\n  strokeColor(color, opacity) {\r\n    const set = this._setColor(color, true);\r\n    if (set) {\r\n      this.strokeOpacity(opacity);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  opacity(opacity) {\r\n    this._doOpacity(opacity, opacity);\r\n    return this;\r\n  },\r\n\r\n  fillOpacity(opacity) {\r\n    this._doOpacity(opacity, null);\r\n    return this;\r\n  },\r\n\r\n  strokeOpacity(opacity) {\r\n    this._doOpacity(null, opacity);\r\n    return this;\r\n  },\r\n\r\n  _doOpacity(fillOpacity, strokeOpacity) {\r\n    let dictionary, name;\r\n    if (fillOpacity == null && strokeOpacity == null) {\r\n      return;\r\n    }\r\n\r\n    if (fillOpacity != null) {\r\n      fillOpacity = Math.max(0, Math.min(1, fillOpacity));\r\n    }\r\n    if (strokeOpacity != null) {\r\n      strokeOpacity = Math.max(0, Math.min(1, strokeOpacity));\r\n    }\r\n    const key = `${fillOpacity}_${strokeOpacity}`;\r\n\r\n    if (this._opacityRegistry[key]) {\r\n      [dictionary, name] = this._opacityRegistry[key];\r\n    } else {\r\n      dictionary = { Type: 'ExtGState' };\r\n\r\n      if (fillOpacity != null) {\r\n        dictionary.ca = fillOpacity;\r\n      }\r\n      if (strokeOpacity != null) {\r\n        dictionary.CA = strokeOpacity;\r\n      }\r\n\r\n      dictionary = this.ref(dictionary);\r\n      dictionary.end();\r\n      const id = ++this._opacityCount;\r\n      name = `Gs${id}`;\r\n      this._opacityRegistry[key] = [dictionary, name];\r\n    }\r\n\r\n    this.page.ext_gstates[name] = dictionary;\r\n    return this.addContent(`/${name} gs`);\r\n  },\r\n\r\n  linearGradient(x1, y1, x2, y2) {\r\n    return new PDFLinearGradient(this, x1, y1, x2, y2);\r\n  },\r\n\r\n  radialGradient(x1, y1, r1, x2, y2, r2) {\r\n    return new PDFRadialGradient(this, x1, y1, r1, x2, y2, r2);\r\n  }\r\n};\r\n\r\nvar namedColors = {\r\n  aliceblue: [240, 248, 255],\r\n  antiquewhite: [250, 235, 215],\r\n  aqua: [0, 255, 255],\r\n  aquamarine: [127, 255, 212],\r\n  azure: [240, 255, 255],\r\n  beige: [245, 245, 220],\r\n  bisque: [255, 228, 196],\r\n  black: [0, 0, 0],\r\n  blanchedalmond: [255, 235, 205],\r\n  blue: [0, 0, 255],\r\n  blueviolet: [138, 43, 226],\r\n  brown: [165, 42, 42],\r\n  burlywood: [222, 184, 135],\r\n  cadetblue: [95, 158, 160],\r\n  chartreuse: [127, 255, 0],\r\n  chocolate: [210, 105, 30],\r\n  coral: [255, 127, 80],\r\n  cornflowerblue: [100, 149, 237],\r\n  cornsilk: [255, 248, 220],\r\n  crimson: [220, 20, 60],\r\n  cyan: [0, 255, 255],\r\n  darkblue: [0, 0, 139],\r\n  darkcyan: [0, 139, 139],\r\n  darkgoldenrod: [184, 134, 11],\r\n  darkgray: [169, 169, 169],\r\n  darkgreen: [0, 100, 0],\r\n  darkgrey: [169, 169, 169],\r\n  darkkhaki: [189, 183, 107],\r\n  darkmagenta: [139, 0, 139],\r\n  darkolivegreen: [85, 107, 47],\r\n  darkorange: [255, 140, 0],\r\n  darkorchid: [153, 50, 204],\r\n  darkred: [139, 0, 0],\r\n  darksalmon: [233, 150, 122],\r\n  darkseagreen: [143, 188, 143],\r\n  darkslateblue: [72, 61, 139],\r\n  darkslategray: [47, 79, 79],\r\n  darkslategrey: [47, 79, 79],\r\n  darkturquoise: [0, 206, 209],\r\n  darkviolet: [148, 0, 211],\r\n  deeppink: [255, 20, 147],\r\n  deepskyblue: [0, 191, 255],\r\n  dimgray: [105, 105, 105],\r\n  dimgrey: [105, 105, 105],\r\n  dodgerblue: [30, 144, 255],\r\n  firebrick: [178, 34, 34],\r\n  floralwhite: [255, 250, 240],\r\n  forestgreen: [34, 139, 34],\r\n  fuchsia: [255, 0, 255],\r\n  gainsboro: [220, 220, 220],\r\n  ghostwhite: [248, 248, 255],\r\n  gold: [255, 215, 0],\r\n  goldenrod: [218, 165, 32],\r\n  gray: [128, 128, 128],\r\n  grey: [128, 128, 128],\r\n  green: [0, 128, 0],\r\n  greenyellow: [173, 255, 47],\r\n  honeydew: [240, 255, 240],\r\n  hotpink: [255, 105, 180],\r\n  indianred: [205, 92, 92],\r\n  indigo: [75, 0, 130],\r\n  ivory: [255, 255, 240],\r\n  khaki: [240, 230, 140],\r\n  lavender: [230, 230, 250],\r\n  lavenderblush: [255, 240, 245],\r\n  lawngreen: [124, 252, 0],\r\n  lemonchiffon: [255, 250, 205],\r\n  lightblue: [173, 216, 230],\r\n  lightcoral: [240, 128, 128],\r\n  lightcyan: [224, 255, 255],\r\n  lightgoldenrodyellow: [250, 250, 210],\r\n  lightgray: [211, 211, 211],\r\n  lightgreen: [144, 238, 144],\r\n  lightgrey: [211, 211, 211],\r\n  lightpink: [255, 182, 193],\r\n  lightsalmon: [255, 160, 122],\r\n  lightseagreen: [32, 178, 170],\r\n  lightskyblue: [135, 206, 250],\r\n  lightslategray: [119, 136, 153],\r\n  lightslategrey: [119, 136, 153],\r\n  lightsteelblue: [176, 196, 222],\r\n  lightyellow: [255, 255, 224],\r\n  lime: [0, 255, 0],\r\n  limegreen: [50, 205, 50],\r\n  linen: [250, 240, 230],\r\n  magenta: [255, 0, 255],\r\n  maroon: [128, 0, 0],\r\n  mediumaquamarine: [102, 205, 170],\r\n  mediumblue: [0, 0, 205],\r\n  mediumorchid: [186, 85, 211],\r\n  mediumpurple: [147, 112, 219],\r\n  mediumseagreen: [60, 179, 113],\r\n  mediumslateblue: [123, 104, 238],\r\n  mediumspringgreen: [0, 250, 154],\r\n  mediumturquoise: [72, 209, 204],\r\n  mediumvioletred: [199, 21, 133],\r\n  midnightblue: [25, 25, 112],\r\n  mintcream: [245, 255, 250],\r\n  mistyrose: [255, 228, 225],\r\n  moccasin: [255, 228, 181],\r\n  navajowhite: [255, 222, 173],\r\n  navy: [0, 0, 128],\r\n  oldlace: [253, 245, 230],\r\n  olive: [128, 128, 0],\r\n  olivedrab: [107, 142, 35],\r\n  orange: [255, 165, 0],\r\n  orangered: [255, 69, 0],\r\n  orchid: [218, 112, 214],\r\n  palegoldenrod: [238, 232, 170],\r\n  palegreen: [152, 251, 152],\r\n  paleturquoise: [175, 238, 238],\r\n  palevioletred: [219, 112, 147],\r\n  papayawhip: [255, 239, 213],\r\n  peachpuff: [255, 218, 185],\r\n  peru: [205, 133, 63],\r\n  pink: [255, 192, 203],\r\n  plum: [221, 160, 221],\r\n  powderblue: [176, 224, 230],\r\n  purple: [128, 0, 128],\r\n  red: [255, 0, 0],\r\n  rosybrown: [188, 143, 143],\r\n  royalblue: [65, 105, 225],\r\n  saddlebrown: [139, 69, 19],\r\n  salmon: [250, 128, 114],\r\n  sandybrown: [244, 164, 96],\r\n  seagreen: [46, 139, 87],\r\n  seashell: [255, 245, 238],\r\n  sienna: [160, 82, 45],\r\n  silver: [192, 192, 192],\r\n  skyblue: [135, 206, 235],\r\n  slateblue: [106, 90, 205],\r\n  slategray: [112, 128, 144],\r\n  slategrey: [112, 128, 144],\r\n  snow: [255, 250, 250],\r\n  springgreen: [0, 255, 127],\r\n  steelblue: [70, 130, 180],\r\n  tan: [210, 180, 140],\r\n  teal: [0, 128, 128],\r\n  thistle: [216, 191, 216],\r\n  tomato: [255, 99, 71],\r\n  turquoise: [64, 224, 208],\r\n  violet: [238, 130, 238],\r\n  wheat: [245, 222, 179],\r\n  white: [255, 255, 255],\r\n  whitesmoke: [245, 245, 245],\r\n  yellow: [255, 255, 0],\r\n  yellowgreen: [154, 205, 50]\r\n};\r\n","let cx, cy, px, py, sx, sy;\r\n\r\ncx = cy = px = py = sx = sy = 0;\r\n\r\nconst parameters = {\r\n  A: 7,\r\n  a: 7,\r\n  C: 6,\r\n  c: 6,\r\n  H: 1,\r\n  h: 1,\r\n  L: 2,\r\n  l: 2,\r\n  M: 2,\r\n  m: 2,\r\n  Q: 4,\r\n  q: 4,\r\n  S: 4,\r\n  s: 4,\r\n  T: 2,\r\n  t: 2,\r\n  V: 1,\r\n  v: 1,\r\n  Z: 0,\r\n  z: 0\r\n};\r\n\r\nconst parse = function(path) {\r\n  let cmd;\r\n  const ret = [];\r\n  let args = [];\r\n  let curArg = '';\r\n  let foundDecimal = false;\r\n  let params = 0;\r\n\r\n  for (let c of path) {\r\n    if (parameters[c] != null) {\r\n      params = parameters[c];\r\n      if (cmd) {\r\n        // save existing command\r\n        if (curArg.length > 0) {\r\n          args[args.length] = +curArg;\r\n        }\r\n        ret[ret.length] = { cmd, args };\r\n\r\n        args = [];\r\n        curArg = '';\r\n        foundDecimal = false;\r\n      }\r\n\r\n      cmd = c;\r\n    } else if (\r\n      [' ', ','].includes(c) ||\r\n      (c === '-' && curArg.length > 0 && curArg[curArg.length - 1] !== 'e') ||\r\n      (c === '.' && foundDecimal)\r\n    ) {\r\n      if (curArg.length === 0) {\r\n        continue;\r\n      }\r\n\r\n      if (args.length === params) {\r\n        // handle reused commands\r\n        ret[ret.length] = { cmd, args };\r\n        args = [+curArg];\r\n\r\n        // handle assumed commands\r\n        if (cmd === 'M') {\r\n          cmd = 'L';\r\n        }\r\n        if (cmd === 'm') {\r\n          cmd = 'l';\r\n        }\r\n      } else {\r\n        args[args.length] = +curArg;\r\n      }\r\n\r\n      foundDecimal = c === '.';\r\n\r\n      // fix for negative numbers or repeated decimals with no delimeter between commands\r\n      curArg = ['-', '.'].includes(c) ? c : '';\r\n    } else {\r\n      curArg += c;\r\n      if (c === '.') {\r\n        foundDecimal = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // add the last command\r\n  if (curArg.length > 0) {\r\n    if (args.length === params) {\r\n      // handle reused commands\r\n      ret[ret.length] = { cmd, args };\r\n      args = [+curArg];\r\n\r\n      // handle assumed commands\r\n      if (cmd === 'M') {\r\n        cmd = 'L';\r\n      }\r\n      if (cmd === 'm') {\r\n        cmd = 'l';\r\n      }\r\n    } else {\r\n      args[args.length] = +curArg;\r\n    }\r\n  }\r\n\r\n  ret[ret.length] = { cmd, args };\r\n\r\n  return ret;\r\n};\r\n\r\nconst apply = function(commands, doc) {\r\n  // current point, control point, and subpath starting point\r\n  cx = cy = px = py = sx = sy = 0;\r\n\r\n  // run the commands\r\n  for (let i = 0; i < commands.length; i++) {\r\n    const c = commands[i];\r\n    if (typeof runners[c.cmd] === 'function') {\r\n      runners[c.cmd](doc, c.args);\r\n    }\r\n  }\r\n};\r\n\r\nconst runners = {\r\n  M(doc, a) {\r\n    cx = a[0];\r\n    cy = a[1];\r\n    px = py = null;\r\n    sx = cx;\r\n    sy = cy;\r\n    return doc.moveTo(cx, cy);\r\n  },\r\n\r\n  m(doc, a) {\r\n    cx += a[0];\r\n    cy += a[1];\r\n    px = py = null;\r\n    sx = cx;\r\n    sy = cy;\r\n    return doc.moveTo(cx, cy);\r\n  },\r\n\r\n  C(doc, a) {\r\n    cx = a[4];\r\n    cy = a[5];\r\n    px = a[2];\r\n    py = a[3];\r\n    return doc.bezierCurveTo(...a);\r\n  },\r\n\r\n  c(doc, a) {\r\n    doc.bezierCurveTo(\r\n      a[0] + cx,\r\n      a[1] + cy,\r\n      a[2] + cx,\r\n      a[3] + cy,\r\n      a[4] + cx,\r\n      a[5] + cy\r\n    );\r\n    px = cx + a[2];\r\n    py = cy + a[3];\r\n    cx += a[4];\r\n    return (cy += a[5]);\r\n  },\r\n\r\n  S(doc, a) {\r\n    if (px === null) {\r\n      px = cx;\r\n      py = cy;\r\n    }\r\n\r\n    doc.bezierCurveTo(cx - (px - cx), cy - (py - cy), a[0], a[1], a[2], a[3]);\r\n    px = a[0];\r\n    py = a[1];\r\n    cx = a[2];\r\n    return (cy = a[3]);\r\n  },\r\n\r\n  s(doc, a) {\r\n    if (px === null) {\r\n      px = cx;\r\n      py = cy;\r\n    }\r\n\r\n    doc.bezierCurveTo(\r\n      cx - (px - cx),\r\n      cy - (py - cy),\r\n      cx + a[0],\r\n      cy + a[1],\r\n      cx + a[2],\r\n      cy + a[3]\r\n    );\r\n    px = cx + a[0];\r\n    py = cy + a[1];\r\n    cx += a[2];\r\n    return (cy += a[3]);\r\n  },\r\n\r\n  Q(doc, a) {\r\n    px = a[0];\r\n    py = a[1];\r\n    cx = a[2];\r\n    cy = a[3];\r\n    return doc.quadraticCurveTo(a[0], a[1], cx, cy);\r\n  },\r\n\r\n  q(doc, a) {\r\n    doc.quadraticCurveTo(a[0] + cx, a[1] + cy, a[2] + cx, a[3] + cy);\r\n    px = cx + a[0];\r\n    py = cy + a[1];\r\n    cx += a[2];\r\n    return (cy += a[3]);\r\n  },\r\n\r\n  T(doc, a) {\r\n    if (px === null) {\r\n      px = cx;\r\n      py = cy;\r\n    } else {\r\n      px = cx - (px - cx);\r\n      py = cy - (py - cy);\r\n    }\r\n\r\n    doc.quadraticCurveTo(px, py, a[0], a[1]);\r\n    px = cx - (px - cx);\r\n    py = cy - (py - cy);\r\n    cx = a[0];\r\n    return (cy = a[1]);\r\n  },\r\n\r\n  t(doc, a) {\r\n    if (px === null) {\r\n      px = cx;\r\n      py = cy;\r\n    } else {\r\n      px = cx - (px - cx);\r\n      py = cy - (py - cy);\r\n    }\r\n\r\n    doc.quadraticCurveTo(px, py, cx + a[0], cy + a[1]);\r\n    cx += a[0];\r\n    return (cy += a[1]);\r\n  },\r\n\r\n  A(doc, a) {\r\n    solveArc(doc, cx, cy, a);\r\n    cx = a[5];\r\n    return (cy = a[6]);\r\n  },\r\n\r\n  a(doc, a) {\r\n    a[5] += cx;\r\n    a[6] += cy;\r\n    solveArc(doc, cx, cy, a);\r\n    cx = a[5];\r\n    return (cy = a[6]);\r\n  },\r\n\r\n  L(doc, a) {\r\n    cx = a[0];\r\n    cy = a[1];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  l(doc, a) {\r\n    cx += a[0];\r\n    cy += a[1];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  H(doc, a) {\r\n    cx = a[0];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  h(doc, a) {\r\n    cx += a[0];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  V(doc, a) {\r\n    cy = a[0];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  v(doc, a) {\r\n    cy += a[0];\r\n    px = py = null;\r\n    return doc.lineTo(cx, cy);\r\n  },\r\n\r\n  Z(doc) {\r\n    doc.closePath();\r\n    cx = sx;\r\n    return (cy = sy);\r\n  },\r\n\r\n  z(doc) {\r\n    doc.closePath();\r\n    cx = sx;\r\n    return (cy = sy);\r\n  }\r\n};\r\n\r\nconst solveArc = function(doc, x, y, coords) {\r\n  const [rx, ry, rot, large, sweep, ex, ey] = coords;\r\n  const segs = arcToSegments(ex, ey, rx, ry, large, sweep, rot, x, y);\r\n\r\n  for (let seg of segs) {\r\n    const bez = segmentToBezier(...seg);\r\n    doc.bezierCurveTo(...bez);\r\n  }\r\n};\r\n\r\n// from Inkscape svgtopdf, thanks!\r\nconst arcToSegments = function(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\r\n  const th = rotateX * (Math.PI / 180);\r\n  const sin_th = Math.sin(th);\r\n  const cos_th = Math.cos(th);\r\n  rx = Math.abs(rx);\r\n  ry = Math.abs(ry);\r\n  px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;\r\n  py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;\r\n  let pl = (px * px) / (rx * rx) + (py * py) / (ry * ry);\r\n  if (pl > 1) {\r\n    pl = Math.sqrt(pl);\r\n    rx *= pl;\r\n    ry *= pl;\r\n  }\r\n\r\n  const a00 = cos_th / rx;\r\n  const a01 = sin_th / rx;\r\n  const a10 = -sin_th / ry;\r\n  const a11 = cos_th / ry;\r\n  const x0 = a00 * ox + a01 * oy;\r\n  const y0 = a10 * ox + a11 * oy;\r\n  const x1 = a00 * x + a01 * y;\r\n  const y1 = a10 * x + a11 * y;\r\n\r\n  const d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);\r\n  let sfactor_sq = 1 / d - 0.25;\r\n  if (sfactor_sq < 0) {\r\n    sfactor_sq = 0;\r\n  }\r\n  let sfactor = Math.sqrt(sfactor_sq);\r\n  if (sweep === large) {\r\n    sfactor = -sfactor;\r\n  }\r\n\r\n  const xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);\r\n  const yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);\r\n\r\n  const th0 = Math.atan2(y0 - yc, x0 - xc);\r\n  const th1 = Math.atan2(y1 - yc, x1 - xc);\r\n\r\n  let th_arc = th1 - th0;\r\n  if (th_arc < 0 && sweep === 1) {\r\n    th_arc += 2 * Math.PI;\r\n  } else if (th_arc > 0 && sweep === 0) {\r\n    th_arc -= 2 * Math.PI;\r\n  }\r\n\r\n  const segments = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)));\r\n  const result = [];\r\n\r\n  for (let i = 0; i < segments; i++) {\r\n    const th2 = th0 + (i * th_arc) / segments;\r\n    const th3 = th0 + ((i + 1) * th_arc) / segments;\r\n    result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst segmentToBezier = function(cx, cy, th0, th1, rx, ry, sin_th, cos_th) {\r\n  const a00 = cos_th * rx;\r\n  const a01 = -sin_th * ry;\r\n  const a10 = sin_th * rx;\r\n  const a11 = cos_th * ry;\r\n\r\n  const th_half = 0.5 * (th1 - th0);\r\n  const t =\r\n    ((8 / 3) * Math.sin(th_half * 0.5) * Math.sin(th_half * 0.5)) /\r\n    Math.sin(th_half);\r\n  const x1 = cx + Math.cos(th0) - t * Math.sin(th0);\r\n  const y1 = cy + Math.sin(th0) + t * Math.cos(th0);\r\n  const x3 = cx + Math.cos(th1);\r\n  const y3 = cy + Math.sin(th1);\r\n  const x2 = x3 + t * Math.sin(th1);\r\n  const y2 = y3 - t * Math.cos(th1);\r\n\r\n  return [\r\n    a00 * x1 + a01 * y1,\r\n    a10 * x1 + a11 * y1,\r\n    a00 * x2 + a01 * y2,\r\n    a10 * x2 + a11 * y2,\r\n    a00 * x3 + a01 * y3,\r\n    a10 * x3 + a11 * y3\r\n  ];\r\n};\r\n\r\nclass SVGPath {\r\n  static apply(doc, path) {\r\n    const commands = parse(path);\r\n    apply(commands, doc);\r\n  }\r\n}\r\n\r\nexport default SVGPath;\r\n","import SVGPath from '../path';\r\nimport PDFObject from '../object';\r\n\r\nconst { number } = PDFObject;\r\n\r\n// This constant is used to approximate a symmetrical arc using a cubic\r\n// Bezier curve.\r\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\r\nexport default {\r\n  initVector() {\r\n    this._ctm = [1, 0, 0, 1, 0, 0]; // current transformation matrix\r\n    return (this._ctmStack = []);\r\n  },\r\n\r\n  save() {\r\n    this._ctmStack.push(this._ctm.slice());\r\n    // TODO: save/restore colorspace and styles so not setting it unnessesarily all the time?\r\n    return this.addContent('q');\r\n  },\r\n\r\n  restore() {\r\n    this._ctm = this._ctmStack.pop() || [1, 0, 0, 1, 0, 0];\r\n    return this.addContent('Q');\r\n  },\r\n\r\n  closePath() {\r\n    return this.addContent('h');\r\n  },\r\n\r\n  lineWidth(w) {\r\n    return this.addContent(`${number(w)} w`);\r\n  },\r\n\r\n  _CAP_STYLES: {\r\n    BUTT: 0,\r\n    ROUND: 1,\r\n    SQUARE: 2\r\n  },\r\n\r\n  lineCap(c) {\r\n    if (typeof c === 'string') {\r\n      c = this._CAP_STYLES[c.toUpperCase()];\r\n    }\r\n    return this.addContent(`${c} J`);\r\n  },\r\n\r\n  _JOIN_STYLES: {\r\n    MITER: 0,\r\n    ROUND: 1,\r\n    BEVEL: 2\r\n  },\r\n\r\n  lineJoin(j) {\r\n    if (typeof j === 'string') {\r\n      j = this._JOIN_STYLES[j.toUpperCase()];\r\n    }\r\n    return this.addContent(`${j} j`);\r\n  },\r\n\r\n  miterLimit(m) {\r\n    return this.addContent(`${number(m)} M`);\r\n  },\r\n\r\n  dash(length, options = {}) {\r\n    const originalLength = length;\r\n    if (!Array.isArray(length)) {\r\n      length = [length, options.space || length];\r\n    }\r\n\r\n    const valid = length.every(x => Number.isFinite(x) && x > 0);\r\n    if (!valid) {\r\n      throw new Error(\r\n        `dash(${JSON.stringify(originalLength)}, ${JSON.stringify(\r\n          options\r\n        )}) invalid, lengths must be numeric and greater than zero`\r\n      );\r\n    }\r\n\r\n    length = length.map(number).join(' ');\r\n    return this.addContent(`[${length}] ${number(options.phase || 0)} d`);\r\n  },\r\n\r\n  undash() {\r\n    return this.addContent('[] 0 d');\r\n  },\r\n\r\n  moveTo(x, y) {\r\n    return this.addContent(`${number(x)} ${number(y)} m`);\r\n  },\r\n\r\n  lineTo(x, y) {\r\n    return this.addContent(`${number(x)} ${number(y)} l`);\r\n  },\r\n\r\n  bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n    return this.addContent(\r\n      `${number(cp1x)} ${number(cp1y)} ${number(cp2x)} ${number(cp2y)} ${number(\r\n        x\r\n      )} ${number(y)} c`\r\n    );\r\n  },\r\n\r\n  quadraticCurveTo(cpx, cpy, x, y) {\r\n    return this.addContent(\r\n      `${number(cpx)} ${number(cpy)} ${number(x)} ${number(y)} v`\r\n    );\r\n  },\r\n\r\n  rect(x, y, w, h) {\r\n    return this.addContent(\r\n      `${number(x)} ${number(y)} ${number(w)} ${number(h)} re`\r\n    );\r\n  },\r\n\r\n  roundedRect(x, y, w, h, r) {\r\n    if (r == null) {\r\n      r = 0;\r\n    }\r\n    r = Math.min(r, 0.5 * w, 0.5 * h);\r\n\r\n    // amount to inset control points from corners (see `ellipse`)\r\n    const c = r * (1.0 - KAPPA);\r\n\r\n    this.moveTo(x + r, y);\r\n    this.lineTo(x + w - r, y);\r\n    this.bezierCurveTo(x + w - c, y, x + w, y + c, x + w, y + r);\r\n    this.lineTo(x + w, y + h - r);\r\n    this.bezierCurveTo(x + w, y + h - c, x + w - c, y + h, x + w - r, y + h);\r\n    this.lineTo(x + r, y + h);\r\n    this.bezierCurveTo(x + c, y + h, x, y + h - c, x, y + h - r);\r\n    this.lineTo(x, y + r);\r\n    this.bezierCurveTo(x, y + c, x + c, y, x + r, y);\r\n    return this.closePath();\r\n  },\r\n\r\n  ellipse(x, y, r1, r2) {\r\n    // based on http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas/2173084#2173084\r\n    if (r2 == null) {\r\n      r2 = r1;\r\n    }\r\n    x -= r1;\r\n    y -= r2;\r\n    const ox = r1 * KAPPA;\r\n    const oy = r2 * KAPPA;\r\n    const xe = x + r1 * 2;\r\n    const ye = y + r2 * 2;\r\n    const xm = x + r1;\r\n    const ym = y + r2;\r\n\r\n    this.moveTo(x, ym);\r\n    this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\r\n    this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\r\n    this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\r\n    this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\r\n    return this.closePath();\r\n  },\r\n\r\n  circle(x, y, radius) {\r\n    return this.ellipse(x, y, radius);\r\n  },\r\n\r\n  arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n    if (anticlockwise == null) {\r\n      anticlockwise = false;\r\n    }\r\n    const TWO_PI = 2.0 * Math.PI;\r\n    const HALF_PI = 0.5 * Math.PI;\r\n\r\n    let deltaAng = endAngle - startAngle;\r\n\r\n    if (Math.abs(deltaAng) > TWO_PI) {\r\n      // draw only full circle if more than that is specified\r\n      deltaAng = TWO_PI;\r\n    } else if (deltaAng !== 0 && anticlockwise !== deltaAng < 0) {\r\n      // necessary to flip direction of rendering\r\n      const dir = anticlockwise ? -1 : 1;\r\n      deltaAng = dir * TWO_PI + deltaAng;\r\n    }\r\n\r\n    const numSegs = Math.ceil(Math.abs(deltaAng) / HALF_PI);\r\n    const segAng = deltaAng / numSegs;\r\n    const handleLen = (segAng / HALF_PI) * KAPPA * radius;\r\n    let curAng = startAngle;\r\n\r\n    // component distances between anchor point and control point\r\n    let deltaCx = -Math.sin(curAng) * handleLen;\r\n    let deltaCy = Math.cos(curAng) * handleLen;\r\n\r\n    // anchor point\r\n    let ax = x + Math.cos(curAng) * radius;\r\n    let ay = y + Math.sin(curAng) * radius;\r\n\r\n    // calculate and render segments\r\n    this.moveTo(ax, ay);\r\n\r\n    for (let segIdx = 0; segIdx < numSegs; segIdx++) {\r\n      // starting control point\r\n      const cp1x = ax + deltaCx;\r\n      const cp1y = ay + deltaCy;\r\n\r\n      // step angle\r\n      curAng += segAng;\r\n\r\n      // next anchor point\r\n      ax = x + Math.cos(curAng) * radius;\r\n      ay = y + Math.sin(curAng) * radius;\r\n\r\n      // next control point delta\r\n      deltaCx = -Math.sin(curAng) * handleLen;\r\n      deltaCy = Math.cos(curAng) * handleLen;\r\n\r\n      // ending control point\r\n      const cp2x = ax - deltaCx;\r\n      const cp2y = ay - deltaCy;\r\n\r\n      // render segment\r\n      this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, ax, ay);\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  polygon(...points) {\r\n    this.moveTo(...(points.shift() || []));\r\n    for (let point of points) {\r\n      this.lineTo(...(point || []));\r\n    }\r\n    return this.closePath();\r\n  },\r\n\r\n  path(path) {\r\n    SVGPath.apply(this, path);\r\n    return this;\r\n  },\r\n\r\n  _windingRule(rule) {\r\n    if (/even-?odd/.test(rule)) {\r\n      return '*';\r\n    }\r\n\r\n    return '';\r\n  },\r\n\r\n  fill(color, rule) {\r\n    if (/(even-?odd)|(non-?zero)/.test(color)) {\r\n      rule = color;\r\n      color = null;\r\n    }\r\n\r\n    if (color) {\r\n      this.fillColor(color);\r\n    }\r\n    return this.addContent(`f${this._windingRule(rule)}`);\r\n  },\r\n\r\n  stroke(color) {\r\n    if (color) {\r\n      this.strokeColor(color);\r\n    }\r\n    return this.addContent('S');\r\n  },\r\n\r\n  fillAndStroke(fillColor, strokeColor, rule) {\r\n    if (strokeColor == null) {\r\n      strokeColor = fillColor;\r\n    }\r\n    const isFillRule = /(even-?odd)|(non-?zero)/;\r\n    if (isFillRule.test(fillColor)) {\r\n      rule = fillColor;\r\n      fillColor = null;\r\n    }\r\n\r\n    if (isFillRule.test(strokeColor)) {\r\n      rule = strokeColor;\r\n      strokeColor = fillColor;\r\n    }\r\n\r\n    if (fillColor) {\r\n      this.fillColor(fillColor);\r\n      this.strokeColor(strokeColor);\r\n    }\r\n\r\n    return this.addContent(`B${this._windingRule(rule)}`);\r\n  },\r\n\r\n  clip(rule) {\r\n    return this.addContent(`W${this._windingRule(rule)} n`);\r\n  },\r\n\r\n  transform(m11, m12, m21, m22, dx, dy) {\r\n    // keep track of the current transformation matrix\r\n    const m = this._ctm;\r\n    const [m0, m1, m2, m3, m4, m5] = m;\r\n    m[0] = m0 * m11 + m2 * m12;\r\n    m[1] = m1 * m11 + m3 * m12;\r\n    m[2] = m0 * m21 + m2 * m22;\r\n    m[3] = m1 * m21 + m3 * m22;\r\n    m[4] = m0 * dx + m2 * dy + m4;\r\n    m[5] = m1 * dx + m3 * dy + m5;\r\n\r\n    const values = [m11, m12, m21, m22, dx, dy].map(v => number(v)).join(' ');\r\n    return this.addContent(`${values} cm`);\r\n  },\r\n\r\n  translate(x, y) {\r\n    return this.transform(1, 0, 0, 1, x, y);\r\n  },\r\n\r\n  rotate(angle, options = {}) {\r\n    let y;\r\n    const rad = (angle * Math.PI) / 180;\r\n    const cos = Math.cos(rad);\r\n    const sin = Math.sin(rad);\r\n    let x = (y = 0);\r\n\r\n    if (options.origin != null) {\r\n      [x, y] = options.origin;\r\n      const x1 = x * cos - y * sin;\r\n      const y1 = x * sin + y * cos;\r\n      x -= x1;\r\n      y -= y1;\r\n    }\r\n\r\n    return this.transform(cos, sin, -sin, cos, x, y);\r\n  },\r\n\r\n  scale(xFactor, yFactor, options = {}) {\r\n    let y;\r\n    if (yFactor == null) {\r\n      yFactor = xFactor;\r\n    }\r\n    if (typeof yFactor === 'object') {\r\n      options = yFactor;\r\n      yFactor = xFactor;\r\n    }\r\n\r\n    let x = (y = 0);\r\n    if (options.origin != null) {\r\n      [x, y] = options.origin;\r\n      x -= xFactor * x;\r\n      y -= yFactor * y;\r\n    }\r\n\r\n    return this.transform(xFactor, 0, 0, yFactor, x, y);\r\n  }\r\n};\r\n","import fs from 'fs';\r\n\r\nconst WIN_ANSI_MAP = {\r\n  402: 131,\r\n  8211: 150,\r\n  8212: 151,\r\n  8216: 145,\r\n  8217: 146,\r\n  8218: 130,\r\n  8220: 147,\r\n  8221: 148,\r\n  8222: 132,\r\n  8224: 134,\r\n  8225: 135,\r\n  8226: 149,\r\n  8230: 133,\r\n  8364: 128,\r\n  8240: 137,\r\n  8249: 139,\r\n  8250: 155,\r\n  710: 136,\r\n  8482: 153,\r\n  338: 140,\r\n  339: 156,\r\n  732: 152,\r\n  352: 138,\r\n  353: 154,\r\n  376: 159,\r\n  381: 142,\r\n  382: 158\r\n};\r\n\r\nconst characters = `\\\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n.notdef       .notdef        .notdef        .notdef\r\n  \r\nspace         exclam         quotedbl       numbersign\r\ndollar        percent        ampersand      quotesingle\r\nparenleft     parenright     asterisk       plus\r\ncomma         hyphen         period         slash\r\nzero          one            two            three\r\nfour          five           six            seven\r\neight         nine           colon          semicolon\r\nless          equal          greater        question\r\n  \r\nat            A              B              C\r\nD             E              F              G\r\nH             I              J              K\r\nL             M              N              O\r\nP             Q              R              S\r\nT             U              V              W\r\nX             Y              Z              bracketleft\r\nbackslash     bracketright   asciicircum    underscore\r\n  \r\ngrave         a              b              c\r\nd             e              f              g\r\nh             i              j              k\r\nl             m              n              o\r\np             q              r              s\r\nt             u              v              w\r\nx             y              z              braceleft\r\nbar           braceright     asciitilde     .notdef\r\n  \r\nEuro          .notdef        quotesinglbase florin\r\nquotedblbase  ellipsis       dagger         daggerdbl\r\ncircumflex    perthousand    Scaron         guilsinglleft\r\nOE            .notdef        Zcaron         .notdef\r\n.notdef       quoteleft      quoteright     quotedblleft\r\nquotedblright bullet         endash         emdash\r\ntilde         trademark      scaron         guilsinglright\r\noe            .notdef        zcaron         ydieresis\r\n  \r\nspace         exclamdown     cent           sterling\r\ncurrency      yen            brokenbar      section\r\ndieresis      copyright      ordfeminine    guillemotleft\r\nlogicalnot    hyphen         registered     macron\r\ndegree        plusminus      twosuperior    threesuperior\r\nacute         mu             paragraph      periodcentered\r\ncedilla       onesuperior    ordmasculine   guillemotright\r\nonequarter    onehalf        threequarters  questiondown\r\n  \r\nAgrave        Aacute         Acircumflex    Atilde\r\nAdieresis     Aring          AE             Ccedilla\r\nEgrave        Eacute         Ecircumflex    Edieresis\r\nIgrave        Iacute         Icircumflex    Idieresis\r\nEth           Ntilde         Ograve         Oacute\r\nOcircumflex   Otilde         Odieresis      multiply\r\nOslash        Ugrave         Uacute         Ucircumflex\r\nUdieresis     Yacute         Thorn          germandbls\r\n  \r\nagrave        aacute         acircumflex    atilde\r\nadieresis     aring          ae             ccedilla\r\negrave        eacute         ecircumflex    edieresis\r\nigrave        iacute         icircumflex    idieresis\r\neth           ntilde         ograve         oacute\r\nocircumflex   otilde         odieresis      divide\r\noslash        ugrave         uacute         ucircumflex\r\nudieresis     yacute         thorn          ydieresis\\\r\n`.split(/\\s+/);\r\n\r\nclass AFMFont {\r\n  static open(filename) {\r\n    return new AFMFont(fs.readFileSync(filename, 'utf8'));\r\n  }\r\n\r\n  constructor(contents) {\r\n    this.contents = contents;\r\n    this.attributes = {};\r\n    this.glyphWidths = {};\r\n    this.boundingBoxes = {};\r\n    this.kernPairs = {};\r\n\r\n    this.parse();\r\n    // todo: remove charWidths since appears to not be used\r\n    this.charWidths = new Array(256);\r\n    for (let char = 0; char <= 255; char++) {\r\n      this.charWidths[char] = this.glyphWidths[characters[char]];\r\n    }\r\n\r\n    this.bbox = this.attributes['FontBBox'].split(/\\s+/).map(e => +e);\r\n    this.ascender = +(this.attributes['Ascender'] || 0);\r\n    this.descender = +(this.attributes['Descender'] || 0);\r\n    this.xHeight = +(this.attributes['XHeight'] || 0);\r\n    this.capHeight = +(this.attributes['CapHeight'] || 0);\r\n    this.lineGap =\r\n      this.bbox[3] - this.bbox[1] - (this.ascender - this.descender);\r\n  }\r\n\r\n  parse() {\r\n    let section = '';\r\n    for (let line of this.contents.split('\\n')) {\r\n      var match;\r\n      var a;\r\n      if ((match = line.match(/^Start(\\w+)/))) {\r\n        section = match[1];\r\n        continue;\r\n      } else if ((match = line.match(/^End(\\w+)/))) {\r\n        section = '';\r\n        continue;\r\n      }\r\n\r\n      switch (section) {\r\n        case 'FontMetrics':\r\n          match = line.match(/(^\\w+)\\s+(.*)/);\r\n          var key = match[1];\r\n          var value = match[2];\r\n\r\n          if ((a = this.attributes[key])) {\r\n            if (!Array.isArray(a)) {\r\n              a = this.attributes[key] = [a];\r\n            }\r\n            a.push(value);\r\n          } else {\r\n            this.attributes[key] = value;\r\n          }\r\n          break;\r\n\r\n        case 'CharMetrics':\r\n          if (!/^CH?\\s/.test(line)) {\r\n            continue;\r\n          }\r\n          var name = line.match(/\\bN\\s+(\\.?\\w+)\\s*;/)[1];\r\n          this.glyphWidths[name] = +line.match(/\\bWX\\s+(\\d+)\\s*;/)[1];\r\n          break;\r\n\r\n        case 'KernPairs':\r\n          match = line.match(/^KPX\\s+(\\.?\\w+)\\s+(\\.?\\w+)\\s+(-?\\d+)/);\r\n          if (match) {\r\n            this.kernPairs[match[1] + '\\0' + match[2]] = parseInt(match[3]);\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  encodeText(text) {\r\n    const res = [];\r\n    for (let i = 0, len = text.length; i < len; i++) {\r\n      let char = text.charCodeAt(i);\r\n      char = WIN_ANSI_MAP[char] || char;\r\n      res.push(char.toString(16));\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  glyphsForString(string) {\r\n    const glyphs = [];\r\n\r\n    for (let i = 0, len = string.length; i < len; i++) {\r\n      const charCode = string.charCodeAt(i);\r\n      glyphs.push(this.characterToGlyph(charCode));\r\n    }\r\n\r\n    return glyphs;\r\n  }\r\n\r\n  characterToGlyph(character) {\r\n    return characters[WIN_ANSI_MAP[character] || character] || '.notdef';\r\n  }\r\n\r\n  widthOfGlyph(glyph) {\r\n    return this.glyphWidths[glyph] || 0;\r\n  }\r\n\r\n  getKernPair(left, right) {\r\n    return this.kernPairs[left + '\\0' + right] || 0;\r\n  }\r\n\r\n  advancesForGlyphs(glyphs) {\r\n    const advances = [];\r\n\r\n    for (let index = 0; index < glyphs.length; index++) {\r\n      const left = glyphs[index];\r\n      const right = glyphs[index + 1];\r\n      advances.push(this.widthOfGlyph(left) + this.getKernPair(left, right));\r\n    }\r\n\r\n    return advances;\r\n  }\r\n}\r\n\r\nexport default AFMFont;\r\n","class PDFFont {\r\n  constructor() {}\r\n\r\n  encode() {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n\r\n  widthOfString() {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n\r\n  ref() {\r\n    return this.dictionary != null\r\n      ? this.dictionary\r\n      : (this.dictionary = this.document.ref());\r\n  }\r\n\r\n  finalize() {\r\n    if (this.embedded || this.dictionary == null) {\r\n      return;\r\n    }\r\n\r\n    this.embed();\r\n    return (this.embedded = true);\r\n  }\r\n\r\n  embed() {\r\n    throw new Error('Must be implemented by subclasses');\r\n  }\r\n\r\n  lineHeight(size, includeGap) {\r\n    if (includeGap == null) {\r\n      includeGap = false;\r\n    }\r\n    const gap = includeGap ? this.lineGap : 0;\r\n    return ((this.ascender + gap - this.descender) / 1000) * size;\r\n  }\r\n}\r\n\r\nexport default PDFFont;\r\n","import AFMFont from './afm';\r\nimport PDFFont from '../font';\r\nimport fs from 'fs';\r\n\r\n// This insanity is so bundlers can inline the font files\r\nconst STANDARD_FONTS = {\r\n  Courier() {\r\n    return fs.readFileSync(__dirname + '/data/Courier.afm', 'utf8');\r\n  },\r\n  'Courier-Bold'() {\r\n    return fs.readFileSync(__dirname + '/data/Courier-Bold.afm', 'utf8');\r\n  },\r\n  'Courier-Oblique'() {\r\n    return fs.readFileSync(__dirname + '/data/Courier-Oblique.afm', 'utf8');\r\n  },\r\n  'Courier-BoldOblique'() {\r\n    return fs.readFileSync(__dirname + '/data/Courier-BoldOblique.afm', 'utf8');\r\n  },\r\n  Helvetica() {\r\n    return fs.readFileSync(__dirname + '/data/Helvetica.afm', 'utf8');\r\n  },\r\n  'Helvetica-Bold'() {\r\n    return fs.readFileSync(__dirname + '/data/Helvetica-Bold.afm', 'utf8');\r\n  },\r\n  'Helvetica-Oblique'() {\r\n    return fs.readFileSync(__dirname + '/data/Helvetica-Oblique.afm', 'utf8');\r\n  },\r\n  'Helvetica-BoldOblique'() {\r\n    return fs.readFileSync(\r\n      __dirname + '/data/Helvetica-BoldOblique.afm',\r\n      'utf8'\r\n    );\r\n  },\r\n  'Times-Roman'() {\r\n    return fs.readFileSync(__dirname + '/data/Times-Roman.afm', 'utf8');\r\n  },\r\n  'Times-Bold'() {\r\n    return fs.readFileSync(__dirname + '/data/Times-Bold.afm', 'utf8');\r\n  },\r\n  'Times-Italic'() {\r\n    return fs.readFileSync(__dirname + '/data/Times-Italic.afm', 'utf8');\r\n  },\r\n  'Times-BoldItalic'() {\r\n    return fs.readFileSync(__dirname + '/data/Times-BoldItalic.afm', 'utf8');\r\n  },\r\n  Symbol() {\r\n    return fs.readFileSync(__dirname + '/data/Symbol.afm', 'utf8');\r\n  },\r\n  ZapfDingbats() {\r\n    return fs.readFileSync(__dirname + '/data/ZapfDingbats.afm', 'utf8');\r\n  }\r\n};\r\n\r\nclass StandardFont extends PDFFont {\r\n  constructor(document, name, id) {\r\n    super();\r\n    this.document = document;\r\n    this.name = name;\r\n    this.id = id;\r\n    this.font = new AFMFont(STANDARD_FONTS[this.name]());\r\n    ({\r\n      ascender: this.ascender,\r\n      descender: this.descender,\r\n      bbox: this.bbox,\r\n      lineGap: this.lineGap,\r\n      xHeight: this.xHeight,\r\n      capHeight: this.capHeight\r\n    } = this.font);\r\n  }\r\n\r\n  embed() {\r\n    this.dictionary.data = {\r\n      Type: 'Font',\r\n      BaseFont: this.name,\r\n      Subtype: 'Type1',\r\n      Encoding: 'WinAnsiEncoding'\r\n    };\r\n\r\n    return this.dictionary.end();\r\n  }\r\n\r\n  encode(text) {\r\n    const encoded = this.font.encodeText(text);\r\n    const glyphs = this.font.glyphsForString(`${text}`);\r\n    const advances = this.font.advancesForGlyphs(glyphs);\r\n    const positions = [];\r\n    for (let i = 0; i < glyphs.length; i++) {\r\n      const glyph = glyphs[i];\r\n      positions.push({\r\n        xAdvance: advances[i],\r\n        yAdvance: 0,\r\n        xOffset: 0,\r\n        yOffset: 0,\r\n        advanceWidth: this.font.widthOfGlyph(glyph)\r\n      });\r\n    }\r\n\r\n    return [encoded, positions];\r\n  }\r\n\r\n  widthOfString(string, size) {\r\n    const glyphs = this.font.glyphsForString(`${string}`);\r\n    const advances = this.font.advancesForGlyphs(glyphs);\r\n\r\n    let width = 0;\r\n    for (let advance of advances) {\r\n      width += advance;\r\n    }\r\n\r\n    const scale = size / 1000;\r\n    return width * scale;\r\n  }\r\n\r\n  static isStandardFont(name) {\r\n    return name in STANDARD_FONTS;\r\n  }\r\n}\r\n\r\nexport default StandardFont;\r\n","import PDFFont from '../font';\r\n\r\nconst toHex = function(num) {\r\n  return `0000${num.toString(16)}`.slice(-4);\r\n};\r\n\r\nclass EmbeddedFont extends PDFFont {\r\n  constructor(document, font, id) {\r\n    super();\r\n    this.document = document;\r\n    this.font = font;\r\n    this.id = id;\r\n    this.subset = this.font.createSubset();\r\n    this.unicode = [[0]];\r\n    this.widths = [this.font.getGlyph(0).advanceWidth];\r\n\r\n    this.name = this.font.postscriptName;\r\n    this.scale = 1000 / this.font.unitsPerEm;\r\n    this.ascender = this.font.ascent * this.scale;\r\n    this.descender = this.font.descent * this.scale;\r\n    this.xHeight = this.font.xHeight * this.scale;\r\n    this.capHeight = this.font.capHeight * this.scale;\r\n    this.lineGap = this.font.lineGap * this.scale;\r\n    this.bbox = this.font.bbox;\r\n\r\n    if (document.options.fontLayoutCache !== false) {\r\n      this.layoutCache = Object.create(null);\r\n    }\r\n  }\r\n\r\n  layoutRun(text, features) {\r\n    const run = this.font.layout(text, features);\r\n\r\n    // Normalize position values\r\n    for (let i = 0; i < run.positions.length; i++) {\r\n      const position = run.positions[i];\r\n      for (let key in position) {\r\n        position[key] *= this.scale;\r\n      }\r\n\r\n      position.advanceWidth = run.glyphs[i].advanceWidth * this.scale;\r\n    }\r\n\r\n    return run;\r\n  }\r\n\r\n  layoutCached(text) {\r\n    if (!this.layoutCache) {\r\n      return this.layoutRun(text);\r\n    }\r\n    let cached;\r\n    if ((cached = this.layoutCache[text])) {\r\n      return cached;\r\n    }\r\n\r\n    const run = this.layoutRun(text);\r\n    this.layoutCache[text] = run;\r\n    return run;\r\n  }\r\n\r\n  layout(text, features, onlyWidth) {\r\n    // Skip the cache if any user defined features are applied\r\n    if (features) {\r\n      return this.layoutRun(text, features);\r\n    }\r\n\r\n    let glyphs = onlyWidth ? null : [];\r\n    let positions = onlyWidth ? null : [];\r\n    let advanceWidth = 0;\r\n\r\n    // Split the string by words to increase cache efficiency.\r\n    // For this purpose, spaces and tabs are a good enough delimeter.\r\n    let last = 0;\r\n    let index = 0;\r\n    while (index <= text.length) {\r\n      var needle;\r\n      if (\r\n        (index === text.length && last < index) ||\r\n        ((needle = text.charAt(index)), [' ', '\\t'].includes(needle))\r\n      ) {\r\n        const run = this.layoutCached(text.slice(last, ++index));\r\n        if (!onlyWidth) {\r\n          glyphs = glyphs.concat(run.glyphs);\r\n          positions = positions.concat(run.positions);\r\n        }\r\n\r\n        advanceWidth += run.advanceWidth;\r\n        last = index;\r\n      } else {\r\n        index++;\r\n      }\r\n    }\r\n\r\n    return { glyphs, positions, advanceWidth };\r\n  }\r\n\r\n  encode(text, features) {\r\n    const { glyphs, positions } = this.layout(text, features);\r\n\r\n    const res = [];\r\n    for (let i = 0; i < glyphs.length; i++) {\r\n      const glyph = glyphs[i];\r\n      const gid = this.subset.includeGlyph(glyph.id);\r\n      res.push(`0000${gid.toString(16)}`.slice(-4));\r\n\r\n      if (this.widths[gid] == null) {\r\n        this.widths[gid] = glyph.advanceWidth * this.scale;\r\n      }\r\n      if (this.unicode[gid] == null) {\r\n        this.unicode[gid] = glyph.codePoints;\r\n      }\r\n    }\r\n\r\n    return [res, positions];\r\n  }\r\n\r\n  widthOfString(string, size, features) {\r\n    const width = this.layout(string, features, true).advanceWidth;\r\n    const scale = size / 1000;\r\n    return width * scale;\r\n  }\r\n\r\n  embed() {\r\n    const isCFF = this.subset.cff != null;\r\n    const fontFile = this.document.ref();\r\n\r\n    if (isCFF) {\r\n      fontFile.data.Subtype = 'CIDFontType0C';\r\n    }\r\n\r\n    this.subset\r\n      .encodeStream()\r\n      .on('data', data => fontFile.write(data))\r\n      .on('end', () => fontFile.end());\r\n\r\n    const familyClass =\r\n      ((this.font['OS/2'] != null\r\n        ? this.font['OS/2'].sFamilyClass\r\n        : undefined) || 0) >> 8;\r\n    let flags = 0;\r\n    if (this.font.post.isFixedPitch) {\r\n      flags |= 1 << 0;\r\n    }\r\n    if (1 <= familyClass && familyClass <= 7) {\r\n      flags |= 1 << 1;\r\n    }\r\n    flags |= 1 << 2; // assume the font uses non-latin characters\r\n    if (familyClass === 10) {\r\n      flags |= 1 << 3;\r\n    }\r\n    if (this.font.head.macStyle.italic) {\r\n      flags |= 1 << 6;\r\n    }\r\n\r\n    // generate a tag (6 uppercase letters. 17 is the char code offset from '0' to 'A'. 73 will map to 'Z')\r\n    const tag = [1, 2, 3, 4, 5, 6]\r\n      .map(i => String.fromCharCode((this.id.charCodeAt(i) || 73) + 17))\r\n      .join('');\r\n    const name = tag + '+' + this.font.postscriptName;\r\n\r\n    const { bbox } = this.font;\r\n    const descriptor = this.document.ref({\r\n      Type: 'FontDescriptor',\r\n      FontName: name,\r\n      Flags: flags,\r\n      FontBBox: [\r\n        bbox.minX * this.scale,\r\n        bbox.minY * this.scale,\r\n        bbox.maxX * this.scale,\r\n        bbox.maxY * this.scale\r\n      ],\r\n      ItalicAngle: this.font.italicAngle,\r\n      Ascent: this.ascender,\r\n      Descent: this.descender,\r\n      CapHeight: (this.font.capHeight || this.font.ascent) * this.scale,\r\n      XHeight: (this.font.xHeight || 0) * this.scale,\r\n      StemV: 0\r\n    }); // not sure how to calculate this\r\n\r\n    if (isCFF) {\r\n      descriptor.data.FontFile3 = fontFile;\r\n    } else {\r\n      descriptor.data.FontFile2 = fontFile;\r\n    }\r\n\r\n    descriptor.end();\r\n\r\n    const descendantFontData = {\r\n      Type: 'Font',\r\n      Subtype: 'CIDFontType0',\r\n      BaseFont: name,\r\n      CIDSystemInfo: {\r\n        Registry: new String('Adobe'),\r\n        Ordering: new String('Identity'),\r\n        Supplement: 0\r\n      },\r\n      FontDescriptor: descriptor,\r\n      W: [0, this.widths]\r\n    };\r\n\r\n    if (!isCFF) {\r\n      descendantFontData.Subtype = 'CIDFontType2';\r\n      descendantFontData.CIDToGIDMap = 'Identity';\r\n    }\r\n\r\n    const descendantFont = this.document.ref(descendantFontData);\r\n\r\n    descendantFont.end();\r\n\r\n    this.dictionary.data = {\r\n      Type: 'Font',\r\n      Subtype: 'Type0',\r\n      BaseFont: name,\r\n      Encoding: 'Identity-H',\r\n      DescendantFonts: [descendantFont],\r\n      ToUnicode: this.toUnicodeCmap()\r\n    };\r\n\r\n    return this.dictionary.end();\r\n  }\r\n\r\n  // Maps the glyph ids encoded in the PDF back to unicode strings\r\n  // Because of ligature substitutions and the like, there may be one or more\r\n  // unicode characters represented by each glyph.\r\n  toUnicodeCmap() {\r\n    const cmap = this.document.ref();\r\n\r\n    const entries = [];\r\n    for (let codePoints of this.unicode) {\r\n      const encoded = [];\r\n\r\n      // encode codePoints to utf16\r\n      for (let value of codePoints) {\r\n        if (value > 0xffff) {\r\n          value -= 0x10000;\r\n          encoded.push(toHex(((value >>> 10) & 0x3ff) | 0xd800));\r\n          value = 0xdc00 | (value & 0x3ff);\r\n        }\r\n\r\n        encoded.push(toHex(value));\r\n      }\r\n\r\n      entries.push(`<${encoded.join(' ')}>`);\r\n    }\r\n\r\n    cmap.end(`\\\r\n/CIDInit /ProcSet findresource begin\r\n12 dict begin\r\nbegincmap\r\n/CIDSystemInfo <<\r\n  /Registry (Adobe)\r\n  /Ordering (UCS)\r\n  /Supplement 0\r\n>> def\r\n/CMapName /Adobe-Identity-UCS def\r\n/CMapType 2 def\r\n1 begincodespacerange\r\n<0000><ffff>\r\nendcodespacerange\r\n1 beginbfrange\r\n<0000> <${toHex(entries.length - 1)}> [${entries.join(' ')}]\r\nendbfrange\r\nendcmap\r\nCMapName currentdict /CMap defineresource pop\r\nend\r\nend\\\r\n`);\r\n\r\n    return cmap;\r\n  }\r\n}\r\n\r\nexport default EmbeddedFont;\r\n","import fs from 'fs';\r\nimport fontkit from '@foliojs-fork/fontkit';\r\nimport StandardFont from './font/standard';\r\nimport EmbeddedFont from './font/embedded';\r\n\r\nclass PDFFontFactory {\r\n  static open(document, src, family, id) {\r\n    let font;\r\n    if (typeof src === 'string') {\r\n      if (StandardFont.isStandardFont(src)) {\r\n        return new StandardFont(document, src, id);\r\n      }\r\n\r\n      src = fs.readFileSync(src);\r\n    }\r\n    if (Buffer.isBuffer(src)) {\r\n      font = fontkit.create(src, family);\r\n    } else if (src instanceof Uint8Array) {\r\n      font = fontkit.create(Buffer.from(src), family);\r\n    } else if (src instanceof ArrayBuffer) {\r\n      font = fontkit.create(Buffer.from(new Uint8Array(src)), family);\r\n    }\r\n\r\n    if (font == null) {\r\n      throw new Error('Not a supported font format or standard PDF font.');\r\n    }\r\n\r\n    return new EmbeddedFont(document, font, id);\r\n  }\r\n}\r\n\r\nexport default PDFFontFactory;\r\n","import PDFFontFactory from '../font_factory';\r\n\r\nexport default {\r\n  initFonts(defaultFont = 'Helvetica') {\r\n    // Lookup table for embedded fonts\r\n    this._fontFamilies = {};\r\n    this._fontCount = 0;\r\n\r\n    // Font state\r\n    this._fontSize = 12;\r\n    this._font = null;\r\n\r\n    this._registeredFonts = {};\r\n\r\n    // Set the default font\r\n    if (defaultFont) {\r\n      this.font(defaultFont);\r\n    }\r\n  },\r\n\r\n  font(src, family, size) {\r\n    let cacheKey, font;\r\n    if (typeof family === 'number') {\r\n      size = family;\r\n      family = null;\r\n    }\r\n\r\n    // check registered fonts if src is a string\r\n    if (typeof src === 'string' && this._registeredFonts[src]) {\r\n      cacheKey = src;\r\n      ({ src, family } = this._registeredFonts[src]);\r\n    } else {\r\n      cacheKey = family || src;\r\n      if (typeof cacheKey !== 'string') {\r\n        cacheKey = null;\r\n      }\r\n    }\r\n\r\n    if (size != null) {\r\n      this.fontSize(size);\r\n    }\r\n\r\n    // fast path: check if the font is already in the PDF\r\n    if ((font = this._fontFamilies[cacheKey])) {\r\n      this._font = font;\r\n      return this;\r\n    }\r\n\r\n    // load the font\r\n    const id = `F${++this._fontCount}`;\r\n    this._font = PDFFontFactory.open(this, src, family, id);\r\n\r\n    // check for existing font familes with the same name already in the PDF\r\n    // useful if the font was passed as a buffer\r\n    if ((font = this._fontFamilies[this._font.name])) {\r\n      this._font = font;\r\n      return this;\r\n    }\r\n\r\n    // save the font for reuse later\r\n    if (cacheKey) {\r\n      this._fontFamilies[cacheKey] = this._font;\r\n    }\r\n\r\n    if (this._font.name) {\r\n      this._fontFamilies[this._font.name] = this._font;\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  fontSize(_fontSize) {\r\n    this._fontSize = _fontSize;\r\n    return this;\r\n  },\r\n\r\n  currentLineHeight(includeGap) {\r\n    if (includeGap == null) {\r\n      includeGap = false;\r\n    }\r\n    return this._font.lineHeight(this._fontSize, includeGap);\r\n  },\r\n\r\n  registerFont(name, src, family) {\r\n    this._registeredFonts[name] = {\r\n      src,\r\n      family\r\n    };\r\n\r\n    return this;\r\n  }\r\n};\r\n","import { EventEmitter } from 'events';\r\nimport LineBreaker from '@foliojs-fork/linebreak';\r\n\r\nclass LineWrapper extends EventEmitter {\r\n  constructor(document, options) {\r\n    super();\r\n    this.document = document;\r\n    this.indent = options.indent || 0;\r\n    this.characterSpacing = options.characterSpacing || 0;\r\n    this.wordSpacing = options.wordSpacing === 0;\r\n    this.columns = options.columns || 1;\r\n    this.columnGap = options.columnGap != null ? options.columnGap : 18; // 1/4 inch\r\n    this.lineWidth =\r\n      (options.width - this.columnGap * (this.columns - 1)) / this.columns;\r\n    this.spaceLeft = this.lineWidth;\r\n    this.startX = this.document.x;\r\n    this.startY = this.document.y;\r\n    this.column = 1;\r\n    this.ellipsis = options.ellipsis;\r\n    this.continuedX = 0;\r\n    this.features = options.features;\r\n\r\n    // calculate the maximum Y position the text can appear at\r\n    if (options.height != null) {\r\n      this.height = options.height;\r\n      this.maxY = this.startY + options.height;\r\n    } else {\r\n      this.maxY = this.document.page.maxY();\r\n    }\r\n\r\n    // handle paragraph indents\r\n    this.on('firstLine', options => {\r\n      // if this is the first line of the text segment, and\r\n      // we're continuing where we left off, indent that much\r\n      // otherwise use the user specified indent option\r\n      const indent = this.continuedX || this.indent;\r\n      this.document.x += indent;\r\n      this.lineWidth -= indent;\r\n\r\n      return this.once('line', () => {\r\n        this.document.x -= indent;\r\n        this.lineWidth += indent;\r\n        if (options.continued && !this.continuedX) {\r\n          this.continuedX = this.indent;\r\n        }\r\n        if (!options.continued) {\r\n          return (this.continuedX = 0);\r\n        }\r\n      });\r\n    });\r\n\r\n    // handle left aligning last lines of paragraphs\r\n    this.on('lastLine', options => {\r\n      const { align } = options;\r\n      if (align === 'justify') {\r\n        options.align = 'left';\r\n      }\r\n      this.lastLine = true;\r\n\r\n      return this.once('line', () => {\r\n        this.document.y += options.paragraphGap || 0;\r\n        options.align = align;\r\n        return (this.lastLine = false);\r\n      });\r\n    });\r\n  }\r\n\r\n  wordWidth(word) {\r\n    return (\r\n      this.document.widthOfString(word, this) +\r\n      this.characterSpacing +\r\n      this.wordSpacing\r\n    );\r\n  }\r\n\r\n  eachWord(text, fn) {\r\n    // setup a unicode line breaker\r\n    let bk;\r\n    const breaker = new LineBreaker(text);\r\n    let last = null;\r\n    const wordWidths = Object.create(null);\r\n\r\n    while ((bk = breaker.nextBreak())) {\r\n      var shouldContinue;\r\n      let word = text.slice(\r\n        (last != null ? last.position : undefined) || 0,\r\n        bk.position\r\n      );\r\n      let w =\r\n        wordWidths[word] != null\r\n          ? wordWidths[word]\r\n          : (wordWidths[word] = this.wordWidth(word));\r\n\r\n      // if the word is longer than the whole line, chop it up\r\n      // TODO: break by grapheme clusters, not JS string characters\r\n      if (w > this.lineWidth + this.continuedX) {\r\n        // make some fake break objects\r\n        let lbk = last;\r\n        const fbk = {};\r\n\r\n        while (word.length) {\r\n          // fit as much of the word as possible into the space we have\r\n          var l, mightGrow;\r\n          if (w > this.spaceLeft) {\r\n            // start our check at the end of our available space - this method is faster than a loop of each character and it resolves\r\n            // an issue with long loops when processing massive words, such as a huge number of spaces\r\n            l = Math.ceil(this.spaceLeft / (w / word.length));\r\n            w = this.wordWidth(word.slice(0, l));\r\n            mightGrow = w <= this.spaceLeft && l < word.length;\r\n          } else {\r\n            l = word.length;\r\n          }\r\n          let mustShrink = w > this.spaceLeft && l > 0;\r\n          // shrink or grow word as necessary after our near-guess above\r\n          while (mustShrink || mightGrow) {\r\n            if (mustShrink) {\r\n              w = this.wordWidth(word.slice(0, --l));\r\n              mustShrink = w > this.spaceLeft && l > 0;\r\n            } else {\r\n              w = this.wordWidth(word.slice(0, ++l));\r\n              mustShrink = w > this.spaceLeft && l > 0;\r\n              mightGrow = w <= this.spaceLeft && l < word.length;\r\n            }\r\n          }\r\n\r\n          // check for the edge case where a single character cannot fit into a line.\r\n          if (l === 0 && this.spaceLeft === this.lineWidth) {\r\n            l = 1;\r\n          }\r\n\r\n          // send a required break unless this is the last piece and a linebreak is not specified\r\n          fbk.required = bk.required || l < word.length;\r\n          shouldContinue = fn(word.slice(0, l), w, fbk, lbk);\r\n          lbk = { required: false };\r\n\r\n          // get the remaining piece of the word\r\n          word = word.slice(l);\r\n          w = this.wordWidth(word);\r\n\r\n          if (shouldContinue === false) {\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        // otherwise just emit the break as it was given to us\r\n        shouldContinue = fn(word, w, bk, last);\r\n      }\r\n\r\n      if (shouldContinue === false) {\r\n        break;\r\n      }\r\n      last = bk;\r\n    }\r\n  }\r\n\r\n  wrap(text, options) {\r\n    // override options from previous continued fragments\r\n    if (options.indent != null) {\r\n      this.indent = options.indent;\r\n    }\r\n    if (options.characterSpacing != null) {\r\n      this.characterSpacing = options.characterSpacing;\r\n    }\r\n    if (options.wordSpacing != null) {\r\n      this.wordSpacing = options.wordSpacing;\r\n    }\r\n    if (options.ellipsis != null) {\r\n      this.ellipsis = options.ellipsis;\r\n    }\r\n\r\n    // make sure we're actually on the page\r\n    // and that the first line of is never by\r\n    // itself at the bottom of a page (orphans)\r\n    const nextY = this.document.y + this.document.currentLineHeight(true);\r\n    if (this.document.y > this.maxY || nextY > this.maxY) {\r\n      this.nextSection();\r\n    }\r\n\r\n    let buffer = '';\r\n    let textWidth = 0;\r\n    let wc = 0;\r\n    let lc = 0;\r\n\r\n    let { y } = this.document; // used to reset Y pos if options.continued (below)\r\n    const emitLine = () => {\r\n      options.textWidth = textWidth + this.wordSpacing * (wc - 1);\r\n      options.wordCount = wc;\r\n      options.lineWidth = this.lineWidth;\r\n      ({ y } = this.document);\r\n      this.emit('line', buffer, options, this);\r\n      return lc++;\r\n    };\r\n\r\n    this.emit('sectionStart', options, this);\r\n\r\n    this.eachWord(text, (word, w, bk, last) => {\r\n      if (last == null || last.required) {\r\n        this.emit('firstLine', options, this);\r\n        this.spaceLeft = this.lineWidth;\r\n      }\r\n\r\n      if (w <= this.spaceLeft) {\r\n        buffer += word;\r\n        textWidth += w;\r\n        wc++;\r\n      }\r\n\r\n      if (bk.required || w > this.spaceLeft) {\r\n        // if the user specified a max height and an ellipsis, and is about to pass the\r\n        // max height and max columns after the next line, append the ellipsis\r\n        const lh = this.document.currentLineHeight(true);\r\n        if (\r\n          this.height != null &&\r\n          this.ellipsis &&\r\n          this.document.y + lh * 2 > this.maxY &&\r\n          this.column >= this.columns\r\n        ) {\r\n          if (this.ellipsis === true) {\r\n            this.ellipsis = '…';\r\n          } // map default ellipsis character\r\n          buffer = buffer.replace(/\\s+$/, '');\r\n          textWidth = this.wordWidth(buffer + this.ellipsis);\r\n\r\n          // remove characters from the buffer until the ellipsis fits\r\n          // to avoid infinite loop need to stop while-loop if buffer is empty string\r\n          while (buffer && textWidth > this.lineWidth) {\r\n            buffer = buffer.slice(0, -1).replace(/\\s+$/, '');\r\n            textWidth = this.wordWidth(buffer + this.ellipsis);\r\n          }\r\n          // need to add ellipsis only if there is enough space for it\r\n          if (textWidth <= this.lineWidth) {\r\n            buffer = buffer + this.ellipsis;\r\n          }\r\n\r\n          textWidth = this.wordWidth(buffer);\r\n        }\r\n\r\n        if (bk.required) {\r\n          if (w > this.spaceLeft) {\r\n            emitLine();\r\n            buffer = word;\r\n            textWidth = w;\r\n            wc = 1;\r\n          }\r\n\r\n          this.emit('lastLine', options, this);\r\n        }\r\n\r\n        emitLine();\r\n\r\n        // if we've reached the edge of the page,\r\n        // continue on a new page or column\r\n        if (this.document.y + lh > this.maxY) {\r\n          const shouldContinue = this.nextSection();\r\n\r\n          // stop if we reached the maximum height\r\n          if (!shouldContinue) {\r\n            wc = 0;\r\n            buffer = '';\r\n            return false;\r\n          }\r\n        }\r\n\r\n        // reset the space left and buffer\r\n        if (bk.required) {\r\n          this.spaceLeft = this.lineWidth;\r\n          buffer = '';\r\n          textWidth = 0;\r\n          return (wc = 0);\r\n        } else {\r\n          // reset the space left and buffer\r\n          this.spaceLeft = this.lineWidth - w;\r\n          buffer = word;\r\n          textWidth = w;\r\n          return (wc = 1);\r\n        }\r\n      } else {\r\n        return (this.spaceLeft -= w);\r\n      }\r\n    });\r\n\r\n    if (wc > 0) {\r\n      this.emit('lastLine', options, this);\r\n      emitLine();\r\n    }\r\n\r\n    this.emit('sectionEnd', options, this);\r\n\r\n    // if the wrap is set to be continued, save the X position\r\n    // to start the first line of the next segment at, and reset\r\n    // the y position\r\n    if (options.continued === true) {\r\n      if (lc > 1) {\r\n        this.continuedX = 0;\r\n      }\r\n      this.continuedX += options.textWidth || 0;\r\n      return (this.document.y = y);\r\n    } else {\r\n      return (this.document.x = this.startX);\r\n    }\r\n  }\r\n\r\n  nextSection(options) {\r\n    this.emit('sectionEnd', options, this);\r\n\r\n    if (++this.column > this.columns) {\r\n      // if a max height was specified by the user, we're done.\r\n      // otherwise, the default is to make a new page at the bottom.\r\n      if (this.height != null) {\r\n        return false;\r\n      }\r\n\r\n      this.document.continueOnNewPage();\r\n      this.column = 1;\r\n      this.startY = this.document.page.margins.top;\r\n      this.maxY = this.document.page.maxY();\r\n      this.document.x = this.startX;\r\n      if (this.document._fillColor) {\r\n        this.document.fillColor(...this.document._fillColor);\r\n      }\r\n      this.emit('pageBreak', options, this);\r\n    } else {\r\n      this.document.x += this.lineWidth + this.columnGap;\r\n      this.document.y = this.startY;\r\n      this.emit('columnBreak', options, this);\r\n    }\r\n\r\n    this.emit('sectionStart', options, this);\r\n    return true;\r\n  }\r\n}\r\n\r\nexport default LineWrapper;\r\n","import LineWrapper from '../line_wrapper';\r\nimport PDFObject from '../object';\r\n\r\nconst { number } = PDFObject;\r\n\r\nexport default {\r\n  initText() {\r\n    this._line = this._line.bind(this);\r\n    // Current coordinates\r\n    this.x = 0;\r\n    this.y = 0;\r\n    return (this._lineGap = 0);\r\n  },\r\n\r\n  lineGap(_lineGap) {\r\n    this._lineGap = _lineGap;\r\n    return this;\r\n  },\r\n\r\n  moveDown(lines) {\r\n    if (lines == null) {\r\n      lines = 1;\r\n    }\r\n    this.y += this.currentLineHeight(true) * lines + this._lineGap;\r\n    return this;\r\n  },\r\n\r\n  moveUp(lines) {\r\n    if (lines == null) {\r\n      lines = 1;\r\n    }\r\n    this.y -= this.currentLineHeight(true) * lines + this._lineGap;\r\n    return this;\r\n  },\r\n\r\n  _text(text, x, y, options, lineCallback) {\r\n    options = this._initOptions(x, y, options);\r\n\r\n    // Convert text to a string\r\n    text = text == null ? '' : `${text}`;\r\n\r\n    // if the wordSpacing option is specified, remove multiple consecutive spaces\r\n    if (options.wordSpacing) {\r\n      text = text.replace(/\\s{2,}/g, ' ');\r\n    }\r\n\r\n    const addStructure = () => {\r\n      if (options.structParent) {\r\n        options.structParent.add(this.struct(options.structType || 'P',\r\n          [ this.markStructureContent(options.structType || 'P') ]));\r\n      }\r\n    };\r\n\r\n    // word wrapping\r\n    if (options.width) {\r\n      let wrapper = this._wrapper;\r\n      if (!wrapper) {\r\n        wrapper = new LineWrapper(this, options);\r\n        wrapper.on('line', lineCallback);\r\n        wrapper.on('firstLine', addStructure);\r\n      }\r\n\r\n      this._wrapper = options.continued ? wrapper : null;\r\n      this._textOptions = options.continued ? options : null;\r\n      wrapper.wrap(text, options);\r\n\r\n      // render paragraphs as single lines\r\n    } else {\r\n      for (let line of text.split('\\n')) {\r\n        addStructure();\r\n        lineCallback(line, options);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  text(text, x, y, options) {\r\n    return this._text(text, x, y, options, this._line);\r\n  },\r\n\r\n  widthOfString(string, options = {}) {\r\n    return (\r\n      this._font.widthOfString(string, this._fontSize, options.features) +\r\n      (options.characterSpacing || 0) * (string.length - 1)\r\n    );\r\n  },\r\n\r\n  heightOfString(text, options) {\r\n    const { x, y } = this;\r\n\r\n    options = this._initOptions(options);\r\n    options.height = Infinity; // don't break pages\r\n\r\n    const lineGap = options.lineGap || this._lineGap || 0;\r\n    this._text(text, this.x, this.y, options, () => {\r\n      return (this.y += this.currentLineHeight(true) + lineGap);\r\n    });\r\n\r\n    const height = this.y - y;\r\n    this.x = x;\r\n    this.y = y;\r\n\r\n    return height;\r\n  },\r\n\r\n  list(list, x, y, options, wrapper) {\r\n    options = this._initOptions(x, y, options);\r\n\r\n    const listType = options.listType || 'bullet';\r\n    const unit = Math.round((this._font.ascender / 1000) * this._fontSize);\r\n    const midLine = unit / 2;\r\n    const r = options.bulletRadius || unit / 3;\r\n    const indent =\r\n      options.textIndent || (listType === 'bullet' ? r * 5 : unit * 2);\r\n    const itemIndent =\r\n      options.bulletIndent || (listType === 'bullet' ? r * 8 : unit * 2);\r\n\r\n    let level = 1;\r\n    const items = [];\r\n    const levels = [];\r\n    const numbers = [];\r\n\r\n    var flatten = function(list) {\r\n      let n = 1;\r\n      for (let i = 0; i < list.length; i++) {\r\n        const item = list[i];\r\n        if (Array.isArray(item)) {\r\n          level++;\r\n          flatten(item);\r\n          level--;\r\n        } else {\r\n          items.push(item);\r\n          levels.push(level);\r\n          if (listType !== 'bullet') {\r\n            numbers.push(n++);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    flatten(list);\r\n\r\n    const label = function(n) {\r\n      switch (listType) {\r\n        case 'numbered':\r\n          return `${n}.`;\r\n        case 'lettered':\r\n          var letter = String.fromCharCode(((n - 1) % 26) + 65);\r\n          var times = Math.floor((n - 1) / 26 + 1);\r\n          var text = Array(times + 1).join(letter);\r\n          return `${text}.`;\r\n      }\r\n    };\r\n\r\n    wrapper = new LineWrapper(this, options);\r\n    wrapper.on('line', this._line);\r\n\r\n    level = 1;\r\n    let i = 0;\r\n    wrapper.on('firstLine', () => {\r\n      let item, itemType, labelType, bodyType;\r\n      if (options.structParent) {\r\n        if (options.structTypes) {\r\n          [ itemType, labelType, bodyType ] = options.structTypes;\r\n        } else {\r\n          [ itemType, labelType, bodyType ] = [ 'LI', 'Lbl', 'LBody' ];\r\n        }\r\n      }\r\n\r\n      if (itemType) {\r\n        item = this.struct(itemType);\r\n        options.structParent.add(item);\r\n      } else if (options.structParent) {\r\n        item = options.structParent;\r\n      }\r\n\r\n      let l;\r\n      if ((l = levels[i++]) !== level) {\r\n        const diff = itemIndent * (l - level);\r\n        this.x += diff;\r\n        wrapper.lineWidth -= diff;\r\n        level = l;\r\n      }\r\n\r\n      if (item && (labelType || bodyType)) {\r\n        item.add(this.struct(labelType || bodyType,\r\n          [ this.markStructureContent(labelType || bodyType) ]));\r\n      }\r\n      switch (listType) {\r\n        case 'bullet':\r\n          this.circle(this.x - indent + r, this.y + midLine, r);\r\n          this.fill();\r\n          break;\r\n        case 'numbered':\r\n        case 'lettered':\r\n          var text = label(numbers[i - 1]);\r\n          this._fragment(text, this.x - indent, this.y, options);\r\n          break;\r\n      }\r\n\r\n      if (item && labelType && bodyType) {\r\n        item.add(this.struct(bodyType, [ this.markStructureContent(bodyType) ]));\r\n      }\r\n      if (item && item !== options.structParent) {\r\n        item.end();\r\n      }\r\n    });\r\n\r\n    wrapper.on('sectionStart', () => {\r\n      const pos = indent + itemIndent * (level - 1);\r\n      this.x += pos;\r\n      return (wrapper.lineWidth -= pos);\r\n    });\r\n\r\n    wrapper.on('sectionEnd', () => {\r\n      const pos = indent + itemIndent * (level - 1);\r\n      this.x -= pos;\r\n      return (wrapper.lineWidth += pos);\r\n    });\r\n\r\n    wrapper.wrap(items.join('\\n'), options);\r\n\r\n    return this;\r\n  },\r\n\r\n  _initOptions(x = {}, y, options = {}) {\r\n    if (typeof x === 'object') {\r\n      options = x;\r\n      x = null;\r\n    }\r\n\r\n    // clone options object\r\n    const result = Object.assign({}, options);\r\n\r\n    // extend options with previous values for continued text\r\n    if (this._textOptions) {\r\n      for (let key in this._textOptions) {\r\n        const val = this._textOptions[key];\r\n        if (key !== 'continued') {\r\n          if (result[key] === undefined) {\r\n            result[key] = val;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Update the current position\r\n    if (x != null) {\r\n      this.x = x;\r\n    }\r\n    if (y != null) {\r\n      this.y = y;\r\n    }\r\n\r\n    // wrap to margins if no x or y position passed\r\n    if (result.lineBreak !== false) {\r\n      if (result.width == null) {\r\n        result.width = this.page.width - this.x - this.page.margins.right;\r\n      }\r\n      result.width = Math.max(result.width, 0);\r\n    }\r\n\r\n    if (!result.columns) {\r\n      result.columns = 0;\r\n    }\r\n    if (result.columnGap == null) {\r\n      result.columnGap = 18;\r\n    } // 1/4 inch\r\n\r\n    return result;\r\n  },\r\n\r\n  _line(text, options = {}, wrapper) {\r\n    this._fragment(text, this.x, this.y, options);\r\n    const lineGap = options.lineGap || this._lineGap || 0;\r\n\r\n    if (!wrapper) {\r\n      return (this.x += this.widthOfString(text));\r\n    } else {\r\n      return (this.y += this.currentLineHeight(true) + lineGap);\r\n    }\r\n  },\r\n\r\n  _fragment(text, x, y, options) {\r\n    let dy, encoded, i, positions, textWidth, words;\r\n    text = `${text}`.replace(/\\n/g, '');\r\n    if (text.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // handle options\r\n    const align = options.align || 'left';\r\n    let wordSpacing = options.wordSpacing || 0;\r\n    const characterSpacing = options.characterSpacing || 0;\r\n\r\n    // text alignments\r\n    if (options.width) {\r\n      switch (align) {\r\n        case 'right':\r\n          textWidth = this.widthOfString(text.replace(/\\s+$/, ''), options);\r\n          x += options.lineWidth - textWidth;\r\n          break;\r\n\r\n        case 'center':\r\n          x += options.lineWidth / 2 - options.textWidth / 2;\r\n          break;\r\n\r\n        case 'justify':\r\n          // calculate the word spacing value\r\n          words = text.trim().split(/\\s+/);\r\n          textWidth = this.widthOfString(text.replace(/\\s+/g, ''), options);\r\n          var spaceWidth = this.widthOfString(' ') + characterSpacing;\r\n          wordSpacing = Math.max(\r\n            0,\r\n            (options.lineWidth - textWidth) / Math.max(1, words.length - 1) -\r\n              spaceWidth\r\n          );\r\n          break;\r\n      }\r\n    }\r\n\r\n    // text baseline alignments based on http://wiki.apache.org/xmlgraphics-fop/LineLayout/AlignmentHandling\r\n    if (typeof options.baseline === 'number') {\r\n      dy = -options.baseline;\r\n    } else {\r\n      switch (options.baseline) {\r\n        case 'svg-middle':\r\n          dy = 0.5 * this._font.xHeight;\r\n          break;\r\n        case 'middle':\r\n        case 'svg-central':\r\n          dy = 0.5 * (this._font.descender + this._font.ascender);\r\n          break;\r\n        case 'bottom':\r\n        case 'ideographic':\r\n          dy = this._font.descender;\r\n          break;\r\n        case 'alphabetic':\r\n          dy = 0;\r\n          break;\r\n        case 'mathematical':\r\n          dy = 0.5 * this._font.ascender;\r\n          break;\r\n        case 'hanging':\r\n          dy = 0.8 * this._font.ascender;\r\n          break;\r\n        case 'top':\r\n          dy = this._font.ascender;\r\n          break;\r\n        default:\r\n          dy = this._font.ascender;\r\n      }\r\n      dy = (dy / 1000) * this._fontSize;\r\n    }\r\n\r\n    // calculate the actual rendered width of the string after word and character spacing\r\n    const renderedWidth =\r\n      options.textWidth +\r\n      wordSpacing * (options.wordCount - 1) +\r\n      characterSpacing * (text.length - 1);\r\n\r\n    // create link annotations if the link option is given\r\n    if (options.link != null) {\r\n      this.link(x, y, renderedWidth, this.currentLineHeight(), options.link);\r\n    }\r\n    if (options.goTo != null) {\r\n      this.goTo(x, y, renderedWidth, this.currentLineHeight(), options.goTo);\r\n    }\r\n    if (options.destination != null) {\r\n      this.addNamedDestination(options.destination, 'XYZ', x, y, null);\r\n    }\r\n\r\n    // create underline or strikethrough line\r\n    if (options.underline || options.strike) {\r\n      this.save();\r\n      if (!options.stroke) {\r\n        this.strokeColor(...(this._fillColor || []));\r\n      }\r\n\r\n      const lineWidth =\r\n        this._fontSize < 10 ? 0.5 : Math.floor(this._fontSize / 10);\r\n      this.lineWidth(lineWidth);\r\n\r\n      const d = options.underline ? 1 : 2;\r\n      let lineY = y + this.currentLineHeight() / d;\r\n      if (options.underline) {\r\n        lineY -= lineWidth;\r\n      }\r\n\r\n      this.moveTo(x, lineY);\r\n      this.lineTo(x + renderedWidth, lineY);\r\n      this.stroke();\r\n      this.restore();\r\n    }\r\n\r\n    this.save();\r\n\r\n    // oblique (angle in degrees or boolean)\r\n    if (options.oblique) {\r\n      let skew;\r\n      if (typeof options.oblique === 'number') {\r\n        skew = -Math.tan((options.oblique * Math.PI) / 180);\r\n      } else {\r\n        skew = -0.25;\r\n      }\r\n      this.transform(1, 0, 0, 1, x, y);\r\n      this.transform(1, 0, skew, 1, -skew * dy, 0);\r\n      this.transform(1, 0, 0, 1, -x, -y);\r\n    }\r\n\r\n    // flip coordinate system\r\n    this.transform(1, 0, 0, -1, 0, this.page.height);\r\n    y = this.page.height - y - dy;\r\n\r\n    // add current font to page if necessary\r\n    if (this.page.fonts[this._font.id] == null) {\r\n      this.page.fonts[this._font.id] = this._font.ref();\r\n    }\r\n\r\n    // begin the text object\r\n    this.addContent('BT');\r\n\r\n    // text position\r\n    this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\r\n\r\n    // font and font size\r\n    this.addContent(`/${this._font.id} ${number(this._fontSize)} Tf`);\r\n\r\n    // rendering mode\r\n    const mode = options.fill && options.stroke ? 2 : options.stroke ? 1 : 0;\r\n    if (mode) {\r\n      this.addContent(`${mode} Tr`);\r\n    }\r\n\r\n    // Character spacing\r\n    if (characterSpacing) {\r\n      this.addContent(`${number(characterSpacing)} Tc`);\r\n    }\r\n\r\n    // Add the actual text\r\n    // If we have a word spacing value, we need to encode each word separately\r\n    // since the normal Tw operator only works on character code 32, which isn't\r\n    // used for embedded fonts.\r\n    if (wordSpacing) {\r\n      words = text.trim().split(/\\s+/);\r\n      wordSpacing += this.widthOfString(' ') + characterSpacing;\r\n      wordSpacing *= 1000 / this._fontSize;\r\n\r\n      encoded = [];\r\n      positions = [];\r\n      for (let word of words) {\r\n        const [encodedWord, positionsWord] = this._font.encode(\r\n          word,\r\n          options.features\r\n        );\r\n        encoded = encoded.concat(encodedWord);\r\n        positions = positions.concat(positionsWord);\r\n\r\n        // add the word spacing to the end of the word\r\n        // clone object because of cache\r\n        const space = {};\r\n        const object = positions[positions.length - 1];\r\n        for (let key in object) {\r\n          const val = object[key];\r\n          space[key] = val;\r\n        }\r\n        space.xAdvance += wordSpacing;\r\n        positions[positions.length - 1] = space;\r\n      }\r\n    } else {\r\n      [encoded, positions] = this._font.encode(text, options.features);\r\n    }\r\n\r\n    const scale = this._fontSize / 1000;\r\n    const commands = [];\r\n    let last = 0;\r\n    let hadOffset = false;\r\n\r\n    // Adds a segment of text to the TJ command buffer\r\n    const addSegment = cur => {\r\n      if (last < cur) {\r\n        const hex = encoded.slice(last, cur).join('');\r\n        const advance =\r\n          positions[cur - 1].xAdvance - positions[cur - 1].advanceWidth;\r\n        commands.push(`<${hex}> ${number(-advance)}`);\r\n      }\r\n\r\n      return (last = cur);\r\n    };\r\n\r\n    // Flushes the current TJ commands to the output stream\r\n    const flush = i => {\r\n      addSegment(i);\r\n\r\n      if (commands.length > 0) {\r\n        this.addContent(`[${commands.join(' ')}] TJ`);\r\n        return (commands.length = 0);\r\n      }\r\n    };\r\n\r\n    for (i = 0; i < positions.length; i++) {\r\n      // If we have an x or y offset, we have to break out of the current TJ command\r\n      // so we can move the text position.\r\n      const pos = positions[i];\r\n      if (pos.xOffset || pos.yOffset) {\r\n        // Flush the current buffer\r\n        flush(i);\r\n\r\n        // Move the text position and flush just the current character\r\n        this.addContent(\r\n          `1 0 0 1 ${number(x + pos.xOffset * scale)} ${number(\r\n            y + pos.yOffset * scale\r\n          )} Tm`\r\n        );\r\n        flush(i + 1);\r\n\r\n        hadOffset = true;\r\n      } else {\r\n        // If the last character had an offset, reset the text position\r\n        if (hadOffset) {\r\n          this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\r\n          hadOffset = false;\r\n        }\r\n\r\n        // Group segments that don't have any advance adjustments\r\n        if (pos.xAdvance - pos.advanceWidth !== 0) {\r\n          addSegment(i + 1);\r\n        }\r\n      }\r\n\r\n      x += pos.xAdvance * scale;\r\n    }\r\n\r\n    // Flush any remaining commands\r\n    flush(i);\r\n\r\n    // end the text object\r\n    this.addContent('ET');\r\n\r\n    // restore flipped coordinate system\r\n    return this.restore();\r\n  }\r\n};\r\n","const MARKERS = [\r\n  0xffc0,\r\n  0xffc1,\r\n  0xffc2,\r\n  0xffc3,\r\n  0xffc5,\r\n  0xffc6,\r\n  0xffc7,\r\n  0xffc8,\r\n  0xffc9,\r\n  0xffca,\r\n  0xffcb,\r\n  0xffcc,\r\n  0xffcd,\r\n  0xffce,\r\n  0xffcf\r\n];\r\n\r\nconst COLOR_SPACE_MAP = {\r\n  1: 'DeviceGray',\r\n  3: 'DeviceRGB',\r\n  4: 'DeviceCMYK'\r\n};\r\n\r\nclass JPEG {\r\n  constructor(data, label) {\r\n    let marker;\r\n    this.data = data;\r\n    this.label = label;\r\n    if (this.data.readUInt16BE(0) !== 0xffd8) {\r\n      throw 'SOI not found in JPEG';\r\n    }\r\n\r\n    let pos = 2;\r\n    while (pos < this.data.length) {\r\n      marker = this.data.readUInt16BE(pos);\r\n      pos += 2;\r\n      if (MARKERS.includes(marker)) {\r\n        break;\r\n      }\r\n      pos += this.data.readUInt16BE(pos);\r\n    }\r\n\r\n    if (!MARKERS.includes(marker)) {\r\n      throw 'Invalid JPEG.';\r\n    }\r\n    pos += 2;\r\n\r\n    this.bits = this.data[pos++];\r\n    this.height = this.data.readUInt16BE(pos);\r\n    pos += 2;\r\n\r\n    this.width = this.data.readUInt16BE(pos);\r\n    pos += 2;\r\n\r\n    const channels = this.data[pos++];\r\n    this.colorSpace = COLOR_SPACE_MAP[channels];\r\n\r\n    this.obj = null;\r\n  }\r\n\r\n  embed(document) {\r\n    if (this.obj) {\r\n      return;\r\n    }\r\n\r\n    this.obj = document.ref({\r\n      Type: 'XObject',\r\n      Subtype: 'Image',\r\n      BitsPerComponent: this.bits,\r\n      Width: this.width,\r\n      Height: this.height,\r\n      ColorSpace: this.colorSpace,\r\n      Filter: 'DCTDecode'\r\n    });\r\n\r\n    // add extra decode params for CMYK images. By swapping the\r\n    // min and max values from the default, we invert the colors. See\r\n    // section 4.8.4 of the spec.\r\n    if (this.colorSpace === 'DeviceCMYK') {\r\n      this.obj.data['Decode'] = [1.0, 0.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0];\r\n    }\r\n\r\n    this.obj.end(this.data);\r\n\r\n    // free memory\r\n    return (this.data = null);\r\n  }\r\n}\r\n\r\nexport default JPEG;\r\n","import zlib from 'zlib';\r\nimport PNG from 'png-js';\r\n\r\nclass PNGImage {\r\n  constructor(data, label) {\r\n    this.label = label;\r\n    this.image = new PNG(data);\r\n    this.width = this.image.width;\r\n    this.height = this.image.height;\r\n    this.imgData = this.image.imgData;\r\n    this.obj = null;\r\n  }\r\n\r\n  embed(document) {\r\n    let dataDecoded = false;\r\n\r\n    this.document = document;\r\n    if (this.obj) {\r\n      return;\r\n    }\r\n\r\n    const hasAlphaChannel = this.image.hasAlphaChannel;\r\n    const isInterlaced = this.image.interlaceMethod === 1;\r\n\r\n    this.obj = this.document.ref({\r\n      Type: 'XObject',\r\n      Subtype: 'Image',\r\n      BitsPerComponent: hasAlphaChannel ? 8 : this.image.bits,\r\n      Width: this.width,\r\n      Height: this.height,\r\n      Filter: 'FlateDecode'\r\n    });\r\n\r\n    if (!hasAlphaChannel) {\r\n      const params = this.document.ref({\r\n        Predictor: isInterlaced ? 1 : 15,\r\n        Colors: this.image.colors,\r\n        BitsPerComponent: this.image.bits,\r\n        Columns: this.width\r\n      });\r\n\r\n      this.obj.data['DecodeParms'] = params;\r\n      params.end();\r\n    }\r\n\r\n    if (this.image.palette.length === 0) {\r\n      this.obj.data['ColorSpace'] = this.image.colorSpace;\r\n    } else {\r\n      // embed the color palette in the PDF as an object stream\r\n      const palette = this.document.ref();\r\n      palette.end(Buffer.from(this.image.palette));\r\n\r\n      // build the color space array for the image\r\n      this.obj.data['ColorSpace'] = [\r\n        'Indexed',\r\n        'DeviceRGB',\r\n        this.image.palette.length / 3 - 1,\r\n        palette\r\n      ];\r\n    }\r\n\r\n    // For PNG color types 0, 2 and 3, the transparency data is stored in\r\n    // a dedicated PNG chunk.\r\n    if (this.image.transparency.grayscale != null) {\r\n      // Use Color Key Masking (spec section 4.8.5)\r\n      // An array with N elements, where N is two times the number of color components.\r\n      const val = this.image.transparency.grayscale;\r\n      this.obj.data['Mask'] = [val, val];\r\n    } else if (this.image.transparency.rgb) {\r\n      // Use Color Key Masking (spec section 4.8.5)\r\n      // An array with N elements, where N is two times the number of color components.\r\n      const { rgb } = this.image.transparency;\r\n      const mask = [];\r\n      for (let x of rgb) {\r\n        mask.push(x, x);\r\n      }\r\n\r\n      this.obj.data['Mask'] = mask;\r\n    } else if (this.image.transparency.indexed) {\r\n      // Create a transparency SMask for the image based on the data\r\n      // in the PLTE and tRNS sections. See below for details on SMasks.\r\n      dataDecoded = true;\r\n      return this.loadIndexedAlphaChannel();\r\n    } else if (hasAlphaChannel) {\r\n      // For PNG color types 4 and 6, the transparency data is stored as a alpha\r\n      // channel mixed in with the main image data. Separate this data out into an\r\n      // SMask object and store it separately in the PDF.\r\n      dataDecoded = true;\r\n      return this.splitAlphaChannel();\r\n    }\r\n\r\n    if (isInterlaced && !dataDecoded) {\r\n      return this.decodeData();\r\n    }\r\n\r\n    this.finalize();\r\n  }\r\n\r\n  finalize() {\r\n    if (this.alphaChannel) {\r\n      const sMask = this.document.ref({\r\n        Type: 'XObject',\r\n        Subtype: 'Image',\r\n        Height: this.height,\r\n        Width: this.width,\r\n        BitsPerComponent: 8,\r\n        Filter: 'FlateDecode',\r\n        ColorSpace: 'DeviceGray',\r\n        Decode: [0, 1]\r\n      });\r\n\r\n      sMask.end(this.alphaChannel);\r\n      this.obj.data['SMask'] = sMask;\r\n    }\r\n\r\n    // add the actual image data\r\n    this.obj.end(this.imgData);\r\n\r\n    // free memory\r\n    this.image = null;\r\n    return (this.imgData = null);\r\n  }\r\n\r\n  splitAlphaChannel() {\r\n    return this.image.decodePixels(pixels => {\r\n      let a, p;\r\n      const colorCount = this.image.colors;\r\n      const pixelCount = this.width * this.height;\r\n      const imgData = Buffer.alloc(pixelCount * colorCount);\r\n      const alphaChannel = Buffer.alloc(pixelCount);\r\n\r\n      let i = (p = a = 0);\r\n      const len = pixels.length;\r\n      // For 16bit images copy only most significant byte (MSB) - PNG data is always stored in network byte order (MSB first)\r\n      const skipByteCount = this.image.bits === 16 ? 1 : 0;\r\n      while (i < len) {\r\n        for (let colorIndex = 0; colorIndex < colorCount; colorIndex++) {\r\n          imgData[p++] = pixels[i++];\r\n          i += skipByteCount;\r\n        }\r\n        alphaChannel[a++] = pixels[i++];\r\n        i += skipByteCount;\r\n      }\r\n\r\n      this.imgData = zlib.deflateSync(imgData);\r\n      this.alphaChannel = zlib.deflateSync(alphaChannel);\r\n      return this.finalize();\r\n    });\r\n  }\r\n\r\n  loadIndexedAlphaChannel() {\r\n    const transparency = this.image.transparency.indexed;\r\n    return this.image.decodePixels(pixels => {\r\n      const alphaChannel = Buffer.alloc(this.width * this.height);\r\n\r\n      let i = 0;\r\n      for (let j = 0, end = pixels.length; j < end; j++) {\r\n        alphaChannel[i++] = transparency[pixels[j]];\r\n      }\r\n\r\n      this.alphaChannel = zlib.deflateSync(alphaChannel);\r\n      return this.finalize();\r\n    });\r\n  }\r\n\r\n  decodeData() {\r\n    this.image.decodePixels(pixels => {\r\n      this.imgData = zlib.deflateSync(pixels);\r\n      this.finalize();\r\n    });\r\n  }\r\n}\r\n\r\nexport default PNGImage;\r\n","/*\r\nPDFImage - embeds images in PDF documents\r\nBy Devon Govett\r\n*/\r\n\r\nimport fs from 'fs';\r\nimport JPEG from './image/jpeg';\r\nimport PNG from './image/png';\r\n\r\nclass PDFImage {\r\n  static open(src, label) {\r\n    let data;\r\n    if (Buffer.isBuffer(src)) {\r\n      data = src;\r\n    } else if (src instanceof ArrayBuffer) {\r\n      data = Buffer.from(new Uint8Array(src));\r\n    } else {\r\n      let match;\r\n      if ((match = /^data:.+;base64,(.*)$/.exec(src))) {\r\n        data = Buffer.from(match[1], 'base64');\r\n      } else {\r\n        data = fs.readFileSync(src);\r\n        if (!data) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (data[0] === 0xff && data[1] === 0xd8) {\r\n      return new JPEG(data, label);\r\n    } else if (data[0] === 0x89 && data.toString('ascii', 1, 4) === 'PNG') {\r\n      return new PNG(data, label);\r\n    } else {\r\n      throw new Error('Unknown image format.');\r\n    }\r\n  }\r\n}\r\n\r\nexport default PDFImage;\r\n","import PDFImage from '../image';\r\n\r\nexport default {\r\n  initImages() {\r\n    this._imageRegistry = {};\r\n    return (this._imageCount = 0);\r\n  },\r\n\r\n  image(src, x, y, options = {}) {\r\n    let bh, bp, bw, image, ip, left, left1;\r\n    if (typeof x === 'object') {\r\n      options = x;\r\n      x = null;\r\n    }\r\n\r\n    x = (left = x != null ? x : options.x) != null ? left : this.x;\r\n    y = (left1 = y != null ? y : options.y) != null ? left1 : this.y;\r\n\r\n    if (typeof src === 'string') {\r\n      image = this._imageRegistry[src];\r\n    }\r\n\r\n    if (!image) {\r\n      if (src.width && src.height) {\r\n        image = src;\r\n      } else {\r\n        image = this.openImage(src);\r\n      }\r\n    }\r\n\r\n    if (!image.obj) {\r\n      image.embed(this);\r\n    }\r\n\r\n    if (this.page.xobjects[image.label] == null) {\r\n      this.page.xobjects[image.label] = image.obj;\r\n    }\r\n\r\n    let w = options.width || image.width;\r\n    let h = options.height || image.height;\r\n\r\n    if (options.width && !options.height) {\r\n      const wp = w / image.width;\r\n      w = image.width * wp;\r\n      h = image.height * wp;\r\n    } else if (options.height && !options.width) {\r\n      const hp = h / image.height;\r\n      w = image.width * hp;\r\n      h = image.height * hp;\r\n    } else if (options.scale) {\r\n      w = image.width * options.scale;\r\n      h = image.height * options.scale;\r\n    } else if (options.fit) {\r\n      [bw, bh] = options.fit;\r\n      bp = bw / bh;\r\n      ip = image.width / image.height;\r\n      if (ip > bp) {\r\n        w = bw;\r\n        h = bw / ip;\r\n      } else {\r\n        h = bh;\r\n        w = bh * ip;\r\n      }\r\n    } else if (options.cover) {\r\n      [bw, bh] = options.cover;\r\n      bp = bw / bh;\r\n      ip = image.width / image.height;\r\n      if (ip > bp) {\r\n        h = bh;\r\n        w = bh * ip;\r\n      } else {\r\n        w = bw;\r\n        h = bw / ip;\r\n      }\r\n    }\r\n\r\n    if (options.fit || options.cover) {\r\n      if (options.align === 'center') {\r\n        x = x + bw / 2 - w / 2;\r\n      } else if (options.align === 'right') {\r\n        x = x + bw - w;\r\n      }\r\n\r\n      if (options.valign === 'center') {\r\n        y = y + bh / 2 - h / 2;\r\n      } else if (options.valign === 'bottom') {\r\n        y = y + bh - h;\r\n      }\r\n    }\r\n\r\n    // create link annotations if the link option is given\r\n    if (options.link != null) {\r\n      this.link(x, y, w, h, options.link);\r\n    }\r\n    if (options.goTo != null) {\r\n      this.goTo(x, y, w, h, options.goTo);\r\n    }\r\n    if (options.destination != null) {\r\n      this.addNamedDestination(options.destination, 'XYZ', x, y, null);\r\n    }\r\n\r\n    // Set the current y position to below the image if it is in the document flow\r\n    if (this.y === y) {\r\n      this.y += h;\r\n    }\r\n\r\n    this.save();\r\n    this.transform(w, 0, 0, -h, x, y + h);\r\n    this.addContent(`/${image.label} Do`);\r\n    this.restore();\r\n\r\n    return this;\r\n  },\r\n\r\n  openImage(src) {\r\n    let image;\r\n    if (typeof src === 'string') {\r\n      image = this._imageRegistry[src];\r\n    }\r\n\r\n    if (!image) {\r\n      image = PDFImage.open(src, `I${++this._imageCount}`);\r\n      if (typeof src === 'string') {\r\n        this._imageRegistry[src] = image;\r\n      }\r\n    }\r\n\r\n    return image;\r\n  }\r\n};\r\n","export default {\r\n  annotate(x, y, w, h, options) {\r\n    options.Type = 'Annot';\r\n    options.Rect = this._convertRect(x, y, w, h);\r\n    options.Border = [0, 0, 0];\r\n\r\n    if (options.Subtype === 'Link' && typeof options.F === 'undefined') {\r\n      options.F = 1 << 2; // Print Annotation Flag\r\n    }\r\n\r\n    if (options.Subtype !== 'Link') {\r\n      if (options.C == null) {\r\n        options.C = this._normalizeColor(options.color || [0, 0, 0]);\r\n      }\r\n    } // convert colors\r\n    delete options.color;\r\n\r\n    if (typeof options.Dest === 'string') {\r\n      options.Dest = new String(options.Dest);\r\n    }\r\n\r\n    // Capitalize keys\r\n    for (let key in options) {\r\n      const val = options[key];\r\n      options[key[0].toUpperCase() + key.slice(1)] = val;\r\n    }\r\n\r\n    const ref = this.ref(options);\r\n    this.page.annotations.push(ref);\r\n    ref.end();\r\n    return this;\r\n  },\r\n\r\n  note(x, y, w, h, contents, options = {}) {\r\n    options.Subtype = 'Text';\r\n    options.Contents = new String(contents);\r\n    options.Name = 'Comment';\r\n    if (options.color == null) {\r\n      options.color = [243, 223, 92];\r\n    }\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  goTo(x, y, w, h, name, options = {}) {\r\n    options.Subtype = 'Link';\r\n    options.A = this.ref({\r\n      S: 'GoTo',\r\n      D: new String(name)\r\n    });\r\n    options.A.end();\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  link(x, y, w, h, url, options = {}) {\r\n    options.Subtype = 'Link';\r\n\r\n    if (typeof url === 'number') {\r\n      // Link to a page in the document (the page must already exist)\r\n      const pages = this._root.data.Pages.data;\r\n      if (url >= 0 && url < pages.Kids.length) {\r\n        options.A = this.ref({\r\n          S: 'GoTo',\r\n          D: [pages.Kids[url], 'XYZ', null, null, null]\r\n        });\r\n        options.A.end();\r\n      } else {\r\n        throw new Error(`The document has no page ${url}`);\r\n      }\r\n    } else {\r\n      // Link to an external url\r\n      options.A = this.ref({\r\n        S: 'URI',\r\n        URI: new String(url)\r\n      });\r\n      options.A.end();\r\n    }\r\n\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  _markup(x, y, w, h, options = {}) {\r\n    const [x1, y1, x2, y2] = this._convertRect(x, y, w, h);\r\n    options.QuadPoints = [x1, y2, x2, y2, x1, y1, x2, y1];\r\n    options.Contents = new String();\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  highlight(x, y, w, h, options = {}) {\r\n    options.Subtype = 'Highlight';\r\n    if (options.color == null) {\r\n      options.color = [241, 238, 148];\r\n    }\r\n    return this._markup(x, y, w, h, options);\r\n  },\r\n\r\n  underline(x, y, w, h, options = {}) {\r\n    options.Subtype = 'Underline';\r\n    return this._markup(x, y, w, h, options);\r\n  },\r\n\r\n  strike(x, y, w, h, options = {}) {\r\n    options.Subtype = 'StrikeOut';\r\n    return this._markup(x, y, w, h, options);\r\n  },\r\n\r\n  lineAnnotation(x1, y1, x2, y2, options = {}) {\r\n    options.Subtype = 'Line';\r\n    options.Contents = new String();\r\n    options.L = [x1, this.page.height - y1, x2, this.page.height - y2];\r\n    return this.annotate(x1, y1, x2, y2, options);\r\n  },\r\n\r\n  rectAnnotation(x, y, w, h, options = {}) {\r\n    options.Subtype = 'Square';\r\n    options.Contents = new String();\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  ellipseAnnotation(x, y, w, h, options = {}) {\r\n    options.Subtype = 'Circle';\r\n    options.Contents = new String();\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  textAnnotation(x, y, w, h, text, options = {}) {\r\n    options.Subtype = 'FreeText';\r\n    options.Contents = new String(text);\r\n    options.DA = new String();\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  fileAnnotation(x, y, w, h, file = {}, options = {}) {\r\n    // create hidden file\r\n    const filespec = this.file(\r\n      file.src,\r\n      Object.assign({ hidden: true }, file)\r\n    );\r\n\r\n    options.Subtype = 'FileAttachment';\r\n    options.FS = filespec;\r\n\r\n    // add description from filespec unless description (Contents) has already been set\r\n    if (options.Contents) {\r\n      options.Contents = new String(options.Contents);\r\n    } else if (filespec.data.Desc) {\r\n      options.Contents = filespec.data.Desc;\r\n    }\r\n\r\n    return this.annotate(x, y, w, h, options);\r\n  },\r\n\r\n  _convertRect(x1, y1, w, h) {\r\n    // flip y1 and y2\r\n    let y2 = y1;\r\n    y1 += h;\r\n\r\n    // make x2\r\n    let x2 = x1 + w;\r\n\r\n    // apply current transformation matrix to points\r\n    const [m0, m1, m2, m3, m4, m5] = this._ctm;\r\n    x1 = m0 * x1 + m2 * y1 + m4;\r\n    y1 = m1 * x1 + m3 * y1 + m5;\r\n    x2 = m0 * x2 + m2 * y2 + m4;\r\n    y2 = m1 * x2 + m3 * y2 + m5;\r\n\r\n    return [x1, y1, x2, y2];\r\n  }\r\n};\r\n","class PDFOutline {\r\n  constructor(document, parent, title, dest, options = { expanded: false }) {\r\n    this.document = document;\r\n    this.options = options;\r\n    this.outlineData = {};\r\n\r\n    if (dest !== null) {\r\n      this.outlineData['Dest'] = [dest.dictionary, 'Fit'];\r\n    }\r\n\r\n    if (parent !== null) {\r\n      this.outlineData['Parent'] = parent;\r\n    }\r\n\r\n    if (title !== null) {\r\n      this.outlineData['Title'] = new String(title);\r\n    }\r\n\r\n    this.dictionary = this.document.ref(this.outlineData);\r\n    this.children = [];\r\n  }\r\n\r\n  addItem(title, options = { expanded: false }) {\r\n    const result = new PDFOutline(\r\n      this.document,\r\n      this.dictionary,\r\n      title,\r\n      this.document.page,\r\n      options\r\n    );\r\n    this.children.push(result);\r\n\r\n    return result;\r\n  }\r\n\r\n  endOutline() {\r\n    if (this.children.length > 0) {\r\n      if (this.options.expanded) {\r\n        this.outlineData.Count = this.children.length;\r\n      }\r\n\r\n      const first = this.children[0],\r\n        last = this.children[this.children.length - 1];\r\n      this.outlineData.First = first.dictionary;\r\n      this.outlineData.Last = last.dictionary;\r\n\r\n      for (let i = 0, len = this.children.length; i < len; i++) {\r\n        const child = this.children[i];\r\n        if (i > 0) {\r\n          child.outlineData.Prev = this.children[i - 1].dictionary;\r\n        }\r\n        if (i < this.children.length - 1) {\r\n          child.outlineData.Next = this.children[i + 1].dictionary;\r\n        }\r\n        child.endOutline();\r\n      }\r\n    }\r\n\r\n    return this.dictionary.end();\r\n  }\r\n}\r\n\r\nexport default PDFOutline;\r\n","import PDFOutline from '../outline';\r\n\r\nexport default {\r\n  initOutline() {\r\n    return (this.outline = new PDFOutline(this, null, null, null));\r\n  },\r\n\r\n  endOutline() {\r\n    this.outline.endOutline();\r\n    if (this.outline.children.length > 0) {\r\n      this._root.data.Outlines = this.outline.dictionary;\r\n      return (this._root.data.PageMode = 'UseOutlines');\r\n    }\r\n  }\r\n};\r\n","/*\r\nPDFStructureContent - a reference to a marked structure content\r\nBy Ben Schmidt\r\n*/\r\n\r\nclass PDFStructureContent {\r\n  constructor(pageRef, mcid) {\r\n    this.refs = [{ pageRef, mcid }];\r\n  }\r\n\r\n  push(structContent) {\r\n    structContent.refs.forEach((ref) => this.refs.push(ref));\r\n  }\r\n}\r\n\r\nexport default PDFStructureContent;\r\n","/*\r\nPDFStructureElement - represents an element in the PDF logical structure tree\r\nBy Ben Schmidt\r\n*/\r\n\r\nimport PDFStructureContent from \"./structure_content\";\r\n\r\nclass PDFStructureElement {\r\n  constructor(document, type, options = {}, children = null) {\r\n    this.document = document;\r\n\r\n    this._attached = false;\r\n    this._ended = false;\r\n    this._flushed = false;\r\n    this.dictionary = document.ref({\r\n      // Type: \"StructElem\",\r\n      S: type\r\n    });\r\n\r\n    const data = this.dictionary.data;\r\n\r\n    if (Array.isArray(options) || this._isValidChild(options)) {\r\n      children = options;\r\n      options = {};\r\n    }\r\n\r\n    if (typeof options.title !== 'undefined') {\r\n      data.T = new String(options.title);\r\n    }\r\n    if (typeof options.lang !== 'undefined') {\r\n      data.Lang = new String(options.lang);\r\n    }\r\n    if (typeof options.alt !== 'undefined') {\r\n      data.Alt = new String(options.alt);\r\n    }\r\n    if (typeof options.expanded !== 'undefined') {\r\n      data.E = new String(options.expanded);\r\n    }\r\n    if (typeof options.actual !== 'undefined') {\r\n      data.ActualText = new String(options.actual);\r\n    }\r\n\r\n    this._children = [];\r\n\r\n    if (children) {\r\n      if (!Array.isArray(children)) {\r\n        children = [children];\r\n      }\r\n      children.forEach((child) => this.add(child));\r\n      this.end();\r\n    }\r\n  }\r\n\r\n  add(child) {\r\n    if (this._ended) {\r\n      throw new Error(`Cannot add child to already-ended structure element`);\r\n    }\r\n\r\n    if (!this._isValidChild(child)) {\r\n      throw new Error(`Invalid structure element child`);\r\n    }\r\n\r\n    if (child instanceof PDFStructureElement) {\r\n      child.setParent(this.dictionary);\r\n      if (this._attached) {\r\n        child.setAttached();\r\n      }\r\n    }\r\n\r\n    if (child instanceof PDFStructureContent) {\r\n      this._addContentToParentTree(child);\r\n    }\r\n\r\n    if (typeof child === 'function' && this._attached) {\r\n      // _contentForClosure() adds the content to the parent tree\r\n      child = this._contentForClosure(child);\r\n    }\r\n\r\n    this._children.push(child);\r\n\r\n    return this;\r\n  }\r\n\r\n  _addContentToParentTree(content) {\r\n    content.refs.forEach(({ pageRef, mcid }) => {\r\n      const pageStructParents = this.document.getStructParentTree()\r\n        .get(pageRef.data.StructParents);\r\n      pageStructParents[mcid] = this.dictionary;\r\n    });\r\n  }\r\n\r\n  setParent(parentRef) {\r\n    if (this.dictionary.data.P) {\r\n      throw new Error(`Structure element added to more than one parent`);\r\n    }\r\n\r\n    this.dictionary.data.P = parentRef;\r\n\r\n    this._flush();\r\n  }\r\n\r\n  setAttached() {\r\n    if (this._attached) {\r\n      return;\r\n    }\r\n\r\n    this._children.forEach((child, index) => {\r\n      if (child instanceof PDFStructureElement) {\r\n        child.setAttached();\r\n      }\r\n      if (typeof child === 'function') {\r\n        this._children[index] = this._contentForClosure(child);\r\n      }\r\n    });\r\n\r\n    this._attached = true;\r\n\r\n    this._flush();\r\n  }\r\n\r\n  end() {\r\n    if (this._ended) {\r\n      return;\r\n    }\r\n\r\n    this._children\r\n      .filter((child) => child instanceof PDFStructureElement)\r\n      .forEach((child) => child.end());\r\n\r\n    this._ended = true;\r\n\r\n    this._flush();\r\n  }\r\n\r\n  _isValidChild(child) {\r\n    return child instanceof PDFStructureElement ||\r\n        child instanceof PDFStructureContent ||\r\n        typeof child === 'function';\r\n  }\r\n\r\n  _contentForClosure(closure) {\r\n    const content = this.document.markStructureContent(this.dictionary.data.S);\r\n    closure();\r\n    this.document.endMarkedContent();\r\n\r\n    this._addContentToParentTree(content);\r\n\r\n    return content;\r\n  }\r\n\r\n  _isFlushable() {\r\n    if (!this.dictionary.data.P || !this._ended) {\r\n      return false;\r\n    }\r\n\r\n    return this._children.every((child) => {\r\n      if (typeof child === 'function') {\r\n        return false;\r\n      }\r\n      if (child instanceof PDFStructureElement) {\r\n        return child._isFlushable();\r\n      }\r\n      return true;\r\n    });\r\n  }\r\n\r\n  _flush() {\r\n    if (this._flushed || !this._isFlushable()) {\r\n      return;\r\n    }\r\n\r\n    this.dictionary.data.K = [];\r\n\r\n    this._children.forEach((child) => this._flushChild(child));\r\n\r\n    this.dictionary.end();\r\n\r\n    // free memory used by children; the dictionary itself may still be\r\n    // referenced by a parent structure element or root, but we can\r\n    // at least trim the tree here\r\n    this._children = [];\r\n    this.dictionary.data.K = null;\r\n\r\n    this._flushed = true;\r\n  }\r\n\r\n  _flushChild(child) {\r\n    if (child instanceof PDFStructureElement) {\r\n      this.dictionary.data.K.push(child.dictionary);\r\n    }\r\n\r\n    if (child instanceof PDFStructureContent) {\r\n      child.refs.forEach(({ pageRef, mcid }) => {\r\n        if (!this.dictionary.data.Pg) {\r\n          this.dictionary.data.Pg = pageRef;\r\n        }\r\n\r\n        if (this.dictionary.data.Pg === pageRef) {\r\n          this.dictionary.data.K.push(mcid);\r\n        } else {\r\n          this.dictionary.data.K.push({\r\n            Type: \"MCR\",\r\n            Pg: pageRef,\r\n            MCID: mcid\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default PDFStructureElement;\r\n","/*\r\nPDFNumberTree - represents a number tree object\r\n*/\r\n\r\nimport PDFTree from \"./tree\";\r\n\r\nclass PDFNumberTree extends PDFTree {\r\n  _compareKeys(a, b) {\r\n    return parseInt(a) - parseInt(b);\r\n  }\r\n\r\n  _keysName() {\r\n    return \"Nums\";\r\n  }\r\n\r\n  _dataForKey(k) {\r\n    return parseInt(k);\r\n  }\r\n}\r\n\r\nexport default PDFNumberTree;\r\n","/*\r\nMarkings mixin - support marked content sequences in content streams\r\nBy Ben Schmidt\r\n*/\r\n\r\nimport PDFStructureElement from \"../structure_element\";\r\nimport PDFStructureContent from \"../structure_content\";\r\nimport PDFNumberTree from \"../number_tree\";\r\nimport PDFObject from \"../object\";\r\n\r\nexport default {\r\n\r\n  initMarkings(options) {\r\n    this.structChildren = [];\r\n\r\n    if (options.tagged) {\r\n      this.getMarkingsDictionary().data.Marked = true;\r\n    }\r\n  },\r\n\r\n  markContent(tag, options = null) {\r\n    if (tag === 'Artifact' || (options && options.mcid)) {\r\n      let toClose = 0;\r\n      this.page.markings.forEach((marking) => {\r\n        if (toClose || marking.structContent || marking.tag === 'Artifact') {\r\n          toClose++;\r\n        }\r\n      });\r\n      while (toClose--) {\r\n        this.endMarkedContent();\r\n      }\r\n    }\r\n\r\n    if (!options) {\r\n      this.page.markings.push({ tag });\r\n      this.addContent(`/${tag} BMC`);\r\n      return this;\r\n    }\r\n\r\n    this.page.markings.push({ tag, options });\r\n\r\n    const dictionary = {};\r\n\r\n    if (typeof options.mcid !== 'undefined') {\r\n      dictionary.MCID = options.mcid;\r\n    }\r\n    if (tag === 'Artifact') {\r\n      if (typeof options.type === 'string') {\r\n        dictionary.Type = options.type;\r\n      }\r\n      if (Array.isArray(options.bbox)) {\r\n        dictionary.BBox = [options.bbox[0], this.page.height - options.bbox[3],\r\n          options.bbox[2], this.page.height - options.bbox[1]];\r\n      }\r\n      if (Array.isArray(options.attached) &&\r\n        options.attached.every(val => typeof val === 'string')) {\r\n        dictionary.Attached = options.attached;\r\n      }\r\n    }\r\n    if (tag === 'Span') {\r\n      if (options.lang) {\r\n        dictionary.Lang = new String(options.lang);\r\n      }\r\n      if (options.alt) {\r\n        dictionary.Alt = new String(options.alt);\r\n      }\r\n      if (options.expanded) {\r\n        dictionary.E = new String(options.expanded);\r\n      }\r\n      if (options.actual) {\r\n        dictionary.ActualText = new String(options.actual);\r\n      }\r\n    }\r\n\r\n    this.addContent(`/${tag} ${PDFObject.convert(dictionary)} BDC`);\r\n    return this;\r\n  },\r\n\r\n  markStructureContent(tag, options = {}) {\r\n    const pageStructParents = this.getStructParentTree().get(this.page.structParentTreeKey);\r\n    const mcid = pageStructParents.length;\r\n    pageStructParents.push(null);\r\n\r\n    this.markContent(tag, { ...options, mcid });\r\n\r\n    const structContent = new PDFStructureContent(this.page.dictionary, mcid);\r\n    this.page.markings.slice(-1)[0].structContent = structContent;\r\n    return structContent;\r\n  },\r\n\r\n  endMarkedContent() {\r\n    this.page.markings.pop();\r\n    this.addContent('EMC');\r\n    return this;\r\n  },\r\n\r\n  struct(type, options = {}, children = null) {\r\n    return new PDFStructureElement(this, type, options, children);\r\n  },\r\n\r\n  addStructure(structElem) {\r\n    const structTreeRoot = this.getStructTreeRoot();\r\n    structElem.setParent(structTreeRoot);\r\n    structElem.setAttached();\r\n    this.structChildren.push(structElem);\r\n    if (!structTreeRoot.data.K) {\r\n      structTreeRoot.data.K = [];\r\n    }\r\n    structTreeRoot.data.K.push(structElem.dictionary);\r\n    return this;\r\n  },\r\n\r\n  initPageMarkings(pageMarkings) {\r\n    pageMarkings.forEach((marking) => {\r\n      if (marking.structContent) {\r\n        const structContent = marking.structContent;\r\n        const newStructContent = this.markStructureContent(marking.tag, marking.options);\r\n        structContent.push(newStructContent);\r\n        this.page.markings.slice(-1)[0].structContent = structContent;\r\n      } else {\r\n        this.markContent(marking.tag, marking.options);\r\n      }\r\n    });\r\n  },\r\n\r\n  endPageMarkings(page) {\r\n    const pageMarkings = page.markings;\r\n    pageMarkings.forEach(() => page.write('EMC'));\r\n    page.markings = [];\r\n    return pageMarkings;\r\n  },\r\n\r\n  getMarkingsDictionary() {\r\n    if (!this._root.data.Markings) {\r\n      this._root.data.Markings = this.ref({});\r\n    }\r\n    return this._root.data.Markings;\r\n  },\r\n\r\n  getStructTreeRoot() {\r\n    if (!this._root.data.StructTreeRoot) {\r\n      this._root.data.StructTreeRoot = this.ref({\r\n        Type: \"StructTreeRoot\",\r\n        ParentTree: new PDFNumberTree(),\r\n        ParentTreeNextKey: 0\r\n      });\r\n    }\r\n    return this._root.data.StructTreeRoot;\r\n  },\r\n\r\n  getStructParentTree() {\r\n    return this.getStructTreeRoot().data.ParentTree;\r\n  },\r\n\r\n  createStructParentTreeNextKey() {\r\n    // initialise the Markings dictionary\r\n    this.getMarkingsDictionary();\r\n\r\n    const structTreeRoot = this.getStructTreeRoot();\r\n    const key = structTreeRoot.data.ParentTreeNextKey++;\r\n    structTreeRoot.data.ParentTree.add(key, []);\r\n    return key;\r\n  },\r\n\r\n  endMarkings() {\r\n    const structTreeRoot = this._root.data.StructTreeRoot;\r\n    if (structTreeRoot) {\r\n      structTreeRoot.end();\r\n      this.structChildren.forEach((structElem) => structElem.end());\r\n    }\r\n    if (this._root.data.Markings) {\r\n      this._root.data.Markings.end();\r\n    }\r\n  }\r\n\r\n};\r\n","const FIELD_FLAGS = {\r\n  readOnly: 1,\r\n  required: 2,\r\n  noExport: 4,\r\n  multiline: 0x1000,\r\n  password: 0x2000,\r\n  toggleToOffButton: 0x4000,\r\n  radioButton: 0x8000,\r\n  pushButton: 0x10000,\r\n  combo: 0x20000,\r\n  edit: 0x40000,\r\n  sort: 0x80000,\r\n  multiSelect: 0x200000,\r\n  noSpell: 0x400000\r\n};\r\nconst FIELD_JUSTIFY = {\r\n  left: 0,\r\n  center: 1,\r\n  right: 2\r\n};\r\nconst VALUE_MAP = { value: 'V', defaultValue: 'DV' };\r\nconst FORMAT_SPECIAL = {\r\n  zip: '0',\r\n  zipPlus4: '1',\r\n  zip4: '1',\r\n  phone: '2',\r\n  ssn: '3'\r\n};\r\nconst FORMAT_DEFAULT = {\r\n  number: {\r\n    nDec: 0,\r\n    sepComma: false,\r\n    negStyle: 'MinusBlack',\r\n    currency: '',\r\n    currencyPrepend: true\r\n  },\r\n  percent: {\r\n    nDec: 0,\r\n    sepComma: false\r\n  }\r\n};\r\n\r\nexport default {\r\n  /**\r\n   * Must call if adding AcroForms to a document. Must also call font() before\r\n   * this method to set the default font.\r\n   */\r\n  initForm() {\r\n    if (!this._font) {\r\n      throw new Error('Must set a font before calling initForm method');\r\n    }\r\n    this._acroform = {\r\n      fonts: {},\r\n      defaultFont: this._font.name\r\n    };\r\n    this._acroform.fonts[this._font.id] = this._font.ref();\r\n\r\n    let data = {\r\n      Fields: [],\r\n      NeedAppearances: true,\r\n      DA: new String(`/${this._font.id} 0 Tf 0 g`),\r\n      DR: {\r\n        Font: {}\r\n      }\r\n    };\r\n    data.DR.Font[this._font.id] = this._font.ref();\r\n    const AcroForm = this.ref(data);\r\n    this._root.data.AcroForm = AcroForm;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Called automatically by document.js\r\n   */\r\n  endAcroForm() {\r\n    if (this._root.data.AcroForm) {\r\n      if (\r\n        !Object.keys(this._acroform.fonts).length &&\r\n        !this._acroform.defaultFont\r\n      ) {\r\n        throw new Error('No fonts specified for PDF form');\r\n      }\r\n      let fontDict = this._root.data.AcroForm.data.DR.Font;\r\n      Object.keys(this._acroform.fonts).forEach(name => {\r\n        fontDict[name] = this._acroform.fonts[name];\r\n      });\r\n      this._root.data.AcroForm.data.Fields.forEach(fieldRef => {\r\n        this._endChild(fieldRef);\r\n      });\r\n      this._root.data.AcroForm.end();\r\n    }\r\n    return this;\r\n  },\r\n\r\n  _endChild(ref) {\r\n    if (Array.isArray(ref.data.Kids)) {\r\n      ref.data.Kids.forEach(childRef => {\r\n        this._endChild(childRef);\r\n      });\r\n      ref.end();\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Creates and adds a form field to the document. Form fields are intermediate\r\n   * nodes in a PDF form that are used to specify form name heirarchy and form\r\n   * value defaults.\r\n   * @param {string} name - field name (T attribute in field dictionary)\r\n   * @param {object} options  - other attributes to include in field dictionary\r\n   */\r\n  formField(name, options = {}) {\r\n    let fieldDict = this._fieldDict(name, null, options);\r\n    let fieldRef = this.ref(fieldDict);\r\n    this._addToParent(fieldRef);\r\n    return fieldRef;\r\n  },\r\n\r\n  /**\r\n   * Creates and adds a Form Annotation to the document. Form annotations are\r\n   * called Widget annotations internally within a PDF file.\r\n   * @param {string} name - form field name (T attribute of widget annotation\r\n   * dictionary)\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} w\r\n   * @param {number} h\r\n   * @param {object} options\r\n   */\r\n  formAnnotation(name, type, x, y, w, h, options = {}) {\r\n    let fieldDict = this._fieldDict(name, type, options);\r\n    fieldDict.Subtype = 'Widget';\r\n    if (fieldDict.F === undefined) {\r\n      fieldDict.F = 4; // print the annotation\r\n    }\r\n\r\n    // Add Field annot to page, and get it's ref\r\n    this.annotate(x, y, w, h, fieldDict);\r\n    let annotRef = this.page.annotations[this.page.annotations.length - 1];\r\n\r\n    return this._addToParent(annotRef);\r\n  },\r\n\r\n  formText(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'text', x, y, w, h, options);\r\n  },\r\n\r\n  formPushButton(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'pushButton', x, y, w, h, options);\r\n  },\r\n\r\n  formCombo(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'combo', x, y, w, h, options);\r\n  },\r\n\r\n  formList(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'list', x, y, w, h, options);\r\n  },\r\n\r\n  formRadioButton(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'radioButton', x, y, w, h, options);\r\n  },\r\n\r\n  formCheckbox(name, x, y, w, h, options = {}) {\r\n    return this.formAnnotation(name, 'checkbox', x, y, w, h, options);\r\n  },\r\n\r\n  _addToParent(fieldRef) {\r\n    let parent = fieldRef.data.Parent;\r\n    if (parent) {\r\n      if (!parent.data.Kids) {\r\n        parent.data.Kids = [];\r\n      }\r\n      parent.data.Kids.push(fieldRef);\r\n    } else {\r\n      this._root.data.AcroForm.data.Fields.push(fieldRef);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  _fieldDict(name, type, options = {}) {\r\n    if (!this._acroform) {\r\n      throw new Error(\r\n        'Call document.initForms() method before adding form elements to document'\r\n      );\r\n    }\r\n    let opts = Object.assign({}, options);\r\n    if (type !== null) {\r\n      opts = this._resolveType(type, options);\r\n    }\r\n    opts = this._resolveFlags(opts);\r\n    opts = this._resolveJustify(opts);\r\n    opts = this._resolveFont(opts);\r\n    opts = this._resolveStrings(opts);\r\n    opts = this._resolveColors(opts);\r\n    opts = this._resolveFormat(opts);\r\n    opts.T = new String(name);\r\n    if (opts.parent) {\r\n      opts.Parent = opts.parent;\r\n      delete opts.parent;\r\n    }\r\n    return opts;\r\n  },\r\n\r\n  _resolveType(type, opts) {\r\n    if (type === 'text') {\r\n      opts.FT = 'Tx';\r\n    } else if (type === 'pushButton') {\r\n      opts.FT = 'Btn';\r\n      opts.pushButton = true;\r\n    } else if (type === 'radioButton') {\r\n      opts.FT = 'Btn';\r\n      opts.radioButton = true;\r\n    } else if (type === 'checkbox') {\r\n      opts.FT = 'Btn';\r\n    } else if (type === 'combo') {\r\n      opts.FT = 'Ch';\r\n      opts.combo = true;\r\n    } else if (type === 'list') {\r\n      opts.FT = 'Ch';\r\n    } else {\r\n      throw new Error(`Invalid form annotation type '${type}'`);\r\n    }\r\n    return opts;\r\n  },\r\n\r\n  _resolveFormat(opts) {\r\n    const f = opts.format;\r\n    if (f && f.type) {\r\n      let fnKeystroke;\r\n      let fnFormat;\r\n      let params = '';\r\n      if (FORMAT_SPECIAL[f.type] !== undefined) {\r\n        fnKeystroke = `AFSpecial_Keystroke`;\r\n        fnFormat = `AFSpecial_Format`;\r\n        params = FORMAT_SPECIAL[f.type];\r\n      } else {\r\n        let format = f.type.charAt(0).toUpperCase() + f.type.slice(1);\r\n        fnKeystroke = `AF${format}_Keystroke`;\r\n        fnFormat = `AF${format}_Format`;\r\n\r\n        if (f.type === 'date') {\r\n          fnKeystroke += 'Ex';\r\n          params = String(f.param);\r\n        } else if (f.type === 'time') {\r\n          params = String(f.param);\r\n        } else if (f.type === 'number') {\r\n          let p = Object.assign({}, FORMAT_DEFAULT.number, f);\r\n          params = String(\r\n            [\r\n              String(p.nDec),\r\n              p.sepComma ? '0' : '1',\r\n              '\"' + p.negStyle + '\"',\r\n              'null',\r\n              '\"' + p.currency + '\"',\r\n              String(p.currencyPrepend)\r\n            ].join(',')\r\n          );\r\n        } else if (f.type === 'percent') {\r\n          let p = Object.assign({}, FORMAT_DEFAULT.percent, f);\r\n          params = String([String(p.nDec), p.sepComma ? '0' : '1'].join(','));\r\n        }\r\n      }\r\n      opts.AA = opts.AA ? opts.AA : {};\r\n      opts.AA.K = {\r\n        S: 'JavaScript',\r\n        JS: new String(`${fnKeystroke}(${params});`)\r\n      };\r\n      opts.AA.F = {\r\n        S: 'JavaScript',\r\n        JS: new String(`${fnFormat}(${params});`)\r\n      };\r\n    }\r\n    delete opts.format;\r\n    return opts;\r\n  },\r\n\r\n  _resolveColors(opts) {\r\n    let color = this._normalizeColor(opts.backgroundColor);\r\n    if (color) {\r\n      if (!opts.MK) {\r\n        opts.MK = {};\r\n      }\r\n      opts.MK.BG = color;\r\n    }\r\n    color = this._normalizeColor(opts.borderColor);\r\n    if (color) {\r\n      if (!opts.MK) {\r\n        opts.MK = {};\r\n      }\r\n      opts.MK.BC = color;\r\n    }\r\n    delete opts.backgroundColor;\r\n    delete opts.borderColor;\r\n    return opts;\r\n  },\r\n\r\n  _resolveFlags(options) {\r\n    let result = 0;\r\n    Object.keys(options).forEach(key => {\r\n      if (FIELD_FLAGS[key]) {\r\n        result |= FIELD_FLAGS[key];\r\n        delete options[key];\r\n      }\r\n    });\r\n    if (result !== 0) {\r\n      options.Ff = options.Ff ? options.Ff : 0;\r\n      options.Ff |= result;\r\n    }\r\n    return options;\r\n  },\r\n\r\n  _resolveJustify(options) {\r\n    let result = 0;\r\n    if (options.align !== undefined) {\r\n      if (typeof FIELD_JUSTIFY[options.align] === 'number') {\r\n        result = FIELD_JUSTIFY[options.align];\r\n      }\r\n      delete options.align;\r\n    }\r\n    if (result !== 0) {\r\n      options.Q = result; // default\r\n    }\r\n    return options;\r\n  },\r\n\r\n  _resolveFont(options) {\r\n    // add current font to document-level AcroForm dict if necessary\r\n    if (this._acroform.fonts[this._font.id] === null) {\r\n      this._acroform.fonts[this._font.id] = this._font.ref();\r\n    }\r\n\r\n    // add current font to field's resource dict (RD) if not the default acroform font\r\n    if (this._acroform.defaultFont !== this._font.name) {\r\n      options.DR = { Font: {} };\r\n      options.DR.Font[this._font.id] = this._font.ref();\r\n      options.DA = new String(`/${this._font.id} 0 Tf 0 g`);\r\n    }\r\n    return options;\r\n  },\r\n\r\n  _resolveStrings(options) {\r\n    let select = [];\r\n    function appendChoices(a) {\r\n      if (Array.isArray(a)) {\r\n        for (let idx = 0; idx < a.length; idx++) {\r\n          if (typeof a[idx] === 'string') {\r\n            select.push(new String(a[idx]));\r\n          } else {\r\n            select.push(a[idx]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    appendChoices(options.Opt);\r\n    if (options.select) {\r\n      appendChoices(options.select);\r\n      delete options.select;\r\n    }\r\n    if (select.length) {\r\n      options.Opt = select;\r\n    }\r\n\r\n    Object.keys(VALUE_MAP).forEach(key => {\r\n      if (options[key] !== undefined) {\r\n        options[VALUE_MAP[key]] = options[key];\r\n        delete options[key];\r\n      }\r\n    });\r\n    ['V', 'DV'].forEach(key => {\r\n      if (typeof options[key] === 'string') {\r\n        options[key] = new String(options[key]);\r\n      }\r\n    });\r\n\r\n    if (options.MK && options.MK.CA) {\r\n      options.MK.CA = new String(options.MK.CA);\r\n    }\r\n    if (options.label) {\r\n      options.MK = options.MK ? options.MK : {};\r\n      options.MK.CA = new String(options.label);\r\n      delete options.label;\r\n    }\r\n    return options;\r\n  }\r\n};\r\n","import fs from 'fs';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nexport default {\r\n  /**\r\n   * Embed contents of `src` in PDF\r\n   * @param {Buffer | ArrayBuffer | string} src input Buffer, ArrayBuffer, base64 encoded string or path to file\r\n   * @param {object} options\r\n   *  * options.name: filename to be shown in PDF, will use `src` if none set\r\n   *  * options.type: filetype to be shown in PDF\r\n   *  * options.description: description to be shown in PDF\r\n   *  * options.hidden: if true, do not add attachment to EmbeddedFiles dictionary. Useful for file attachment annotations\r\n   *  * options.creationDate: override creation date\r\n   *  * options.modifiedDate: override modified date\r\n   * @returns filespec reference\r\n   */\r\n  file(src, options = {}) {\r\n    options.name = options.name || src;\r\n\r\n    const refBody = {\r\n      Type: 'EmbeddedFile',\r\n      Params: {}\r\n    };\r\n    let data;\r\n\r\n    if (!src) {\r\n      throw new Error('No src specified');\r\n    }\r\n    if (Buffer.isBuffer(src)) {\r\n      data = src;\r\n    } else if (src instanceof ArrayBuffer) {\r\n      data = Buffer.from(new Uint8Array(src));\r\n    } else {\r\n      let match;\r\n      if ((match = /^data:(.*);base64,(.*)$/.exec(src))) {\r\n        if (match[1]) {\r\n          refBody.Subtype = match[1].replace('/', '#2F');\r\n        }\r\n        data = Buffer.from(match[2], 'base64');\r\n      } else {\r\n        data = fs.readFileSync(src);\r\n        if (!data) {\r\n          throw new Error(`Could not read contents of file at filepath ${src}`);\r\n        }\r\n\r\n        // update CreationDate and ModDate\r\n        const { birthtime, ctime } = fs.statSync(src);\r\n        refBody.Params.CreationDate = birthtime;\r\n        refBody.Params.ModDate = ctime;\r\n      }\r\n    }\r\n\r\n    // override creation date and modified date\r\n    if (options.creationDate instanceof Date) {\r\n      refBody.Params.CreationDate = options.creationDate;\r\n    }\r\n    if (options.modifiedDate instanceof Date) {\r\n      refBody.Params.ModDate = options.modifiedDate;\r\n    }\r\n    // add optional subtype\r\n    if (options.type) {\r\n      refBody.Subtype = options.type.replace('/', '#2F');\r\n    }\r\n\r\n    // add checksum and size information\r\n    const checksum = CryptoJS.MD5(\r\n      CryptoJS.lib.WordArray.create(new Uint8Array(data))\r\n    );\r\n    refBody.Params.CheckSum = new String(checksum);\r\n    refBody.Params.Size = data.byteLength;\r\n\r\n    // save some space when embedding the same file again\r\n    // if a file with the same name and metadata exists, reuse its reference\r\n    let ref;\r\n    if (!this._fileRegistry) this._fileRegistry = {};\r\n    let file = this._fileRegistry[options.name];\r\n    if (file && isEqual(refBody, file)) {\r\n      ref = file.ref;\r\n    } else {\r\n      ref = this.ref(refBody);\r\n      ref.end(data);\r\n\r\n      this._fileRegistry[options.name] = { ...refBody, ref };\r\n    }\r\n    // add filespec for embedded file\r\n    const fileSpecBody = {\r\n      Type: 'Filespec',\r\n      F: new String(options.name),\r\n      EF: { F: ref },\r\n      UF: new String(options.name)\r\n    };\r\n    if (options.description) {\r\n      fileSpecBody.Desc = new String(options.description);\r\n    }\r\n    const filespec = this.ref(fileSpecBody);\r\n    filespec.end();\r\n\r\n    if (!options.hidden) {\r\n      this.addNamedEmbeddedFile(options.name, filespec);\r\n    }\r\n\r\n    return filespec;\r\n  }\r\n};\r\n\r\n/** check two embedded file metadata objects for equality */\r\nfunction isEqual(a, b) {\r\n  if (\r\n    a.Subtype !== b.Subtype ||\r\n    a.Params.CheckSum.toString() !== b.Params.CheckSum.toString() ||\r\n    a.Params.Size !== b.Params.Size ||\r\n    a.Params.CreationDate !== b.Params.CreationDate ||\r\n    a.Params.ModDate !== b.Params.ModDate\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","/*\r\nPDFDocument - represents an entire PDF document\r\nBy Devon Govett\r\n*/\r\n\r\nimport stream from 'stream';\r\nimport fs from 'fs';\r\nimport PDFObject from './object';\r\nimport PDFReference from './reference';\r\nimport PDFPage from './page';\r\nimport PDFNameTree from './name_tree';\r\nimport PDFSecurity from './security';\r\nimport ColorMixin from './mixins/color';\r\nimport VectorMixin from './mixins/vector';\r\nimport FontsMixin from './mixins/fonts';\r\nimport TextMixin from './mixins/text';\r\nimport ImagesMixin from './mixins/images';\r\nimport AnnotationsMixin from './mixins/annotations';\r\nimport OutlineMixin from './mixins/outline';\r\nimport MarkingsMixin from './mixins/markings';\r\nimport AcroFormMixin from './mixins/acroform';\r\nimport AttachmentsMixin from './mixins/attachments';\r\nimport LineWrapper from './line_wrapper';\r\n\r\nclass PDFDocument extends stream.Readable {\r\n  constructor(options = {}) {\r\n    super(options);\r\n    this.options = options;\r\n\r\n    // PDF version\r\n    switch (options.pdfVersion) {\r\n      case '1.4':\r\n        this.version = 1.4;\r\n        break;\r\n      case '1.5':\r\n        this.version = 1.5;\r\n        break;\r\n      case '1.6':\r\n        this.version = 1.6;\r\n        break;\r\n      case '1.7':\r\n      case '1.7ext3':\r\n        this.version = 1.7;\r\n        break;\r\n      default:\r\n        this.version = 1.3;\r\n        break;\r\n    }\r\n\r\n    // Whether streams should be compressed\r\n    this.compress =\r\n      this.options.compress != null ? this.options.compress : true;\r\n\r\n    this._pageBuffer = [];\r\n    this._pageBufferStart = 0;\r\n\r\n    // The PDF object store\r\n    this._offsets = [];\r\n    this._waiting = 0;\r\n    this._ended = false;\r\n    this._offset = 0;\r\n    const Pages = this.ref({\r\n      Type: 'Pages',\r\n      Count: 0,\r\n      Kids: []\r\n    });\r\n\r\n    const Names = this.ref({\r\n      Dests: new PDFNameTree()\r\n    });\r\n\r\n    this._root = this.ref({\r\n      Type: 'Catalog',\r\n      Pages,\r\n      Names\r\n    });\r\n\r\n    if (this.options.lang) {\r\n      this._root.data.Lang = new String(this.options.lang);\r\n    }\r\n\r\n    // The current page\r\n    this.page = null;\r\n\r\n    // Initialize mixins\r\n    this.initColor();\r\n    this.initVector();\r\n    this.initFonts(options.font);\r\n    this.initText();\r\n    this.initImages();\r\n    this.initOutline();\r\n    this.initMarkings(options);\r\n\r\n    // Initialize the metadata\r\n    this.info = {\r\n      Producer: 'PDFKit',\r\n      Creator: 'PDFKit',\r\n      CreationDate: new Date()\r\n    };\r\n\r\n    if (this.options.info) {\r\n      for (let key in this.options.info) {\r\n        const val = this.options.info[key];\r\n        this.info[key] = val;\r\n      }\r\n    }\r\n\r\n    if (this.options.displayTitle) {\r\n      this._root.data.ViewerPreferences = this.ref({\r\n        DisplayDocTitle: true\r\n      });\r\n    }\r\n\r\n    // Generate file ID\r\n    this._id = PDFSecurity.generateFileID(this.info);\r\n\r\n    // Initialize security settings\r\n    this._security = PDFSecurity.create(this, options);\r\n\r\n    // Write the header\r\n    // PDF version\r\n    this._write(`%PDF-${this.version}`);\r\n\r\n    // 4 binary chars, as recommended by the spec\r\n    this._write('%\\xFF\\xFF\\xFF\\xFF');\r\n\r\n    // Add the first page\r\n    if (this.options.autoFirstPage !== false) {\r\n      this.addPage();\r\n    }\r\n  }\r\n\r\n  addPage(options) {\r\n    if (options == null) {\r\n      ({ options } = this);\r\n    }\r\n\r\n    // end the current page if needed\r\n    if (!this.options.bufferPages) {\r\n      this.flushPages();\r\n    }\r\n\r\n    // create a page object\r\n    this.page = new PDFPage(this, options);\r\n    this._pageBuffer.push(this.page);\r\n\r\n    // add the page to the object store\r\n    const pages = this._root.data.Pages.data;\r\n    pages.Kids.push(this.page.dictionary);\r\n    pages.Count++;\r\n\r\n    // reset x and y coordinates\r\n    this.x = this.page.margins.left;\r\n    this.y = this.page.margins.top;\r\n\r\n    // flip PDF coordinate system so that the origin is in\r\n    // the top left rather than the bottom left\r\n    this._ctm = [1, 0, 0, 1, 0, 0];\r\n    this.transform(1, 0, 0, -1, 0, this.page.height);\r\n\r\n    this.emit('pageAdded');\r\n\r\n    return this;\r\n  }\r\n\r\n  continueOnNewPage(options) {\r\n    const pageMarkings = this.endPageMarkings(this.page);\r\n\r\n    this.addPage(options);\r\n\r\n    this.initPageMarkings(pageMarkings);\r\n\r\n    return this;\r\n  }\r\n\r\n  bufferedPageRange() {\r\n    return { start: this._pageBufferStart, count: this._pageBuffer.length };\r\n  }\r\n\r\n  switchToPage(n) {\r\n    let page;\r\n    if (!(page = this._pageBuffer[n - this._pageBufferStart])) {\r\n      throw new Error(\r\n        `switchToPage(${n}) out of bounds, current buffer covers pages ${\r\n          this._pageBufferStart\r\n        } to ${this._pageBufferStart + this._pageBuffer.length - 1}`\r\n      );\r\n    }\r\n\r\n    return (this.page = page);\r\n  }\r\n\r\n  flushPages() {\r\n    // this local variable exists so we're future-proof against\r\n    // reentrant calls to flushPages.\r\n    const pages = this._pageBuffer;\r\n    this._pageBuffer = [];\r\n    this._pageBufferStart += pages.length;\r\n    for (let page of pages) {\r\n      this.endPageMarkings(page);\r\n      page.end();\r\n    }\r\n  }\r\n\r\n  addNamedDestination(name, ...args) {\r\n    if (args.length === 0) {\r\n      args = ['XYZ', null, null, null];\r\n    }\r\n    if (args[0] === 'XYZ' && args[2] !== null) {\r\n      args[2] = this.page.height - args[2];\r\n    }\r\n    args.unshift(this.page.dictionary);\r\n    this._root.data.Names.data.Dests.add(name, args);\r\n  }\r\n\r\n  addNamedEmbeddedFile(name, ref) {\r\n    if (!this._root.data.Names.data.EmbeddedFiles) {\r\n      // disabling /Limits for this tree fixes attachments not showing in Adobe Reader\r\n      this._root.data.Names.data.EmbeddedFiles = new PDFNameTree({ limits: false });\r\n    }\r\n\r\n    // add filespec to EmbeddedFiles\r\n    this._root.data.Names.data.EmbeddedFiles.add(name, ref);\r\n  }\r\n\r\n  addNamedJavaScript(name, js) {\r\n    if (!this._root.data.Names.data.JavaScript) {\r\n      this._root.data.Names.data.JavaScript = new PDFNameTree();\r\n    }\r\n    let data = {\r\n      JS: new String(js),\r\n      S: 'JavaScript'\r\n    };\r\n    this._root.data.Names.data.JavaScript.add(name, data);\r\n  }\r\n\r\n  ref(data) {\r\n    const ref = new PDFReference(this, this._offsets.length + 1, data);\r\n    this._offsets.push(null); // placeholder for this object's offset once it is finalized\r\n    this._waiting++;\r\n    return ref;\r\n  }\r\n\r\n  _read() {}\r\n  // do nothing, but this method is required by node\r\n\r\n  _write(data) {\r\n    if (!Buffer.isBuffer(data)) {\r\n      data = Buffer.from(data + '\\n', 'binary');\r\n    }\r\n\r\n    this.push(data);\r\n    return (this._offset += data.length);\r\n  }\r\n\r\n  addContent(data) {\r\n    this.page.write(data);\r\n    return this;\r\n  }\r\n\r\n  _refEnd(ref) {\r\n    this._offsets[ref.id - 1] = ref.offset;\r\n    if (--this._waiting === 0 && this._ended) {\r\n      this._finalize();\r\n      return (this._ended = false);\r\n    }\r\n  }\r\n\r\n  write(filename, fn) {\r\n    // print a deprecation warning with a stacktrace\r\n    const err = new Error(`\\\r\nPDFDocument#write is deprecated, and will be removed in a future version of PDFKit. \\\r\nPlease pipe the document into a Node stream.\\\r\n`);\r\n\r\n    console.warn(err.stack);\r\n\r\n    this.pipe(fs.createWriteStream(filename));\r\n    this.end();\r\n    return this.once('end', fn);\r\n  }\r\n\r\n  end() {\r\n    this.flushPages();\r\n    this._info = this.ref();\r\n    for (let key in this.info) {\r\n      let val = this.info[key];\r\n      if (typeof val === 'string') {\r\n        val = new String(val);\r\n      }\r\n\r\n      let entry = this.ref(val);\r\n      entry.end();\r\n\r\n      this._info.data[key] = entry;\r\n    }\r\n\r\n    this._info.end();\r\n\r\n    for (let name in this._fontFamilies) {\r\n      const font = this._fontFamilies[name];\r\n      font.finalize();\r\n    }\r\n\r\n    this.endOutline();\r\n    this.endMarkings();\r\n\r\n    this._root.end();\r\n    this._root.data.Pages.end();\r\n    this._root.data.Names.end();\r\n    this.endAcroForm();\r\n\r\n    if (this._root.data.ViewerPreferences) {\r\n      this._root.data.ViewerPreferences.end();\r\n    }\r\n\r\n    if (this._security) {\r\n      this._security.end();\r\n    }\r\n\r\n    if (this._waiting === 0) {\r\n      return this._finalize();\r\n    } else {\r\n      return (this._ended = true);\r\n    }\r\n  }\r\n\r\n  _finalize() {\r\n    // generate xref\r\n    const xRefOffset = this._offset;\r\n    this._write('xref');\r\n    this._write(`0 ${this._offsets.length + 1}`);\r\n    this._write('0000000000 65535 f ');\r\n\r\n    for (let offset of this._offsets) {\r\n      offset = `0000000000${offset}`.slice(-10);\r\n      this._write(offset + ' 00000 n ');\r\n    }\r\n\r\n    // trailer\r\n    const trailer = {\r\n      Size: this._offsets.length + 1,\r\n      Root: this._root,\r\n      Info: this._info,\r\n      ID: [this._id, this._id]\r\n    };\r\n    if (this._security) {\r\n      trailer.Encrypt = this._security.dictionary;\r\n    }\r\n\r\n    this._write('trailer');\r\n    this._write(PDFObject.convert(trailer));\r\n\r\n    this._write('startxref');\r\n    this._write(`${xRefOffset}`);\r\n    this._write('%%EOF');\r\n\r\n    // end the stream\r\n    return this.push(null);\r\n  }\r\n\r\n  toString() {\r\n    return '[object PDFDocument]';\r\n  }\r\n}\r\n\r\nconst mixin = methods => {\r\n  Object.assign(PDFDocument.prototype, methods);\r\n};\r\n\r\nmixin(ColorMixin);\r\nmixin(VectorMixin);\r\nmixin(FontsMixin);\r\nmixin(TextMixin);\r\nmixin(ImagesMixin);\r\nmixin(AnnotationsMixin);\r\nmixin(OutlineMixin);\r\nmixin(MarkingsMixin);\r\nmixin(AcroFormMixin);\r\nmixin(AttachmentsMixin);\r\n\r\nPDFDocument.LineWrapper = LineWrapper;\r\n\r\nexport default PDFDocument;\r\n"],"names":["PDFAbstractReference","Error","PDFTree","options","_items","limits","key","val","sortedKeys","Object","keys","sort","a","b","_compareKeys","out","length","first","last","push","PDFObject","convert","_dataForKey","_keysName","join","pad","str","Array","slice","escapableRe","escapable","swapBytes","buff","l","i","end","object","encryptFn","String","string","isUnicode","charCodeAt","stringBuffer","Buffer","from","valueOf","toString","replace","c","isBuffer","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","isArray","items","map","e","call","number","n","Math","round","PDFReference","document","id","data","gen","compress","Filter","uncompressedLength","buffer","chunk","Length","write","finalize","offset","_offset","_security","getEncryptFn","concat","zlib","deflateSync","_write","_refEnd","DEFAULT_MARGINS","top","left","bottom","right","SIZES","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","PDFPage","size","layout","margin","margins","dimensions","toUpperCase","width","height","content","ref","resources","ProcSet","dictionary","Type","Parent","_root","Pages","MediaBox","Contents","Resources","markings","Font","XObject","ExtGState","Pattern","Annots","StructParents","createStructParentTreeNextKey","PDFNameTree","localeCompare","k","inRange","value","rangeGroup","startRange","endRange","middleRange","floor","arrayIndex","unassigned_code_points","isUnassignedCodePoint","character","commonly_mapped_to_nothing","isCommonlyMappedToNothing","non_ASCII_space_characters","isNonASCIISpaceCharacter","non_ASCII_controls_characters","non_character_codepoints","prohibited_characters","isProhibitedCharacter","bidirectional_r_al","isBidirectionalRAL","bidirectional_l","isBidirectionalL","mapping2space","mapping2nothing","getCodePoint","codePointAt","x","toCodePoints","input","codepoints","before","next","saslprep","opts","TypeError","mapped_input","filter","normalized_input","fromCodePoint","apply","normalize","normalized_map","hasProhibited","some","allowUnassigned","hasUnassigned","hasBidiRAL","hasBidiL","isFirstBidiRAL","isLastBidiRAL","PDFSecurity","info","infoStr","CreationDate","getTime","hasOwnProperty","wordArrayToBuffer","CryptoJS","MD5","bytes","lib","WordArray","random","ownerPassword","userPassword","_setupEncryption","pdfVersion","version","encDict","_setupEncryptionV1V2V4","_setupEncryptionV5","v","r","permissions","keyBits","getPermissionsR2","getPermissionsR3","paddedUserPassword","processPasswordR2R3R4","paddedOwnerPassword","ownerPasswordEntry","getOwnerPasswordR2R3R4","encryptionKey","getEncryptionKeyR2R3R4","_id","userPasswordEntry","getUserPasswordR2","getUserPasswordR3R4","V","CF","StdCF","AuthEvent","CFM","StmF","StrF","R","O","U","P","processedUserPassword","processPasswordR5","processedOwnerPassword","getEncryptionKeyR5","generateRandomWordArray","getUserPasswordR5","userKeySalt","create","words","userEncryptionKeyEntry","getUserEncryptionKeyR5","getOwnerPasswordR5","ownerKeySalt","ownerEncryptionKeyEntry","getOwnerEncryptionKeyR5","permsEntry","getEncryptedPermissionsR5","OE","UE","Perms","obj","digest","clone","sigBytes","min","RC4","encrypt","ciphertext","iv","mode","CBC","padding","Pkcs7","AES","permissionObject","printing","modifying","copying","annotating","fillingForms","contentAccessibility","documentAssembly","documentId","cipher","xorRound","ceil","j","lsbFirstWord","validationSalt","keySalt","SHA256","NoPadding","ECB","password","alloc","index","code","PASSWORD_PADDING","unescape","encodeURIComponent","wordArray","byteArray","PDFGradient","doc","stops","embedded","transform","pos","color","opacity","_normalizeColor","_colorSpace","max","m11","m12","m21","m22","dx","dy","m","fn","stopsLength","matrix","bounds","encode","FunctionType","Domain","N","Functions","Bounds","Encode","_gradCount","shader","pattern","PatternType","Shading","Matrix","stop","grad","opacityGradient","embed","pageBBox","page","form","Subtype","FormType","BBox","Group","S","CS","Sh1","gstate","SMask","G","opacityPattern","PaintType","TilingType","XStep","YStep","Gs1","patterns","op","_ctm","m0","m1","m2","m3","m4","m5","addContent","PDFLinearGradient","x1","y1","x2","y2","ShadingType","ColorSpace","Coords","Function","Extend","PDFRadialGradient","r1","r2","Gradient","initColor","_opacityRegistry","_opacityCount","charAt","hex","parseInt","namedColors","part","_setColor","stroke","_setColorSpace","space","fillColor","set","fillOpacity","_fillColor","strokeColor","strokeOpacity","_doOpacity","name","ca","CA","ext_gstates","linearGradient","radialGradient","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","cx","cy","px","py","sx","sy","parameters","A","C","H","h","L","M","Q","q","s","T","t","Z","z","parse","path","cmd","ret","args","curArg","foundDecimal","params","includes","commands","runners","moveTo","bezierCurveTo","quadraticCurveTo","solveArc","lineTo","closePath","y","coords","rx","ry","rot","large","sweep","ex","ey","segs","arcToSegments","seg","bez","segmentToBezier","rotateX","ox","oy","th","PI","sin_th","sin","cos_th","cos","abs","pl","sqrt","a00","a01","a10","a11","x0","y0","d","sfactor_sq","sfactor","xc","yc","th0","atan2","th1","th_arc","segments","result","th2","th3","th_half","x3","y3","SVGPath","KAPPA","initVector","_ctmStack","save","restore","pop","lineWidth","w","_CAP_STYLES","BUTT","ROUND","SQUARE","lineCap","_JOIN_STYLES","MITER","BEVEL","lineJoin","miterLimit","dash","originalLength","valid","every","Number","isFinite","JSON","stringify","phase","undash","cp1x","cp1y","cp2x","cp2y","cpx","cpy","rect","roundedRect","ellipse","xe","ye","xm","ym","circle","radius","arc","startAngle","endAngle","anticlockwise","TWO_PI","HALF_PI","deltaAng","dir","numSegs","segAng","handleLen","curAng","deltaCx","deltaCy","ax","ay","segIdx","polygon","points","shift","point","_windingRule","rule","test","fill","fillAndStroke","isFillRule","clip","values","translate","rotate","angle","rad","origin","scale","xFactor","yFactor","WIN_ANSI_MAP","characters","split","AFMFont","filename","fs","readFileSync","contents","attributes","glyphWidths","boundingBoxes","kernPairs","charWidths","char","bbox","ascender","descender","xHeight","capHeight","lineGap","section","line","match","text","res","len","glyphs","charCode","characterToGlyph","glyph","advances","widthOfGlyph","getKernPair","PDFFont","includeGap","gap","STANDARD_FONTS","Courier","__dirname","Helvetica","Symbol","ZapfDingbats","StandardFont","font","BaseFont","Encoding","encoded","encodeText","glyphsForString","advancesForGlyphs","positions","xAdvance","yAdvance","xOffset","yOffset","advanceWidth","advance","toHex","num","EmbeddedFont","subset","createSubset","unicode","widths","getGlyph","postscriptName","unitsPerEm","ascent","descent","fontLayoutCache","layoutCache","features","run","position","layoutRun","cached","onlyWidth","needle","layoutCached","gid","includeGlyph","codePoints","isCFF","cff","fontFile","encodeStream","on","familyClass","sFamilyClass","undefined","flags","post","isFixedPitch","head","macStyle","italic","tag","fromCharCode","descriptor","FontName","Flags","FontBBox","minX","minY","maxX","maxY","ItalicAngle","italicAngle","Ascent","Descent","CapHeight","XHeight","StemV","FontFile3","FontFile2","descendantFontData","CIDSystemInfo","Registry","Ordering","Supplement","FontDescriptor","W","CIDToGIDMap","descendantFont","DescendantFonts","ToUnicode","toUnicodeCmap","cmap","entries","PDFFontFactory","src","family","isStandardFont","fontkit","Uint8Array","ArrayBuffer","initFonts","defaultFont","_fontFamilies","_fontCount","_fontSize","_font","_registeredFonts","cacheKey","fontSize","open","currentLineHeight","lineHeight","registerFont","LineWrapper","indent","characterSpacing","wordSpacing","columns","columnGap","spaceLeft","startX","startY","column","ellipsis","continuedX","once","continued","align","lastLine","paragraphGap","word","widthOfString","bk","breaker","LineBreaker","wordWidths","nextBreak","shouldContinue","wordWidth","lbk","fbk","mightGrow","mustShrink","required","nextY","nextSection","textWidth","wc","lc","emitLine","wordCount","emit","eachWord","lh","continueOnNewPage","EventEmitter","initText","_line","bind","_lineGap","moveDown","lines","moveUp","_text","lineCallback","_initOptions","addStructure","structParent","add","struct","structType","markStructureContent","wrapper","_wrapper","_textOptions","wrap","heightOfString","Infinity","list","listType","unit","midLine","bulletRadius","textIndent","itemIndent","bulletIndent","level","levels","numbers","flatten","item","label","letter","times","itemType","labelType","bodyType","structTypes","diff","_fragment","assign","lineBreak","trim","spaceWidth","baseline","renderedWidth","link","goTo","destination","addNamedDestination","underline","strike","lineY","oblique","skew","fonts","encodedWord","positionsWord","hadOffset","addSegment","cur","flush","MARKERS","COLOR_SPACE_MAP","JPEG","marker","readUInt16BE","bits","channels","colorSpace","BitsPerComponent","Width","Height","PNGImage","image","PNG","imgData","dataDecoded","hasAlphaChannel","isInterlaced","interlaceMethod","Predictor","Colors","colors","Columns","palette","transparency","grayscale","rgb","mask","indexed","loadIndexedAlphaChannel","splitAlphaChannel","decodeData","alphaChannel","sMask","Decode","decodePixels","pixels","p","colorCount","pixelCount","skipByteCount","colorIndex","PDFImage","exec","initImages","_imageRegistry","_imageCount","bh","bp","bw","ip","left1","openImage","xobjects","wp","hp","fit","cover","valign","annotate","Rect","_convertRect","Border","F","Dest","annotations","note","Name","D","url","pages","Kids","URI","_markup","QuadPoints","highlight","lineAnnotation","rectAnnotation","ellipseAnnotation","textAnnotation","DA","fileAnnotation","file","filespec","hidden","FS","Desc","PDFOutline","parent","title","dest","expanded","outlineData","children","Count","First","Last","child","Prev","Next","endOutline","initOutline","outline","Outlines","PageMode","PDFStructureContent","pageRef","mcid","refs","structContent","forEach","PDFStructureElement","type","_attached","_ended","_flushed","_isValidChild","lang","Lang","alt","Alt","E","actual","ActualText","_children","setParent","setAttached","_addContentToParentTree","_contentForClosure","pageStructParents","getStructParentTree","get","parentRef","_flush","closure","endMarkedContent","_isFlushable","K","_flushChild","Pg","MCID","PDFNumberTree","initMarkings","structChildren","tagged","getMarkingsDictionary","Marked","markContent","toClose","marking","attached","Attached","structParentTreeKey","structElem","structTreeRoot","getStructTreeRoot","initPageMarkings","pageMarkings","newStructContent","endPageMarkings","Markings","StructTreeRoot","ParentTree","ParentTreeNextKey","endMarkings","FIELD_FLAGS","readOnly","noExport","multiline","toggleToOffButton","radioButton","pushButton","combo","edit","multiSelect","noSpell","FIELD_JUSTIFY","center","VALUE_MAP","defaultValue","FORMAT_SPECIAL","zip","zipPlus4","zip4","phone","ssn","FORMAT_DEFAULT","nDec","sepComma","negStyle","currency","currencyPrepend","percent","initForm","_acroform","Fields","NeedAppearances","DR","AcroForm","endAcroForm","fontDict","fieldRef","_endChild","childRef","formField","fieldDict","_fieldDict","_addToParent","formAnnotation","annotRef","formText","formPushButton","formCombo","formList","formRadioButton","formCheckbox","_resolveType","_resolveFlags","_resolveJustify","_resolveFont","_resolveStrings","_resolveColors","_resolveFormat","FT","f","format","fnKeystroke","fnFormat","param","AA","JS","backgroundColor","MK","BG","borderColor","BC","Ff","select","appendChoices","idx","Opt","refBody","Params","statSync","birthtime","ctime","ModDate","creationDate","modifiedDate","checksum","CheckSum","Size","byteLength","_fileRegistry","isEqual","fileSpecBody","EF","UF","description","addNamedEmbeddedFile","PDFDocument","_pageBuffer","_pageBufferStart","_offsets","_waiting","Names","Dests","Producer","Creator","displayTitle","ViewerPreferences","DisplayDocTitle","generateFileID","autoFirstPage","addPage","bufferPages","flushPages","start","count","unshift","EmbeddedFiles","js","JavaScript","_finalize","err","console","warn","stack","pipe","createWriteStream","_info","entry","xRefOffset","trailer","Root","Info","ID","Encrypt","stream","Readable","mixin","methods","prototype","ColorMixin","VectorMixin","FontsMixin","TextMixin","ImagesMixin","AnnotationsMixin","OutlineMixin","MarkingsMixin","AcroFormMixin","AttachmentsMixin"],"mappings":"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"}